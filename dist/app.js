!function(t){function e(e){for(var a,s,l=e[0],r=e[1],d=e[2],u=0,h=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);for(c&&c(e);h.length;)h.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,l=1;l<n.length;l++){var r=n[l];0!==i[r]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={0:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window.webpackJsonp=window.webpackJsonp||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var c=r;o.push([3,1]),n()}([,,,function(t,e,n){t.exports=n(11)},function(t,e,n){},function(t,e){t.exports='<h2 id="component-documentation">Component documentation</h2>\n<p><em>Add component specific documentation here.</em></p>\n<h3 id="tests-and-accessibility-status">Tests and accessibility status</h3>\n<p>The accessibility-ready status of this component is: untested.</p>\n<ul>\n<li><input disabled="" type="checkbox"> Keyboard-only</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (macOS)</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (iOS)</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (iPadOS)</li>\n<li><input disabled="" type="checkbox"> Talkback &amp; Chrome (Android)</li>\n<li><input disabled="" type="checkbox"> Narrator &amp; Edge (Windows)</li>\n<li><input disabled="" type="checkbox"> NVDA &amp; Firefox (Windows)</li>\n<li><input disabled="" type="checkbox"> Windows High Contrast mode</li>\n</ul>\n<h3 id="html">HTML</h3>\n<p><em>Document HTML  markup here and add the code block for easy copy-pasting.</em></p>\n<pre><code>&lt;button class=&quot;button button--boilerplate&quot;&gt;Boilerplate&lt;/button&gt;</code></pre><h3 id="javascript">JavaScript</h3>\n<p><em>Document JavaScript markup here and add the code block for easy copy-pasting.</em></p>\n<pre><code>const something = 123;</code></pre><h3 id="scss">SCSS</h3>\n<p><em>Document SCSS markup here and add the code block for easy copy-pasting.</em></p>\n<pre><code>.button--boilerplate {\n    background-color: #000;\n}</code></pre>'},function(t,e){t.exports='<h2 id="navbar-component">Navbar component</h2>\n<p>This component provides a fully functional navbar implementation for the Bulma navbar component.</p>\n<h3 id="tests-and-accessibility-status">Tests and accessibility status</h3>\n<p>The accessibility-ready status of this component is: untested.</p>\n<ul>\n<li><input checked="" disabled="" type="checkbox"> Keyboard-only</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (macOS)</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (iOS)</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (iPadOS)</li>\n<li><input disabled="" type="checkbox"> Talkback &amp; Chrome (Android)</li>\n<li><input disabled="" type="checkbox"> Narrator &amp; Edge (Windows)</li>\n<li><input disabled="" type="checkbox"> NVDA &amp; Firefox (Windows)</li>\n<li><input disabled="" type="checkbox"> Windows High Contrast mode</li>\n</ul>\n<h3 id="html">HTML</h3>\n<p>The Bulmally navbar follows the Bulma navbar markup with some exceptions. Hoverable dropdowns are not accessible, that is why we do not support them. Instead, we provide an accessible markup for controlling a dropdown menu within the navbar.</p>\n<p>The Bulma documentation uses a link as the dropdown toggler. This is bad practice, it should be a button. Bulmally dropdown toggler can be an actual link itself. This is done by adding a container that holds the link and a button for toggling the dropdown menu. This makes the link accessible and uses semantic HTML element for the toggler: a button. The button has a screen reader only text and a down arrow for sighted usage.</p>\n<pre><code>&lt;nav class=&quot;navbar bulmally-navbar&quot; role=&quot;navigation&quot; aria-label=&quot;main navigation&quot;&gt;\n    &lt;div class=&quot;navbar-brand&quot;&gt;\n        &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n            &lt;span class=&quot;is-sr-only&quot;&gt;Home&lt;/span&gt;\n            &lt;img src=&quot;https://bulma.io/images/bulma-logo.png&quot; width=&quot;112&quot; height=&quot;28&quot; aria-hidden=true&gt;\n        &lt;/a&gt;\n\n        &lt;button\n            id=&quot;js-navbar-burger&quot;\n            class=&quot;navbar-burger burger&quot;\n            aria-expanded=&quot;false&quot;\n            aria-label=&quot;Open menu&quot;\n            aria-expanded=&quot;false&quot;\n            aria-controls=&quot;js-menu&quot;&gt;\n            &lt;span aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n            &lt;span aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n            &lt;span aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n\n    &lt;div id=&quot;js-navbar-menu&quot; class=&quot;navbar-menu&quot;&gt;\n        &lt;div class=&quot;navbar-start&quot;&gt;\n            &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n                Home\n            &lt;/a&gt;\n\n            &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n                Documentation\n            &lt;/a&gt;\n\n            &lt;div class=&quot;navbar-item has-dropdown level&quot;&gt;\n                &lt;div class=&quot;navbar-dropdown-control&quot;&gt;\n                    &lt;!-- The link is clickable. --&gt;\n                    &lt;a class=&quot;navbar-link is-arrowless&quot; href=&quot;#&quot;&gt;\n                        More\n                    &lt;/a&gt;\n                    &lt;!-- This button implements the dropdown toggler. --&gt;\n                    &lt;button class=&quot;dropdown-toggler icon&quot; aria-expanded=false aria-controls=&quot;js-navbar-dropdown-1&quot;&gt;\n                        &lt;span class=&quot;is-sr-only&quot;&gt;Open menu&lt;/span&gt;\n                        &lt;i class=&quot;arrow&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                    &lt;/button&gt;\n                &lt;/div&gt;\n\n                &lt;!--\n                    Bulma does not hide dropdown menu on touch.\n                    We hide it here with the modifier class.\n                    Toggling is handled with JS.\n                --&gt;\n                &lt;div class=&quot;navbar-dropdown is-hidden-touch&quot; id=&quot;js-navbar-dropdown-1&quot;&gt;\n                    &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n                        About\n                    &lt;/a&gt;\n                    &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n                        Jobs\n                    &lt;/a&gt;\n                    &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n                        Contact\n                    &lt;/a&gt;\n                    &lt;hr class=&quot;navbar-divider&quot;&gt;\n                    &lt;a class=&quot;navbar-item&quot; href=&quot;#&quot;&gt;\n                        Report an issue\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=&quot;navbar-end&quot;&gt;\n            &lt;div class=&quot;navbar-item&quot;&gt;\n                &lt;div class=&quot;buttons&quot;&gt;\n                    &lt;a class=&quot;button is-primary&quot; href=&quot;#&quot;&gt;\n                        &lt;strong&gt;Sign up&lt;/strong&gt;\n                    &lt;/a&gt;\n                    &lt;a class=&quot;button is-light&quot; href=&quot;#&quot;&gt;\n                        Log in\n                    &lt;/a&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/nav&gt;</code></pre><h3 id="javascript">JavaScript</h3>\n<p>This JS implementation is written in ES6 and uses VanillaJS to control the states in the DOM. You may use it as it is and use <a href="https://babeljs.io/">Babel</a> to make it backwards compatible with older browsers. If you do not have Babel in your environment, it should be pretty straightforward to copy the required parts of this code.</p>\n<pre><code>/**\n * Class Navbar\n */\nexport default class Navbar {\n    /**\n     * This method is run automatically when the module is imported,\n     * because it exports a new instance of itself.\n     */\n    constructor() {\n        document.addEventListener(\n            &#39;DOMContentLoaded&#39;,\n            () =&gt; {\n                this.docReady();\n            }\n        );\n    }\n\n    /**\n     * Cache dom elements for use in the class&#39;s methods\n     */\n    cache() {\n        this.navbarBurger = document.getElementById( &#39;js-navbar-burger&#39; );\n        this.navbarMenu = document.getElementById( &#39;js-navbar-menu&#39; );\n        if ( this.navbarMenu ) {\n            this.dropdownTogglers = this.navbarMenu.querySelectorAll( &#39;.dropdown-toggler&#39; );\n        }\n    }\n\n    /**\n     * Add event listeners.\n     */\n    events() {\n        if ( this.navbarBurger ) {\n            this.navbarBurger.addEventListener( &#39;click&#39;, () =&gt; this.toggleMenu() );\n        }\n\n        if ( this.dropdownTogglers ) {\n            for ( let i = 0; i &lt; this.dropdownTogglers.length; i++ ) {\n                this.dropdownTogglers[ i ].addEventListener( &#39;click&#39;, ( event ) =&gt; this.toggleDropdown( event ) );\n            }\n        }\n    }\n\n    /**\n     * Handle menu toggling when the navbar burger is clicked.\n     */\n    toggleMenu() {\n        this.navbarBurger.classList.toggle( &#39;is-active&#39; );\n        this.navbarMenu.classList.toggle( &#39;is-active&#39; );\n        this.toggleAriaExpanded( this.navbarBurger );\n    }\n\n    /**\n     * Toggles a dropdown menu visibility.\n     *\n     * @param {Event} event A click event.\n     */\n    toggleDropdown( event ) {\n        const target = event.target;\n        const containerId = target.getAttribute( &#39;aria-controls&#39; );\n        const dropdownMenu = this.navbarMenu.querySelector( `#${ containerId }` );\n\n        this.toggleAriaExpanded( target );\n        dropdownMenu.classList.toggle( &#39;is-hidden-touch&#39; );\n        this.toggleAncestorActiveState( target, &#39;has-dropdown&#39; );\n    }\n\n    /**\n     * Set the &#39;is-active&#39; state for an ancestor of an element\n     * with the matching class name.\n     *\n     * @param {HTMLElement} child A child element to start the search from.\n     * @param {HTMLElement} className A target class name for the ancestor.\n     */\n    toggleAncestorActiveState( child, className ) {\n        let ancestor = child.parentNode;\n        while ( ancestor ) {\n            if ( ancestor.classList.contains( className ) ) {\n                ancestor.classList.toggle( &#39;is-active&#39; );\n                return;\n            }\n            ancestor = ancestor.parentNode ? ancestor.parentNode : false;\n        }\n    }\n\n    /**\n     * Get the toggler&#39;s aria-expanded current state and set a new opposite state to it.\n     * Also set the opened container&#39;s aria-hidden state to the new value&#39;s opposite.\n     *\n     * @param {HTMLElement} toggler The toggler element.\n     */\n    toggleAriaExpanded( toggler ) {\n        const ariaExpandedState = toggler.getAttribute( &#39;aria-expanded&#39; ) === &#39;false&#39; ? true : false;\n        toggler.setAttribute( &#39;aria-expanded&#39;, ariaExpandedState );\n    }\n\n    /**\n     * Run when the document is ready.\n     */\n    docReady() {\n        this.cache();\n        this.events();\n    }\n}</code></pre><h3 id="scss">SCSS</h3>\n<p>We use the component class name as the CSS scope for our modifications for the basic Bulma CSS code. We keep the changes to a minimum and most of this code is applied to separate the dropdown toggler from the menu link containing a dropdown menu.</p>\n<pre><code>// This file contains styles for the navbar component.\n.bulmally-navbar {\n\n    // Reset all buttons inside a navbar.\n    button {\n        background: none;\n        border: 0;\n    }\n\n    .navbar-burger {\n        &amp;:hover {\n            background: $navbar-dropdown-item-hover-background-color;\n        }\n    }\n\n    .navbar-dropdown-control {\n        display: flex;\n        flex-direction: row;\n        align-items: center;\n\n        .navbar-link {\n            flex: 1 1 auto;\n            padding-right: 1rem;\n\n            &amp;:hover {\n                // The link background is controlled on the &#39;.has-dropdown&#39; level.\n                background: none;\n            }\n        }\n    }\n\n    .navbar-item {\n        &amp;.has-dropdown {\n            &amp;:hover,\n            &amp;.is-active {\n                background-color: $navbar-item-hover-background-color;\n            }\n        }\n    }\n\n    .dropdown-toggler {\n        position: relative; // Make the arrow stick to the button.\n        flex: 0 0 auto;\n        margin-right: .75rem;\n        transition: transform $speed $easing;\n\n        &amp;[aria-expanded=&quot;true&quot;] {\n            transform: rotate(180deg);\n        }\n\n        .arrow {\n            @extend %arrow;\n            width: .75rem;\n            height: .75rem;\n            margin-top: -.5rem;\n            border-color: $navbar-dropdown-arrow;\n        }\n    }\n}</code></pre>'},function(t,e){t.exports='<h2 id="accordion-component">Accordion component</h2>\n<p>This component provides an accordion functionality with added accessible JS implementation.</p>\n<h3 id="tests-and-accessibility-status">Tests and accessibility status</h3>\n<p>The accessibility-ready status of this component is: untested.</p>\n<ul>\n<li><input checked="" disabled="" type="checkbox"> Keyboard-only</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (macOS)</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (iOS)</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (iPadOS)</li>\n<li><input disabled="" type="checkbox"> Talkback &amp; Chrome (Android)</li>\n<li><input disabled="" type="checkbox"> Narrator &amp; Edge (Windows)</li>\n<li><input disabled="" type="checkbox"> NVDA &amp; Firefox (Windows)</li>\n<li><input disabled="" type="checkbox"> Windows High Contrast mode</li>\n</ul>\n<h3 id="html">HTML</h3>\n<p>The Bulmally accordion&#39;s titles are inside a button so that they are focusable and clickable.</p>\n<pre><code>&lt;div id=&quot;js-bulmally-accordion&quot; class=&quot;bulmally-accordion&quot;&gt;\n    &lt;div class=&quot;columns is-multiline&quot;&gt;\n\n        &lt;div class=&quot;column is-10-tablet is-offset-1-tablet is-8-desktop is-offset-2-desktop&quot;&gt;\n            &lt;div class=&quot;accordion-row box&quot;&gt;\n                &lt;h3 class=&quot;h4 accordion-title&quot;&gt;\n                    &lt;!-- This controls the section. Toggling the state is done with JS --&gt;\n                    &lt;button\n                        id=&quot;accordion-title-button-1&quot;\n                        class=&quot;accordion-title-button&quot;\n                        aria-expanded=&quot;false&quot;\n                        aria-controls=&quot;accordion-content-1&quot;&gt;\n\n                        &lt;div class=&quot;level is-mobile&quot;&gt;\n                            &lt;div class=&quot;level-left can-shrink&quot;&gt;\n                                &lt;span class=&quot;level-item can-shrink accordion-title-text&quot;&gt;\n                                    This heading is clickable\n                                &lt;/span&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;level-right&quot;&gt;\n                                &lt;span class=&quot;level-item icon accordion-title-icon&quot;&gt;\n                                    &lt;i class=&quot;fas fa-angle-down&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                                &lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/button&gt;\n                &lt;/h3&gt;\n\n                &lt;!-- The ID of this element has to be dynamically added. --&gt;\n                &lt;div id=&quot;accordion-content-1&quot; class=&quot;accordion-content&quot;&gt;\n                    &lt;div class=&quot;content is-small&quot;&gt;\n                        &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, quisquam molestias. Quaerat molestiae nam, explicabo quo nisi corporis! Blanditiis quam quibusdam, facilis nihil odio nisi iusto ipsa laborum neque fugit.&lt;/p&gt;\n\n                        &lt;h3&gt;Lorem ipsum dolor sit amet consectetur&lt;/h3&gt;\n\n                        &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, quisquam molestias. Quaerat molestiae nam, explicabo quo nisi corporis! Blanditiis quam quibusdam, facilis nihil odio nisi iusto ipsa laborum neque fugit.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Next accordion row --&gt;\n\n        &lt;div class=&quot;column is-10-tablet is-offset-1-tablet is-8-desktop is-offset-2-desktop&quot;&gt;\n            &lt;div class=&quot;accordion-row box&quot;&gt;\n                &lt;h3 class=&quot;h4 accordion-title&quot;&gt;\n                    &lt;!-- This controls the section. Toggling the state is done with JS --&gt;\n                    &lt;button\n                        id=&quot;accordion-title-button-1&quot;\n                        class=&quot;accordion-title-button&quot;\n                        aria-expanded=&quot;false&quot;\n                        aria-controls=&quot;accordion-content-1&quot;&gt;\n\n                        &lt;div class=&quot;level is-mobile&quot;&gt;\n                            &lt;div class=&quot;level-left can-shrink&quot;&gt;\n                                &lt;span class=&quot;level-item can-shrink accordion-title-text&quot;&gt;\n                                    This heading is clickable\n                                &lt;/span&gt;\n                            &lt;/div&gt;\n                            &lt;div class=&quot;level-right&quot;&gt;\n                                &lt;span class=&quot;level-item icon accordion-title-icon&quot;&gt;\n                                    &lt;i class=&quot;fas fa-angle-down&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;\n                                &lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/button&gt;\n                &lt;/h3&gt;\n\n                &lt;!-- The ID of this element has to be dynamically added. --&gt;\n                &lt;div id=&quot;accordion-content-1&quot; class=&quot;accordion-content&quot;&gt;\n                    &lt;div class=&quot;content is-small&quot;&gt;\n                        &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, quisquam molestias. Quaerat molestiae nam, explicabo quo nisi corporis! Blanditiis quam quibusdam, facilis nihil odio nisi iusto ipsa laborum neque fugit.&lt;/p&gt;\n\n                        &lt;h3&gt;Lorem ipsum dolor sit amet consectetur&lt;/h3&gt;\n\n                        &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, quisquam molestias. Quaerat molestiae nam, explicabo quo nisi corporis! Blanditiis quam quibusdam, facilis nihil odio nisi iusto ipsa laborum neque fugit.&lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/div&gt;</code></pre><h3 id="javascript">JavaScript</h3>\n<p>This JS implementation is written in ES6 and uses VanillaJS to control the states in the DOM. You may use it as it is and use <a href="https://babeljs.io/">Babel</a> to make it backwards compatible with older browsers. If you do not have Babel in your environment, it should be pretty straightforward to copy the required parts of this code.</p>\n<pre><code>/**\n * Accordion JS controller.\n */\n\n/**\n * Class Accordion\n */\nexport default class Accordion {\n    /**\n     * This method is run when a new instance of the class is created.\n     */\n    constructor() {\n        // This must be set for each component.\n        this.documentation = require( &#39;./accordion.md&#39; );\n\n        document.addEventListener(\n            &#39;DOMContentLoaded&#39;,\n            () =&gt; {\n                this.docReady();\n            }\n        );\n    }\n\n    /**\n     * Cache dom elements for use in the class&#39;s methods\n     */\n    cache() {\n        this.mainContainer = document.getElementById( &#39;js-bulmally-accordion&#39; );\n\n        if ( this.mainContainer ) {\n            this.dropdownTogglers = this.mainContainer.querySelectorAll( &#39;.accordion-title-button&#39; );\n            this.dropdowns = this.mainContainer.querySelectorAll( &#39;.accordion-content&#39; );\n        }\n\n        // Hide all toggleable elements with JS.\n        for ( let i = 0; i &lt; this.dropdowns.length; i++ ) {\n            this.dropdowns[ i ].classList.add( &#39;is-hidden&#39; );\n        }\n    }\n\n    /**\n     * Add event listeners.\n     */\n    events() {\n        if ( this.dropdownTogglers ) {\n            for ( let i = 0; i &lt; this.dropdownTogglers.length; i++ ) {\n                this.dropdownTogglers[ i ].addEventListener( &#39;click&#39;, () =&gt; this.toggleDropdown( this.dropdownTogglers[ i ] ) );\n            }\n        }\n    }\n\n    /**\n     * Toggles a dropdown content visibility.\n     *\n     * @param {HTMLButtonElement} clickedToggler The toggler button that was clicked.\n     */\n    toggleDropdown( clickedToggler ) {\n        const containerId = clickedToggler.getAttribute( &#39;aria-controls&#39; );\n        const dropDownContent = this.mainContainer.querySelector( `#${ containerId }` );\n\n        this.toggleAriaExpanded( clickedToggler );\n        dropDownContent.classList.toggle( &#39;is-hidden&#39; );\n    }\n\n    /**\n     * Get the toggler&#39;s aria-expanded current state and set a new opposite state to it.\n     * Also set the opened container&#39;s aria-hidden state to the new value&#39;s opposite.\n     *\n     * @param {HTMLElement} toggler The toggler element.\n     */\n    toggleAriaExpanded( toggler ) {\n        const ariaExpandedState = toggler.getAttribute( &#39;aria-expanded&#39; ) === &#39;false&#39; ? true : false;\n        toggler.setAttribute( &#39;aria-expanded&#39;, ariaExpandedState );\n    }\n\n    /**\n     * Run when the document is ready.\n     */\n    docReady() {\n        this.cache();\n        this.events();\n    }\n}</code></pre><h3 id="scss">SCSS</h3>\n<p>We use the component class name as the CSS scope for our modifications to the basic Bulma CSS code.</p>\n<pre><code>// This file contains all styles for the accordion element.\n.bulmally-accordion {\n\n    .accordion-title-button {\n        appearance: none;\n\n        background-color: $white;\n        border: 0;\n        box-shadow: none;\n        width: 100%;\n\n        &amp;[aria-expanded=&quot;true&quot;] {\n            .icon {\n                transform: rotate(-180deg);\n            }\n        }\n    }\n\n    .accordion-title-icon {\n        transition: transform .2s ease;\n    }\n\n    .accordion-content {\n        margin-top: 1.25rem;\n        padding-top: 1.25rem;\n        border-top: .0625rem solid $grey-lighter;\n    }\n\n    .can-shrink {\n        flex-shrink: 1;\n    }\n}</code></pre>'},function(t,e){t.exports='<h2 id="tabs-component">Tabs component</h2>\n<p>This component provides the needed JavaScript functionalities for the <a href="https://bulma.io/documentation/components/tabs/">Bulma tabs</a>. Accessibility is implemented with JavaScript making the DOM as simple as possible. There are two tab elements on this page to demonstrate that you can have multiple tabs on the same page. All Bulma tab styles are supported.</p>\n<h3 id="tests-and-accessibility-status">Tests and accessibility status</h3>\n<p>The accessibility-ready status of this component is: untested.</p>\n<ul>\n<li><input checked="" disabled="" type="checkbox"> Keyboard-only</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (macOS)</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (iOS)</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (iPadOS)</li>\n<li><input disabled="" type="checkbox"> Talkback &amp; Chrome (Android)</li>\n<li><input disabled="" type="checkbox"> Narrator &amp; Edge (Windows)</li>\n<li><input disabled="" type="checkbox"> NVDA &amp; Firefox (Windows)</li>\n<li><input disabled="" type="checkbox"> Windows High Contrast mode</li>\n</ul>\n<h3 id="known-issues">Known issues</h3>\n<h3 id="html">HTML</h3>\n<p>Bulma uses buttons as tabs. We use anchor links instead. This makes tabs accessible even if JavaScript is not available. Each tab is an anchor link taking the user to the corresponding tab panel. If JavaScript is successfully loaded, all tab containers are queried from the DOM and their functionalities are initialized on the document ready event.</p>\n<h3 id="requirements">Requirements</h3>\n<ul>\n<li>Add a container for the tabs and the panels with a class named <em>&quot;bulmally-tabs&quot;</em>.</li>\n<li>The <em>href</em> attribute of the link must be the id of the tab panel. This enables linking the tab to the panel.</li>\n<li>The tab panels should be placed directly after the tabs to create a logical tab order.</li>\n</ul>\n<pre><code>&lt;div class=&quot;bulmally-tabs&quot;&gt;\n    &lt;div class=&quot;tabs&quot;&gt;\n        &lt;ul aria-label=&quot;Add a description for the tabs here&quot;&gt;\n            &lt;li class=&quot;is-active&quot;&gt;&lt;a href=&quot;#first&quot;&gt;First&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;#second&quot;&gt;Second&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;#third&quot;&gt;Third&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;#fourth&quot;&gt;Fourth&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n\n    &lt;div&gt;\n        &lt;div id=&quot;first&quot;&gt;\n            &lt;h2&gt;First&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;second&quot;&gt;\n            &lt;h2&gt;Second&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;third&quot;&gt;\n            &lt;h2&gt;Third&lt;/h2&gt;\n        &lt;/div&gt;\n        &lt;div id=&quot;fourth&quot;&gt;\n            &lt;h2&gt;Fourth&lt;/h2&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;</code></pre><h3 id="scss">SCSS</h3>\n<p>The only styling required is the hidden state of the panels. This is done by using the <em>&quot;hidden&quot;</em> attribute as the CSS selector.</p>\n<pre><code>.bulmally-tabs {\n\n    &amp;-panel[hidden] {\n        display: none;\n    }\n\n}</code></pre><h3 id="javascript">JavaScript</h3>\n<p>Bulmally tabs implements the WAI-ARIA <a href="https://www.w3.org/TR/wai-aria-practices/#tabpanel">tabs design pattern</a>. JavaScript code is based on the WAI-ARIA example for <a href="(https://www.w3.org/TR/wai-aria-practices/examples/tabs/tabs-2/tabs.html)">manually activated tabs</a>. The implementation provides the following features:</p>\n<ul>\n<li>Tab navigation with arrow keys.</li>\n<li>Tab panel activation by pressing enter or space on the focused tab.</li>\n<li>Tab panel activation on mouse click event.</li>\n<li>Focus handling for all interactions.</li>\n</ul>\n<p>We extended the WAI-ARIA example with the ability to have multiple tab elements on the same page. If you create tabs dynamically <em>(after the document ready event)</em>, you can initialize their accessibility features by passing the Bulmally tabs element container for the <em>init()</em> method. You can find an example of this in the <em>initAllTabs()</em> method that finds and initializes all Bulmally tab elements on the document ready event.</p>\n<pre><code>/**\n * Tabs JS controller.\n */\n\n// For easy reference\nconst keys = {\n    end: 35,\n    home: 36,\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    enter: 13,\n    space: 32,\n};\n\n// Add or subtract depending on key pressed\nconst direction = {\n    37: -1,\n    38: -1,\n    39: 1,\n    40: 1,\n};\n\n/**\n * Class Tabs\n */\nexport default class Tabs {\n    /**\n     * This method is run automatically when the module is imported,\n     * because it exports a new instance of itself.\n     */\n    constructor() {\n        // This must be set for each component.\n        this.documentation = require( &#39;./readme.md&#39; );\n\n        document.addEventListener(\n            &#39;DOMContentLoaded&#39;,\n            () =&gt; {\n                this.initAllTabs();\n            }\n        );\n    }\n\n    /**\n     * Find all tab elements and initialize their functionalities.\n     * This method should be run on document ready to initialize all\n     * tabs in the DOM after the page is loaded.\n     */\n    initAllTabs() {\n        this.allTabs = document.querySelectorAll( &#39;.bulmally-tabs&#39; );\n\n        if ( ! this.allTabs ) {\n            // No tabs found.\n            return;\n        }\n\n        for ( let i = 0; i &lt; this.allTabs.length; i++ ) {\n            this.init( this.allTabs[ i ] );\n        }\n    }\n\n    /**\n     * Initalize a single tabs element.\n     *\n     * @param {HTMLElement} tabsElement Bulmally tabs container.\n     */\n    init( tabsElement ) {\n        const tabsContainer = tabsElement.querySelector( &#39;.tabs&#39; );\n        const tablist = tabsContainer.querySelector( &#39;ul&#39; );\n        const tabs = tablist.querySelectorAll( &#39;a&#39; );\n        const tabListItems = tablist.querySelectorAll( &#39;li&#39; );\n\n        // Store references to the first and the last tab for focus manipulations.\n        // Initialize an array for storing references to all tabs.\n        tablist.firstTab = tabs[ 0 ];\n        tablist.lastTab = tabs[ tabs.length - 1 ];\n        tablist.tabs = [];\n        tablist.panels = [];\n\n        // Set tablist role\n        tablist.setAttribute( &#39;role&#39;, &#39;tablist&#39; );\n\n        // Initialize tabs.\n        for ( let i = 0; i &lt; tabs.length; i++ ) {\n            this.initTab( tabs[ i ], tablist, i );\n        }\n\n        for ( let i = 0; i &lt; tabListItems.length; i++ ) {\n            // All &lt;li&gt; elements must have a role of presentation.\n            tabListItems[ i ].setAttribute( &#39;role&#39;, &#39;presentation&#39; );\n        }\n\n        // Activate the first tab\n        this.activateTab( tablist.firstTab );\n    }\n\n    /**\n     * Initialize functionalities for a tab element.\n     *\n     * @param {HTMLElement} tab A tab link.\n     * @param {HTMLElement} tablist The tablist element for the tab.\n     * @param {number} index The current element index in the tab list.\n     */\n    initTab( tab, tablist, index ) {\n        const panelId = tab.hash.slice( 1 );\n\n        // Create a unique id using the tab link&#39;s hash\n        tab.id = `tab-${ panelId }`;\n\n        // Make a two-way reference of the tab and its tablist.\n        tab.tablist = tablist;\n        tablist.tabs[ index ] = tab;\n\n        // Store the index.\n        tab.index = index;\n\n        // Initialize the corresponding panel.\n        tab.panel = document.getElementById( panelId );\n        this.initPanel( tab.panel, tab, tablist, index );\n\n        tab.setAttribute( &#39;role&#39;, &#39;tab&#39; );\n        tab.setAttribute( &#39;aria-selected&#39;, &#39;false&#39; );\n        tab.setAttribute( &#39;aria-controls&#39;, panelId );\n        tab.setAttribute( &#39;tabindex&#39;, &#39;-1&#39; );\n\n        tab.addEventListener( &#39;click&#39;, ( event ) =&gt; this.clickEventListener( event ) );\n        tab.addEventListener( &#39;keydown&#39;, ( event ) =&gt; this.keydownEventListener( event ) );\n        tab.addEventListener( &#39;keyup&#39;, ( event ) =&gt; this.keyupEventListener( event ) );\n    }\n\n    /**\n     * Initalize panel functionalities.\n     *\n     * @param {HTMLElement} panel The panel element.\n     * @param {HTMLElement} tab The corresponding tab element.\n     * @param {HTMLElement} tablist The tablist element for the tab.\n     * @param {number} index The index in panels.\n     */\n    initPanel( panel, tab, tablist, index ) {\n        if ( index !== 0 ) {\n            // Hide all but the first tab.\n            panel.hidden = true;\n        }\n\n        panel.setAttribute( &#39;tabindex&#39;, &#39;0&#39; );\n        panel.setAttribute( &#39;role&#39;, &#39;tabpanel&#39; );\n        panel.setAttribute( &#39;aria-labelledby&#39;, tab.id );\n\n        // Store a reference for the tablist.\n        tablist.panels.push( panel );\n    }\n\n    /**\n     * When a tab is clicked, activateTab is fired to activate it\n     *\n     * @param {Event} event Event object.\n     */\n    clickEventListener( event ) {\n        // Prevent the default click event.\n        event.preventDefault();\n\n        const tab = event.target;\n        this.activateTab( tab, false );\n    }\n\n    /**\n     * Handle keydown on tabs\n     *\n     * @param {Event} event Event object.\n     */\n    keydownEventListener( event ) {\n        const key = event.keyCode;\n        const tablist = event.target.tablist;\n\n        switch ( key ) {\n        case keys.end:\n            event.preventDefault();\n            // Activate last tab\n            this.focusLastTab( tablist );\n            break;\n        case keys.home:\n            event.preventDefault();\n            // Activate first tab\n            this.focusFirstTab( tablist );\n            break;\n\n        // Up and down are in keydown to prevent page scroll.\n        case keys.up:\n        case keys.down:\n            this.determineOrientation( event );\n            break;\n        case keys.enter:\n        case keys.space:\n            event.preventDefault();\n            this.activateTab( event.target, false );\n            break;\n        }\n    }\n\n    /**\n     * Handle keyup on tabs\n     *\n     * @param {Event} event Event object.\n     */\n    keyupEventListener( event ) {\n        const key = event.keyCode;\n\n        switch ( key ) {\n        case keys.left:\n        case keys.right:\n            this.determineOrientation( event );\n            break;\n        }\n    }\n\n    /**\n     * When a tablist&#39;s aria-orientation is set to vertical,\n     * only up and down arrow should function.\n     * only up and down arrow should function.\n     *\n     * @param {Event} event The event object.\n     */\n    determineOrientation( event ) {\n        const key = event.keyCode;\n        const vertical = event.target.tablist.getAttribute( &#39;aria-orientation&#39; ) === &#39;vertical&#39;;\n        let proceed = false;\n\n        if ( vertical ) {\n            if ( key === keys.up || key === keys.down ) {\n                event.preventDefault();\n                proceed = true;\n            }\n        } else if ( key === keys.left || key === keys.right ) {\n            proceed = true;\n        }\n\n        if ( proceed ) {\n            this.switchTabOnArrowPress( event );\n        }\n    }\n\n    /**\n     * Either focus the next, previous, first, or last tab\n     * depending on the key pressed.\n     *\n     * @param {Event} event Event object.\n     */\n    switchTabOnArrowPress( event ) {\n        const pressed = event.keyCode;\n\n        if ( direction[ pressed ] ) {\n            const target = event.target;\n            const tablist = target.tablist;\n            const tabs = tablist.tabs;\n            if ( target.index !== undefined ) {\n                if ( tabs[ target.index + direction[ pressed ] ] ) {\n                    tabs[ target.index + direction[ pressed ] ].focus();\n                } else if ( pressed === keys.left || pressed === keys.up ) {\n                    this.focusLastTab( tablist );\n                } else if ( pressed === keys.right || pressed === keys.down ) {\n                    this.focusFirstTab( tablist );\n                }\n            }\n        }\n    }\n\n    /**\n     * Activates any given tab panel\n     *\n     * @param {HTMLElement} tab A tab element.\n     * @param {boolean} setFocus Whether to set focus.\n     */\n    activateTab( tab, setFocus ) {\n        // Deactivate all other tabs\n        this.deactivateTabs( tab.tablist );\n\n        // Remove tabindex attribute.\n        tab.removeAttribute( &#39;tabindex&#39; );\n\n        // Set the tab as selected.\n        tab.setAttribute( &#39;aria-selected&#39;, &#39;true&#39; );\n\n        // Set Bulma class.\n        tab.parentNode.classList.add( &#39;is-active&#39; );\n\n        // Remove hidden attribute from tab panel to make it visible.\n        tab.panel.removeAttribute( &#39;hidden&#39; );\n\n        // Set focus when required.\n        if ( setFocus ) {\n            tab.panel.focus();\n        }\n    }\n\n    /**\n     * Deactivate all tabs and tab panels\n     *\n     * @param {HTMLElement} tablist The tablist element.\n     */\n    deactivateTabs( tablist ) {\n        for ( let t = 0; t &lt; tablist.tabs.length; t++ ) {\n            tablist.tabs[ t ].parentNode.classList.remove( &#39;is-active&#39; );\n            tablist.tabs[ t ].setAttribute( &#39;tabindex&#39;, &#39;-1&#39; );\n            tablist.tabs[ t ].setAttribute( &#39;aria-selected&#39;, &#39;false&#39; );\n        }\n\n        for ( let p = 0; p &lt; tablist.panels.length; p++ ) {\n            tablist.panels[ p ].setAttribute( &#39;hidden&#39;, &#39;hidden&#39; );\n        }\n    }\n\n    /**\n     * Focus on the first tab in the tablist of the given tab.\n     *\n     * @param {HTMLElement} tablist A tablist element.\n     */\n    focusFirstTab( tablist ) {\n        tablist.firstTab.focus();\n    }\n\n    /**\n     * Focus on the last tab in the tablist of the given tab.\n     *\n     * @param {HTMLElement} tablist A tablist element.\n     */\n    focusLastTab( tablist ) {\n        tablist.lastTab.focus();\n    }\n}\n</code></pre>'},function(t,e){t.exports='<h2 id="modal-component">Modal component</h2>\n<p>This component provides the needed JavaScript functionalities for the <a href="https://bulma.io/documentation/components/modal/">Bulma modal</a>. Accessibility is implemented with JavaScript making the DOM as simple as possible. There are two modal elements on this page to demonstrate that you can have multiple modals on the same page. All Bulma modal styles are supported.</p>\n<h3 id="tests-and-accessibility-status">Tests and accessibility status</h3>\n<p>The accessibility-ready status of this component is: untested.</p>\n<ul>\n<li><input checked="" disabled="" type="checkbox"> Keyboard-only</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (macOS)</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (iOS)</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (iPadOS)</li>\n<li><input disabled="" type="checkbox"> Talkback &amp; Chrome (Android)</li>\n<li><input disabled="" type="checkbox"> Narrator &amp; Edge (Windows)</li>\n<li><input disabled="" type="checkbox"> NVDA &amp; Firefox (Windows)</li>\n<li><input disabled="" type="checkbox"> Windows High Contrast mode</li>\n</ul>\n<h3 id="html">HTML</h3>\n<p>The HTML markup is fairly simple. You need to have a button that controls a corresponding modal. In the modal overlay you may want to have a closing button although it is not necessary. Modals can also be closed with ESC and buttons inside them with <strong>modal-close-button</strong> classes.</p>\n<h3 id="requirements">Requirements</h3>\n<p>The modal containers should be placed at the bottom of your page markup so that their <strong>aria-role=&quot;modal&quot;</strong> attribute works properly.</p>\n<pre><code>&lt;!-- A button that controls opening the first modal --&gt;\n\n&lt;button\n    class=&quot;modal-button button is-large is-info&quot;\n    aria-expanded=&quot;false&quot;\n    aria-controls=&quot;js-bulmally-modal-1&quot;&gt;\n        Open modal\n&lt;/button&gt;\n\n&lt;!-- Markup of the first modal --&gt;\n\n&lt;div role=&quot;dialog&quot;\n    id=&quot;js-bulmally-modal-1&quot;\n    class=&quot;modal&quot;\n    aria-modal=&quot;true&quot;\n    aria-labelledby=&quot;js-bulmally-modal-1-title&quot;&gt;\n\n    &lt;div class=&quot;modal-background&quot;&gt;&lt;/div&gt;\n\n    &lt;div class=&quot;modal-content has-background-white&quot;&gt;\n\n        &lt;section class=&quot;section&quot;&gt;\n\n            &lt;h3 id=&quot;js-bulmally-modal-1-title&quot; class=&quot;h4 title&quot; tabindex=&quot;0&quot;&gt;Modal heading&lt;/h3&gt;\n\n            &lt;div class=&quot;content&quot;&gt;\n\n                &lt;p&gt;Lorem ipsum dolor sit amet consectetur &lt;a href=&quot;&quot;&gt;adipisicing elit&lt;/a&gt;. Aspernatur, quisquam molestias. Quaerat molestiae nam, explicabo quo nisi corporis! Blanditiis quam quibusdam, facilis nihil &lt;a href=&quot;&quot;&gt;odio nisi iusto&lt;/a&gt; ipsa laborum neque fugit.&lt;/p&gt;\n\n                &lt;h3&gt;Lorem ipsum dolor sit amet consectetur&lt;/h3&gt;\n\n                &lt;figure class=&quot;image is-marginless-horizontally&quot;&gt;\n                    &lt;img src=&quot;https://via.placeholder.com/1600x900.png?text=A+sample+image&quot; alt=&quot;&quot;&gt;\n                &lt;/figure&gt;\n\n                &lt;p&gt;Lorem ipsum dolor sit amet consectetur adipisicing elit. Aspernatur, quisquam molestias. Quaerat molestiae nam, &lt;a href=&quot;&quot;&gt;explicabo quo nisi corporis! Blanditiis quam quibusdam, facilis nihil&lt;/a&gt; odio nisi iusto ipsa laborum neque fugit.&lt;/p&gt;\n\n                &lt;button class=&quot;button modal-close-button is-danger is-large&quot;\n                    aria-controls=&quot;js-bulmally-modal-1&quot;&gt;\n                    Close modal\n                &lt;/button&gt;\n            &lt;/div&gt;\n\n        &lt;/section&gt;\n\n    &lt;/div&gt;\n\n    &lt;button class=&quot;modal-close is-large&quot;\n        aria-label=&quot;close modal&quot;\n        aria-controls=&quot;js-bulmally-modal-1&quot;&gt;&lt;/button&gt;\n\n&lt;/div&gt;</code></pre><h3 id="scss">SCSS</h3>\n<p>The only styling changes are made to the focus style of the outer modal closing button.</p>\n<pre><code>.modal-close {\n    &amp;:focus {\n        outline: $white dotted .125rem;\n    }\n}\n</code></pre><h3 id="javascript">JavaScript</h3>\n<p>Bulmally tabs implements the WAI-ARIA <a href="https://www.w3.org/TR/wai-aria-practices/#dialog_modal">modal design pattern</a>. JavaScript code is based on the WAI-ARIA example for <a href="https://www.w3.org/TR/wai-aria-practices/examples/dialog-modal/dialog.html">a modal dialog</a>. The implementation provides the following features:</p>\n<ul>\n<li>Modal navigation by pressing the tab key.</li>\n<li>Focusing the first element inside each opened modal.</li>\n<li>Focus looping, so that focusable elements inside the modal can be easily navigated.</li>\n<li>Returning focus back to the original element that opened the modal.</li>\n</ul>\n<p>We extended the WAI-ARIA example with the ability to have multiple modal elements on the same page. If you want to have many modals on one page, you need to make sure that each modal gets a unique id and its opening and closing buttons match the modal id in their <strong>aria-controls</strong> attributes.</p>\n<pre><code>/**\n * Modal JS controller.\n */\n\n/**\n * Class Modal\n */\nexport default class Modal {\n    /**\n     * This method is run when a new instance of the class is created.\n     */\n    constructor() {\n        // This must be set for each component.\n        this.documentation = require( &#39;./modal.md&#39; );\n\n        document.addEventListener(\n            &#39;DOMContentLoaded&#39;,\n            () =&gt; {\n                this.docReady();\n            }\n        );\n    }\n\n    /**\n     * Cache dom elements for use in the class&#39;s methods\n     */\n    cache() {\n        this.rootEl = document.documentElement;\n        this.$modals = [];\n        this.$modalButtons = document.querySelectorAll( &#39;.modal-button&#39; );\n        this.$modalCloses = document.querySelectorAll( &#39;.modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button, .modal-close-button&#39; );\n    }\n\n    /**\n     * Add event listeners.\n     */\n    events() {\n        // Bind handlers to each modal open button.\n        if ( this.$modalButtons.length &gt; 0 ) {\n            this.$modalButtons.forEach( ( button ) =&gt; {\n                const modal = document.getElementById( button.getAttribute( &#39;aria-controls&#39; ) );\n                modal.openingButton = button;\n                modal.isOpened = 0;\n                this.$modals.push( modal );\n                button.addEventListener( &#39;click&#39;, () =&gt; {\n                    this.openModal( modal );\n                    this.toggleAriaExpanded( button );\n                } );\n            } );\n        }\n\n        // Bind handlers to each modal close button.\n        if ( this.$modalCloses.length &gt; 0 ) {\n            this.$modalCloses.forEach( ( button ) =&gt; {\n                button.addEventListener( &#39;click&#39;, () =&gt; {\n                    this.closeModals();\n                } );\n            } );\n        }\n\n        // Bind modal closing handler to ESC key.\n        document.addEventListener( &#39;keydown&#39;, ( event ) =&gt; {\n            const e = event || window.event;\n            if ( e.keyCode === 27 ) {\n                this.closeModals();\n            }\n        } );\n    }\n\n    /**\n     * This handles opening the modal that was associated with\n     * the clicked modal opening button.\n     *\n     * @param {Element} modal The modal that is opened.\n     */\n    openModal( modal ) {\n        this.rootEl.classList.add( &#39;is-clipped&#39; );\n        modal.classList.add( &#39;is-active&#39; );\n        modal.isOpened = 1;\n\n        // Collect each focusable element inside the modal.\n        const focusableElements = modal.querySelectorAll( &#39;a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex=&quot;0&quot;]&#39; );\n\n        // Set first and last focusable element as class parameters.\n        // Set focus to the first focusable element.\n        if ( focusableElements.length ) {\n            modal.focusableElements = focusableElements;\n            modal.focusableElements.first = focusableElements[ 0 ];\n            modal.focusableElements.last = focusableElements[ focusableElements.length - 1 ];\n            modal.focusableElements.first.focus();\n\n            // Bind modal focus loop handler to document when modal is opened.\n            // If pressed key was &#39;Tab&#39;, call tab handling method.\n            document.addEventListener( &#39;keydown&#39;, ( event ) =&gt; {\n                const e = event || window.event;\n                if ( e.keyCode === 9 ) {\n                    this.handleModalTabbing( e, modal );\n                }\n            } );\n        }\n    }\n\n    /**\n     * This closes all modals and sets focus back to the element that was used\n     * to open the current visible modal.\n     */\n    closeModals() {\n        this.rootEl.classList.remove( &#39;is-clipped&#39; );\n        this.$modals.forEach( ( modal ) =&gt; {\n            modal.classList.remove( &#39;is-active&#39; );\n            if ( modal.isOpened ) {\n                modal.openingButton.focus();\n                this.toggleAriaExpanded( modal.openingButton );\n                modal.isOpened = 0;\n            }\n        } );\n    }\n\n    /**\n     * This handles Tab key presses and loops focus back to the first\n     * focusable element inside the modal. If a user navigates backwards\n     * using shift + tab, the loop is handled properly to the opposite direction.\n     *\n     * @param {event} e Key press event.\n     * @param {Element} modal The modal that is currently visible.\n     */\n    handleModalTabbing( e, modal ) {\n        // If shift + tab pushed.\n        if ( e.shiftKey ) {\n            // Focus the last element if focus was on the first element.\n            if ( modal.focusableElements.first === document.activeElement ) {\n                e.preventDefault();\n                modal.focusableElements.last.focus();\n            }\n        } else if ( modal.focusableElements.last === document.activeElement ) {\n            e.preventDefault();\n            modal.focusableElements.first.focus();\n        }\n    }\n\n    /**\n     * Get the toggler&#39;s aria-expanded current state and set a new opposite state to it.\n     *\n     * @param {HTMLElement} toggler The toggler element.\n     */\n    toggleAriaExpanded( toggler ) {\n        const ariaExpandedState = toggler.getAttribute( &#39;aria-expanded&#39; ) === &#39;false&#39; ? true : false;\n        toggler.setAttribute( &#39;aria-expanded&#39;, ariaExpandedState );\n    }\n\n    /**\n     * Run when the document is ready.\n     */\n    docReady() {\n        this.cache();\n        this.events();\n    }\n}</code></pre>'},function(t,e){t.exports='<h2 id="message-component">Message component</h2>\n<p>Bulma describes the <a href="https://bulma.io/documentation/components/message/">message component</a> as a colored message block, to emphasize part of your page. Bulmally implements the closing functionality for it. We also modify the message HTML markup a little to make it semantically better.</p>\n<h3 id="tests-and-accessibility-status">Tests and accessibility status</h3>\n<p>The accessibility-ready status of this component is: untested.</p>\n<ul>\n<li><input checked="" disabled="" type="checkbox"> Keyboard-only</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (macOS)</li>\n<li><input checked="" disabled="" type="checkbox"> VoiceOver &amp; Safari (iOS)</li>\n<li><input disabled="" type="checkbox"> VoiceOver &amp; Safari (iPadOS)</li>\n<li><input disabled="" type="checkbox"> Talkback &amp; Chrome (Android)</li>\n<li><input disabled="" type="checkbox"> Narrator &amp; Edge (Windows)</li>\n<li><input disabled="" type="checkbox"> NVDA &amp; Firefox (Windows)</li>\n<li><input disabled="" type="checkbox"> Windows High Contrast mode</li>\n</ul>\n<h3 id="html">HTML</h3>\n<p>Instead of an article, we encourage to use a section tag for the message container. Heading should be inside a header element and the heading should have a heading tag with a level following the structure of your page. As an example, we use <em>h2</em> since the element probably does not contain the main heading of a page. Inside the delete button, you should add a descriptive text inside the span element targeted for screen readers. Using a span element instead of <em>aria-label</em> we support language translators that do not translate HTML attributes <em>(e.g. Google Translate)</em>.</p>\n<pre><code>&lt;section class=&quot;bulmally-message message&quot;&gt;\n    &lt;header class=&quot;message-header&quot;&gt;\n        &lt;h2&gt;Hello World&lt;/h2&gt;\n        &lt;button class=&quot;delete&quot;&gt;\n            &lt;span class=&quot;is-sr-only&quot;&gt;Close message&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/header&gt;\n    &lt;div class=&quot;message-body&quot;&gt;\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. &lt;strong&gt;Pellentesque risus mi&lt;/strong&gt;, tempus quis placerat ut, porta nec nulla. Vestibulum rhoncus ac ex sit amet fringilla. Nullam gravida purus diam, et dictum &lt;a&gt;felis venenatis&lt;/a&gt; efficitur. Aenean ac &lt;em&gt;eleifend lacus&lt;/em&gt;, in mollis lectus. Donec sodales, arcu et sollicitudin porttitor, tortor urna tempor ligula, id porttitor mi magna a neque. Donec dui urna, vehicula et sem eget, facilisis sodales sem.\n    &lt;/div&gt;\n&lt;/section&gt;</code></pre><h3 id="javascript">JavaScript</h3>\n<p>JavaScript handles removing the element and moving focus to the next sibling of the message element. If the message element has no siblings, focus is moved to the parent element. We encourage placing the message element so that is has a text element next to it. This makes the focus change logical for a screen reader to announce it after the previously focused delete button and the whole message element is removed from the DOM.</p>\n<p>If you create messages dynamically, the <em>Message</em> class has static methods for initalizing new message components. The <em>initMessages()</em> method has an example of how to initalize a single message component.</p>\n<pre><code>/**\n * Class Message\n */\nexport default class Message {\n    /**\n     * Construct the component handler.\n     */\n    constructor() {\n        document.addEventListener(\n            &#39;DOMContentLoaded&#39;,\n            () =&gt; {\n                this.initMessages();\n            }\n        );\n    }\n\n    /**\n     * Find all message elements and initalize their closing functionality.\n     */\n    initMessages() {\n        const messages = document.querySelectorAll( &#39;.bulmally-message&#39; );\n\n        for ( let i = 0; i &lt; messages.length; i++ ) {\n            Message.initMessage( messages[ i ] );\n        }\n    }\n\n    /**\n     * Initializes closing functionalities for a message element.\n     *\n     * @param {HTMLElement} messageElement A message element.\n     */\n    static initMessage( messageElement ) {\n        const deleteButton = messageElement.querySelector( &#39;.delete&#39; );\n        deleteButton.message = messageElement;\n\n        deleteButton.addEventListener( &#39;click&#39;, Message.delete );\n    }\n\n    /**\n     * Handles the click event of a delete button and deletes the message.\n     * Focus is set on the next element before deleting the element.\n     *\n     * @param {Event} event An event object.\n     */\n    static delete( event ) {\n        const message = event.target.message;\n        let focusTo = message.nextElementSibling;\n\n        if ( ! focusTo ) {\n            // If there&#39;s no sibling for the message,\n            // move focus to the parent node.\n            focusTo = message.parentNode;\n        }\n\n        // Force ability to give focus on the sibling.\n        if ( focusTo.tabIndex !== 0 ) {\n            focusTo.setAttribute( &#39;tabindex&#39;, -1 );\n        }\n        focusTo.focus();\n\n        message.remove();\n    }\n}</code></pre><h3 id="scss">SCSS</h3>\n<p>The heading of the message element should be inside a heading tag. Bulma styles headings without any weight by default. We set the correct weight with this simple override.</p>\n<pre><code>.bulmally-message {\n\n    .message-header {\n        h1, h2, h3, h4, h5, h6 {\n            // Override heading weight.\n            font-weight: $message-header-weight;\n        }\n    }\n\n}</code></pre>'},function(t,e,n){"use strict";n.r(e);n(4);function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cache(),this.documentation=n(5),document.addEventListener("DOMContentLoaded",function(){e.docReady()})}var e,i,o;return e=t,(i=[{key:"cache",value:function(){}},{key:"events",value:function(){}},{key:"docReady",value:function(){this.cache(),this.events()}}])&&a(e.prototype,i),o&&a(e,o),t}();function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.documentation=n(6),document.addEventListener("DOMContentLoaded",function(){e.docReady()})}var e,a,i;return e=t,(a=[{key:"cache",value:function(){this.navbarBurger=document.getElementById("js-navbar-burger"),this.navbarMenu=document.getElementById("js-navbar-menu"),this.navbarMenu&&(this.dropdownTogglers=this.navbarMenu.querySelectorAll(".dropdown-toggler"))}},{key:"events",value:function(){var t=this;if(this.navbarBurger&&this.navbarBurger.addEventListener("click",function(){return t.toggleMenu()}),this.dropdownTogglers)for(var e=0;e<this.dropdownTogglers.length;e++)this.dropdownTogglers[e].addEventListener("click",function(e){return t.toggleDropdown(e)})}},{key:"toggleMenu",value:function(){this.navbarBurger.classList.toggle("is-active"),this.navbarMenu.classList.toggle("is-active"),this.toggleAriaExpanded(this.navbarBurger)}},{key:"toggleDropdown",value:function(t){var e=t.target,n=e.getAttribute("aria-controls"),a=this.navbarMenu.querySelector("#".concat(n));this.toggleAriaExpanded(e),a.classList.toggle("is-hidden-touch"),this.toggleAncestorActiveState(e,"has-dropdown")}},{key:"toggleAncestorActiveState",value:function(t,e){for(var n=t.parentNode;n;){if(n.classList.contains(e))return void n.classList.toggle("is-active");n=!!n.parentNode&&n.parentNode}}},{key:"toggleAriaExpanded",value:function(t){var e="false"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",e)}},{key:"docReady",value:function(){this.cache(),this.events()}}])&&o(e.prototype,a),i&&o(e,i),t}();function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var r=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.documentation=n(7),document.addEventListener("DOMContentLoaded",function(){e.docReady()})}var e,a,i;return e=t,(a=[{key:"cache",value:function(){if(this.mainContainer=document.getElementById("js-bulmally-accordion"),this.mainContainer){this.dropdownTogglers=this.mainContainer.querySelectorAll(".accordion-title-button"),this.dropdowns=this.mainContainer.querySelectorAll(".accordion-content");for(var t=0;t<this.dropdowns.length;t++)this.dropdowns[t].classList.add("is-hidden")}}},{key:"events",value:function(){var t=this;if(this.dropdownTogglers)for(var e=function(e){t.dropdownTogglers[e].addEventListener("click",function(){return t.toggleDropdown(t.dropdownTogglers[e])})},n=0;n<this.dropdownTogglers.length;n++)e(n)}},{key:"toggleDropdown",value:function(t){var e=t.getAttribute("aria-controls"),n=this.mainContainer.querySelector("#".concat(e));this.toggleAriaExpanded(t),n.classList.toggle("is-hidden")}},{key:"toggleAriaExpanded",value:function(t){var e="false"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",e)}},{key:"docReady",value:function(){this.cache(),this.events()}}])&&l(e.prototype,a),i&&l(e,i),t}();function d(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var c=35,u=36,h=37,p=38,m=39,b=40,g=13,f=32,v={37:-1,38:-1,39:1,40:1},y=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.documentation=n(8),document.addEventListener("DOMContentLoaded",function(){e.initAllTabs()})}var e,a,i;return e=t,(a=[{key:"initAllTabs",value:function(){if(this.allTabs=document.querySelectorAll(".bulmally-tabs"),this.allTabs)for(var t=0;t<this.allTabs.length;t++)this.init(this.allTabs[t])}},{key:"init",value:function(t){var e=t.querySelector(".tabs").querySelector("ul"),n=e.querySelectorAll("a"),a=e.querySelectorAll("li");e.firstTab=n[0],e.lastTab=n[n.length-1],e.tabs=[],e.panels=[],e.setAttribute("role","tablist");for(var i=0;i<n.length;i++)this.initTab(n[i],e,i);for(var o=0;o<a.length;o++)a[o].setAttribute("role","presentation");this.activateTab(e.firstTab)}},{key:"initTab",value:function(t,e,n){var a=this,i=t.hash.slice(1);t.id="tab-".concat(i),t.tablist=e,e.tabs[n]=t,t.index=n,t.panel=document.getElementById(i),this.initPanel(t.panel,t,e,n),t.setAttribute("role","tab"),t.setAttribute("aria-selected","false"),t.setAttribute("aria-controls",i),t.setAttribute("tabindex","-1"),t.addEventListener("click",function(t){return a.clickEventListener(t)}),t.addEventListener("keydown",function(t){return a.keydownEventListener(t)}),t.addEventListener("keyup",function(t){return a.keyupEventListener(t)})}},{key:"initPanel",value:function(t,e,n,a){0!==a&&(t.hidden=!0),t.setAttribute("tabindex","0"),t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledby",e.id),n.panels.push(t)}},{key:"clickEventListener",value:function(t){t.preventDefault();var e=t.target;this.activateTab(e,!1)}},{key:"keydownEventListener",value:function(t){var e=t.keyCode,n=t.target.tablist;switch(e){case c:t.preventDefault(),this.focusLastTab(n);break;case u:t.preventDefault(),this.focusFirstTab(n);break;case p:case b:this.determineOrientation(t);break;case g:case f:t.preventDefault(),this.activateTab(t.target,!1)}}},{key:"keyupEventListener",value:function(t){switch(t.keyCode){case h:case m:this.determineOrientation(t)}}},{key:"determineOrientation",value:function(t){var e=t.keyCode,n=!1;"vertical"===t.target.tablist.getAttribute("aria-orientation")?e!==p&&e!==b||(t.preventDefault(),n=!0):e!==h&&e!==m||(n=!0),n&&this.switchTabOnArrowPress(t)}},{key:"switchTabOnArrowPress",value:function(t){var e=t.keyCode;if(v[e]){var n=t.target,a=n.tablist,i=a.tabs;void 0!==n.index&&(i[n.index+v[e]]?i[n.index+v[e]].focus():e===h||e===p?this.focusLastTab(a):e!==m&&e!==b||this.focusFirstTab(a))}}},{key:"activateTab",value:function(t,e){this.deactivateTabs(t.tablist),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),t.parentNode.classList.add("is-active"),t.panel.removeAttribute("hidden"),e&&t.panel.focus()}},{key:"deactivateTabs",value:function(t){for(var e=0;e<t.tabs.length;e++)t.tabs[e].parentNode.classList.remove("is-active"),t.tabs[e].setAttribute("tabindex","-1"),t.tabs[e].setAttribute("aria-selected","false");for(var n=0;n<t.panels.length;n++)t.panels[n].setAttribute("hidden","hidden")}},{key:"focusFirstTab",value:function(t){t.firstTab.focus()}},{key:"focusLastTab",value:function(t){t.lastTab.focus()}}])&&d(e.prototype,a),i&&d(e,i),t}();function q(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var k=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.documentation=n(9),document.addEventListener("DOMContentLoaded",function(){e.docReady()})}var e,a,i;return e=t,(a=[{key:"cache",value:function(){this.rootEl=document.documentElement,this.$modals=[],this.$modalButtons=document.querySelectorAll(".modal-button"),this.$modalCloses=document.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button, .modal-close-button")}},{key:"events",value:function(){var t=this;this.$modalButtons.length>0&&this.$modalButtons.forEach(function(e){var n=document.getElementById(e.getAttribute("aria-controls"));n.openingButton=e,n.isOpened=0,t.$modals.push(n),e.addEventListener("click",function(){t.openModal(n),t.toggleAriaExpanded(e)})}),this.$modalCloses.length>0&&this.$modalCloses.forEach(function(e){e.addEventListener("click",function(){t.closeModals()})}),document.addEventListener("keydown",function(e){27===(e||window.event).keyCode&&t.closeModals()})}},{key:"openModal",value:function(t){var e=this;this.rootEl.classList.add("is-clipped"),t.classList.add("is-active"),t.isOpened=1;var n=t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');n.length&&(t.focusableElements=n,t.focusableElements.first=n[0],t.focusableElements.last=n[n.length-1],t.focusableElements.first.focus(),document.addEventListener("keydown",function(n){var a=n||window.event;9===a.keyCode&&e.handleModalTabbing(a,t)}))}},{key:"closeModals",value:function(){var t=this;this.rootEl.classList.remove("is-clipped"),this.$modals.forEach(function(e){e.classList.remove("is-active"),e.isOpened&&(e.openingButton.focus(),t.toggleAriaExpanded(e.openingButton),e.isOpened=0)})}},{key:"handleModalTabbing",value:function(t,e){t.shiftKey?e.focusableElements.first===document.activeElement&&(t.preventDefault(),e.focusableElements.last.focus()):e.focusableElements.last===document.activeElement&&(t.preventDefault(),e.focusableElements.first.focus())}},{key:"toggleAriaExpanded",value:function(t){var e="false"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",e)}},{key:"docReady",value:function(){this.cache(),this.events()}}])&&q(e.prototype,a),i&&q(e,i),t}();function w(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var T=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.documentation=n(10),document.addEventListener("DOMContentLoaded",function(){e.initMessages()})}var e,a,i;return e=t,i=[{key:"initMessage",value:function(e){var n=e.querySelector(".delete");n.message=e,n.addEventListener("click",t.delete)}},{key:"delete",value:function(t){var e=t.target.message,n=e.nextElementSibling;n||(n=e.parentNode),0!==n.tabIndex&&n.setAttribute("tabindex",-1),n.focus(),e.remove()}}],(a=[{key:"initMessages",value:function(){for(var e=document.querySelectorAll(".bulmally-message"),n=0;n<e.length;n++)t.initMessage(e[n])}}])&&w(e.prototype,a),i&&w(e,i),t}(),x=n(0),E=n.n(x),A=n(1),S=n.n(A),L=n(2),M=n.n(L);function O(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}E.a.registerLanguage("javascript",S.a),E.a.registerLanguage("scss",M.a),new(function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.components=e,document.addEventListener("DOMContentLoaded",function(){n.initDocumentation()})}var e,n,a;return e=t,(n=[{key:"initDocumentation",value:function(){var t=window.location.pathname;for(var e in this.components){var n=this.components[e];if(t.includes(e)&&n.documentation){var a=document.getElementById("js-markdown");a&&(a.innerHTML=n.documentation,a.querySelectorAll("code").forEach(function(t){var e=document.createElement("pre");t.parentNode.insertBefore(e,t),e.appendChild(t),E.a.highlightBlock(t)}))}}}}])&&O(e.prototype,n),a&&O(e,a),t}())({boilerplate:new i,navbar:new s,accordion:new r,tabs:new y,modal:new k,message:new T})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9ib2lsZXJwbGF0ZS9yZWFkbWUubWQiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9uYXZiYXIvcmVhZG1lLm1kIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvYWNjb3JkaW9uL3JlYWRtZS5tZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3RhYnMvcmVhZG1lLm1kIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbW9kYWwvcmVhZG1lLm1kIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbWVzc2FnZS9yZWFkbWUubWQiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9ib2lsZXJwbGF0ZS9ib2lsZXJwbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL25hdmJhci9uYXZiYXIuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9hY2NvcmRpb24vYWNjb3JkaW9uLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvdGFicy90YWJzLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbW9kYWwvbW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9tZXNzYWdlL21lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL2RvY3VtZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2pzL2FwcC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIkJvaWxlclBsYXRlIiwidGhpcyIsImNhY2hlIiwiZG9jdW1lbnRhdGlvbiIsInJlcXVpcmUiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkb2NSZWFkeSIsImV2ZW50cyIsIk5hdmJhciIsIm5hdmJhckJ1cmdlciIsImdldEVsZW1lbnRCeUlkIiwibmF2YmFyTWVudSIsImRyb3Bkb3duVG9nZ2xlcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwidG9nZ2xlTWVudSIsImV2ZW50IiwidG9nZ2xlRHJvcGRvd24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0b2dnbGVBcmlhRXhwYW5kZWQiLCJ0YXJnZXQiLCJjb250YWluZXJJZCIsImdldEF0dHJpYnV0ZSIsImRyb3Bkb3duTWVudSIsInF1ZXJ5U2VsZWN0b3IiLCJ0b2dnbGVBbmNlc3RvckFjdGl2ZVN0YXRlIiwiY2hpbGQiLCJjbGFzc05hbWUiLCJhbmNlc3RvciIsInBhcmVudE5vZGUiLCJjb250YWlucyIsInRvZ2dsZXIiLCJhcmlhRXhwYW5kZWRTdGF0ZSIsInNldEF0dHJpYnV0ZSIsIkFjY29yZGlvbiIsIm1haW5Db250YWluZXIiLCJkcm9wZG93bnMiLCJhZGQiLCJjbGlja2VkVG9nZ2xlciIsImRyb3BEb3duQ29udGVudCIsImtleXMiLCJkaXJlY3Rpb24iLCIzNyIsIjM4IiwiMzkiLCI0MCIsIlRhYnMiLCJpbml0QWxsVGFicyIsImFsbFRhYnMiLCJpbml0IiwidGFic0VsZW1lbnQiLCJ0YWJsaXN0IiwidGFicyIsInRhYkxpc3RJdGVtcyIsImZpcnN0VGFiIiwibGFzdFRhYiIsInBhbmVscyIsImluaXRUYWIiLCJhY3RpdmF0ZVRhYiIsInRhYiIsImluZGV4IiwicGFuZWxJZCIsImhhc2giLCJpZCIsInBhbmVsIiwiaW5pdFBhbmVsIiwiY2xpY2tFdmVudExpc3RlbmVyIiwia2V5ZG93bkV2ZW50TGlzdGVuZXIiLCJrZXl1cEV2ZW50TGlzdGVuZXIiLCJoaWRkZW4iLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJmb2N1c0xhc3RUYWIiLCJmb2N1c0ZpcnN0VGFiIiwiZGV0ZXJtaW5lT3JpZW50YXRpb24iLCJwcm9jZWVkIiwic3dpdGNoVGFiT25BcnJvd1ByZXNzIiwicHJlc3NlZCIsInVuZGVmaW5lZCIsImZvY3VzIiwic2V0Rm9jdXMiLCJkZWFjdGl2YXRlVGFicyIsInJlbW92ZUF0dHJpYnV0ZSIsInJlbW92ZSIsIk1vZGFsIiwicm9vdEVsIiwiZG9jdW1lbnRFbGVtZW50IiwiJG1vZGFscyIsIiRtb2RhbEJ1dHRvbnMiLCIkbW9kYWxDbG9zZXMiLCJmb3JFYWNoIiwiYnV0dG9uIiwibW9kYWwiLCJvcGVuaW5nQnV0dG9uIiwiaXNPcGVuZWQiLCJvcGVuTW9kYWwiLCJjbG9zZU1vZGFscyIsImZvY3VzYWJsZUVsZW1lbnRzIiwiZmlyc3QiLCJsYXN0IiwiZSIsImhhbmRsZU1vZGFsVGFiYmluZyIsInNoaWZ0S2V5IiwiYWN0aXZlRWxlbWVudCIsIk1lc3NhZ2UiLCJpbml0TWVzc2FnZXMiLCJtZXNzYWdlRWxlbWVudCIsImRlbGV0ZUJ1dHRvbiIsIm1lc3NhZ2UiLCJmb2N1c1RvIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidGFiSW5kZXgiLCJtZXNzYWdlcyIsImluaXRNZXNzYWdlIiwiaGxqcyIsInJlZ2lzdGVyTGFuZ3VhZ2UiLCJqYXZhc2NyaXB0Iiwic2NzcyIsImNvbXBvbmVudHMiLCJpbml0RG9jdW1lbnRhdGlvbiIsInBhdGhuYW1lIiwibG9jYXRpb24iLCJzbHVnIiwiY29tcG9uZW50IiwiaW5jbHVkZXMiLCJkb2NDb250YWluZXIiLCJpbm5lckhUTUwiLCJibG9jayIsIndyYXBwZXIiLCJjcmVhdGVFbGVtZW50IiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJoaWdobGlnaHRCbG9jayIsImJvaWxlcnBsYXRlIiwibmF2YmFyIiwiYWNjb3JkaW9uIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVB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R0FDeENDLEVBQVFHLFlBQWFKLEdBRXJCYixJQUFLa0IsZUFBZ0JMLGEsZ0NDbkNyQyxDQVhtQixDQUNmTSxZQUFhLElBQUl0SSxFQUNqQnVJLE9BQVEsSUFBSTlILEVBQ1orSCxVQUFXLElBQUlyRyxFQUNma0IsS0FBTSxJQUFJTixFQUNWOEMsTUFBTyxJQUFJUixFQUNYd0IsUUFBUyxJQUFJSiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDA6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzMsMV0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGgyIGlkPVxcXCJjb21wb25lbnQtZG9jdW1lbnRhdGlvblxcXCI+Q29tcG9uZW50IGRvY3VtZW50YXRpb248L2gyPlxcbjxwPjxlbT5BZGQgY29tcG9uZW50IHNwZWNpZmljIGRvY3VtZW50YXRpb24gaGVyZS48L2VtPjwvcD5cXG48aDMgaWQ9XFxcInRlc3RzLWFuZC1hY2Nlc3NpYmlsaXR5LXN0YXR1c1xcXCI+VGVzdHMgYW5kIGFjY2Vzc2liaWxpdHkgc3RhdHVzPC9oMz5cXG48cD5UaGUgYWNjZXNzaWJpbGl0eS1yZWFkeSBzdGF0dXMgb2YgdGhpcyBjb21wb25lbnQgaXM6IHVudGVzdGVkLjwvcD5cXG48dWw+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IEtleWJvYXJkLW9ubHk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChtYWNPUyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChpT1MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVm9pY2VPdmVyICZhbXA7IFNhZmFyaSAoaVBhZE9TKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFRhbGtiYWNrICZhbXA7IENocm9tZSAoQW5kcm9pZCk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBOYXJyYXRvciAmYW1wOyBFZGdlIChXaW5kb3dzKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IE5WREEgJmFtcDsgRmlyZWZveCAoV2luZG93cyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBXaW5kb3dzIEhpZ2ggQ29udHJhc3QgbW9kZTwvbGk+XFxuPC91bD5cXG48aDMgaWQ9XFxcImh0bWxcXFwiPkhUTUw8L2gzPlxcbjxwPjxlbT5Eb2N1bWVudCBIVE1MICBtYXJrdXAgaGVyZSBhbmQgYWRkIHRoZSBjb2RlIGJsb2NrIGZvciBlYXN5IGNvcHktcGFzdGluZy48L2VtPjwvcD5cXG48cHJlPjxjb2RlPiZsdDtidXR0b24gY2xhc3M9JnF1b3Q7YnV0dG9uIGJ1dHRvbi0tYm9pbGVycGxhdGUmcXVvdDsmZ3Q7Qm9pbGVycGxhdGUmbHQ7L2J1dHRvbiZndDs8L2NvZGU+PC9wcmU+PGgzIGlkPVxcXCJqYXZhc2NyaXB0XFxcIj5KYXZhU2NyaXB0PC9oMz5cXG48cD48ZW0+RG9jdW1lbnQgSmF2YVNjcmlwdCBtYXJrdXAgaGVyZSBhbmQgYWRkIHRoZSBjb2RlIGJsb2NrIGZvciBlYXN5IGNvcHktcGFzdGluZy48L2VtPjwvcD5cXG48cHJlPjxjb2RlPmNvbnN0IHNvbWV0aGluZyA9IDEyMzs8L2NvZGU+PC9wcmU+PGgzIGlkPVxcXCJzY3NzXFxcIj5TQ1NTPC9oMz5cXG48cD48ZW0+RG9jdW1lbnQgU0NTUyBtYXJrdXAgaGVyZSBhbmQgYWRkIHRoZSBjb2RlIGJsb2NrIGZvciBlYXN5IGNvcHktcGFzdGluZy48L2VtPjwvcD5cXG48cHJlPjxjb2RlPi5idXR0b24tLWJvaWxlcnBsYXRlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcXG59PC9jb2RlPjwvcHJlPlwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8aDIgaWQ9XFxcIm5hdmJhci1jb21wb25lbnRcXFwiPk5hdmJhciBjb21wb25lbnQ8L2gyPlxcbjxwPlRoaXMgY29tcG9uZW50IHByb3ZpZGVzIGEgZnVsbHkgZnVuY3Rpb25hbCBuYXZiYXIgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBCdWxtYSBuYXZiYXIgY29tcG9uZW50LjwvcD5cXG48aDMgaWQ9XFxcInRlc3RzLWFuZC1hY2Nlc3NpYmlsaXR5LXN0YXR1c1xcXCI+VGVzdHMgYW5kIGFjY2Vzc2liaWxpdHkgc3RhdHVzPC9oMz5cXG48cD5UaGUgYWNjZXNzaWJpbGl0eS1yZWFkeSBzdGF0dXMgb2YgdGhpcyBjb21wb25lbnQgaXM6IHVudGVzdGVkLjwvcD5cXG48dWw+XFxuPGxpPjxpbnB1dCBjaGVja2VkPVxcXCJcXFwiIGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gS2V5Ym9hcmQtb25seTwvbGk+XFxuPGxpPjxpbnB1dCBjaGVja2VkPVxcXCJcXFwiIGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVm9pY2VPdmVyICZhbXA7IFNhZmFyaSAobWFjT1MpPC9saT5cXG48bGk+PGlucHV0IGNoZWNrZWQ9XFxcIlxcXCIgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChpT1MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVm9pY2VPdmVyICZhbXA7IFNhZmFyaSAoaVBhZE9TKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFRhbGtiYWNrICZhbXA7IENocm9tZSAoQW5kcm9pZCk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBOYXJyYXRvciAmYW1wOyBFZGdlIChXaW5kb3dzKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IE5WREEgJmFtcDsgRmlyZWZveCAoV2luZG93cyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBXaW5kb3dzIEhpZ2ggQ29udHJhc3QgbW9kZTwvbGk+XFxuPC91bD5cXG48aDMgaWQ9XFxcImh0bWxcXFwiPkhUTUw8L2gzPlxcbjxwPlRoZSBCdWxtYWxseSBuYXZiYXIgZm9sbG93cyB0aGUgQnVsbWEgbmF2YmFyIG1hcmt1cCB3aXRoIHNvbWUgZXhjZXB0aW9ucy4gSG92ZXJhYmxlIGRyb3Bkb3ducyBhcmUgbm90IGFjY2Vzc2libGUsIHRoYXQgaXMgd2h5IHdlIGRvIG5vdCBzdXBwb3J0IHRoZW0uIEluc3RlYWQsIHdlIHByb3ZpZGUgYW4gYWNjZXNzaWJsZSBtYXJrdXAgZm9yIGNvbnRyb2xsaW5nIGEgZHJvcGRvd24gbWVudSB3aXRoaW4gdGhlIG5hdmJhci48L3A+XFxuPHA+VGhlIEJ1bG1hIGRvY3VtZW50YXRpb24gdXNlcyBhIGxpbmsgYXMgdGhlIGRyb3Bkb3duIHRvZ2dsZXIuIFRoaXMgaXMgYmFkIHByYWN0aWNlLCBpdCBzaG91bGQgYmUgYSBidXR0b24uIEJ1bG1hbGx5IGRyb3Bkb3duIHRvZ2dsZXIgY2FuIGJlIGFuIGFjdHVhbCBsaW5rIGl0c2VsZi4gVGhpcyBpcyBkb25lIGJ5IGFkZGluZyBhIGNvbnRhaW5lciB0aGF0IGhvbGRzIHRoZSBsaW5rIGFuZCBhIGJ1dHRvbiBmb3IgdG9nZ2xpbmcgdGhlIGRyb3Bkb3duIG1lbnUuIFRoaXMgbWFrZXMgdGhlIGxpbmsgYWNjZXNzaWJsZSBhbmQgdXNlcyBzZW1hbnRpYyBIVE1MIGVsZW1lbnQgZm9yIHRoZSB0b2dnbGVyOiBhIGJ1dHRvbi4gVGhlIGJ1dHRvbiBoYXMgYSBzY3JlZW4gcmVhZGVyIG9ubHkgdGV4dCBhbmQgYSBkb3duIGFycm93IGZvciBzaWdodGVkIHVzYWdlLjwvcD5cXG48cHJlPjxjb2RlPiZsdDtuYXYgY2xhc3M9JnF1b3Q7bmF2YmFyIGJ1bG1hbGx5LW5hdmJhciZxdW90OyByb2xlPSZxdW90O25hdmlnYXRpb24mcXVvdDsgYXJpYS1sYWJlbD0mcXVvdDttYWluIG5hdmlnYXRpb24mcXVvdDsmZ3Q7XFxuICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bmF2YmFyLWJyYW5kJnF1b3Q7Jmd0O1xcbiAgICAgICAgJmx0O2EgY2xhc3M9JnF1b3Q7bmF2YmFyLWl0ZW0mcXVvdDsgaHJlZj0mcXVvdDsjJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICZsdDtzcGFuIGNsYXNzPSZxdW90O2lzLXNyLW9ubHkmcXVvdDsmZ3Q7SG9tZSZsdDsvc3BhbiZndDtcXG4gICAgICAgICAgICAmbHQ7aW1nIHNyYz0mcXVvdDtodHRwczovL2J1bG1hLmlvL2ltYWdlcy9idWxtYS1sb2dvLnBuZyZxdW90OyB3aWR0aD0mcXVvdDsxMTImcXVvdDsgaGVpZ2h0PSZxdW90OzI4JnF1b3Q7IGFyaWEtaGlkZGVuPXRydWUmZ3Q7XFxuICAgICAgICAmbHQ7L2EmZ3Q7XFxuXFxuICAgICAgICAmbHQ7YnV0dG9uXFxuICAgICAgICAgICAgaWQ9JnF1b3Q7anMtbmF2YmFyLWJ1cmdlciZxdW90O1xcbiAgICAgICAgICAgIGNsYXNzPSZxdW90O25hdmJhci1idXJnZXIgYnVyZ2VyJnF1b3Q7XFxuICAgICAgICAgICAgYXJpYS1leHBhbmRlZD0mcXVvdDtmYWxzZSZxdW90O1xcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9JnF1b3Q7T3BlbiBtZW51JnF1b3Q7XFxuICAgICAgICAgICAgYXJpYS1leHBhbmRlZD0mcXVvdDtmYWxzZSZxdW90O1xcbiAgICAgICAgICAgIGFyaWEtY29udHJvbHM9JnF1b3Q7anMtbWVudSZxdW90OyZndDtcXG4gICAgICAgICAgICAmbHQ7c3BhbiBhcmlhLWhpZGRlbj0mcXVvdDt0cnVlJnF1b3Q7Jmd0OyZsdDsvc3BhbiZndDtcXG4gICAgICAgICAgICAmbHQ7c3BhbiBhcmlhLWhpZGRlbj0mcXVvdDt0cnVlJnF1b3Q7Jmd0OyZsdDsvc3BhbiZndDtcXG4gICAgICAgICAgICAmbHQ7c3BhbiBhcmlhLWhpZGRlbj0mcXVvdDt0cnVlJnF1b3Q7Jmd0OyZsdDsvc3BhbiZndDtcXG4gICAgICAgICZsdDsvYnV0dG9uJmd0O1xcbiAgICAmbHQ7L2RpdiZndDtcXG5cXG4gICAgJmx0O2RpdiBpZD0mcXVvdDtqcy1uYXZiYXItbWVudSZxdW90OyBjbGFzcz0mcXVvdDtuYXZiYXItbWVudSZxdW90OyZndDtcXG4gICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bmF2YmFyLXN0YXJ0JnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICZsdDthIGNsYXNzPSZxdW90O25hdmJhci1pdGVtJnF1b3Q7IGhyZWY9JnF1b3Q7IyZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgSG9tZVxcbiAgICAgICAgICAgICZsdDsvYSZndDtcXG5cXG4gICAgICAgICAgICAmbHQ7YSBjbGFzcz0mcXVvdDtuYXZiYXItaXRlbSZxdW90OyBocmVmPSZxdW90OyMmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgIERvY3VtZW50YXRpb25cXG4gICAgICAgICAgICAmbHQ7L2EmZ3Q7XFxuXFxuICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtuYXZiYXItaXRlbSBoYXMtZHJvcGRvd24gbGV2ZWwmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bmF2YmFyLWRyb3Bkb3duLWNvbnRyb2wmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7IS0tIFRoZSBsaW5rIGlzIGNsaWNrYWJsZS4gLS0mZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7YSBjbGFzcz0mcXVvdDtuYXZiYXItbGluayBpcy1hcnJvd2xlc3MmcXVvdDsgaHJlZj0mcXVvdDsjJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vcmVcXG4gICAgICAgICAgICAgICAgICAgICZsdDsvYSZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDshLS0gVGhpcyBidXR0b24gaW1wbGVtZW50cyB0aGUgZHJvcGRvd24gdG9nZ2xlci4gLS0mZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7YnV0dG9uIGNsYXNzPSZxdW90O2Ryb3Bkb3duLXRvZ2dsZXIgaWNvbiZxdW90OyBhcmlhLWV4cGFuZGVkPWZhbHNlIGFyaWEtY29udHJvbHM9JnF1b3Q7anMtbmF2YmFyLWRyb3Bkb3duLTEmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJmx0O3NwYW4gY2xhc3M9JnF1b3Q7aXMtc3Itb25seSZxdW90OyZndDtPcGVuIG1lbnUmbHQ7L3NwYW4mZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2kgY2xhc3M9JnF1b3Q7YXJyb3cmcXVvdDsgYXJpYS1oaWRkZW49JnF1b3Q7dHJ1ZSZxdW90OyZndDsmbHQ7L2kmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7L2J1dHRvbiZndDtcXG4gICAgICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuXFxuICAgICAgICAgICAgICAgICZsdDshLS1cXG4gICAgICAgICAgICAgICAgICAgIEJ1bG1hIGRvZXMgbm90IGhpZGUgZHJvcGRvd24gbWVudSBvbiB0b3VjaC5cXG4gICAgICAgICAgICAgICAgICAgIFdlIGhpZGUgaXQgaGVyZSB3aXRoIHRoZSBtb2RpZmllciBjbGFzcy5cXG4gICAgICAgICAgICAgICAgICAgIFRvZ2dsaW5nIGlzIGhhbmRsZWQgd2l0aCBKUy5cXG4gICAgICAgICAgICAgICAgLS0mZ3Q7XFxuICAgICAgICAgICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bmF2YmFyLWRyb3Bkb3duIGlzLWhpZGRlbi10b3VjaCZxdW90OyBpZD0mcXVvdDtqcy1uYXZiYXItZHJvcGRvd24tMSZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDthIGNsYXNzPSZxdW90O25hdmJhci1pdGVtJnF1b3Q7IGhyZWY9JnF1b3Q7IyZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICBBYm91dFxcbiAgICAgICAgICAgICAgICAgICAgJmx0Oy9hJmd0O1xcbiAgICAgICAgICAgICAgICAgICAgJmx0O2EgY2xhc3M9JnF1b3Q7bmF2YmFyLWl0ZW0mcXVvdDsgaHJlZj0mcXVvdDsjJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgIEpvYnNcXG4gICAgICAgICAgICAgICAgICAgICZsdDsvYSZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDthIGNsYXNzPSZxdW90O25hdmJhci1pdGVtJnF1b3Q7IGhyZWY9JnF1b3Q7IyZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICBDb250YWN0XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7L2EmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7aHIgY2xhc3M9JnF1b3Q7bmF2YmFyLWRpdmlkZXImcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7YSBjbGFzcz0mcXVvdDtuYXZiYXItaXRlbSZxdW90OyBocmVmPSZxdW90OyMmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVwb3J0IGFuIGlzc3VlXFxuICAgICAgICAgICAgICAgICAgICAmbHQ7L2EmZ3Q7XFxuICAgICAgICAgICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuXFxuICAgICAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O25hdmJhci1lbmQmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtuYXZiYXItaXRlbSZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtidXR0b25zJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgJmx0O2EgY2xhc3M9JnF1b3Q7YnV0dG9uIGlzLXByaW1hcnkmcXVvdDsgaHJlZj0mcXVvdDsjJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICZsdDtzdHJvbmcmZ3Q7U2lnbiB1cCZsdDsvc3Ryb25nJmd0O1xcbiAgICAgICAgICAgICAgICAgICAgJmx0Oy9hJmd0O1xcbiAgICAgICAgICAgICAgICAgICAgJmx0O2EgY2xhc3M9JnF1b3Q7YnV0dG9uIGlzLWxpZ2h0JnF1b3Q7IGhyZWY9JnF1b3Q7IyZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cgaW5cXG4gICAgICAgICAgICAgICAgICAgICZsdDsvYSZndDtcXG4gICAgICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgJmx0Oy9kaXYmZ3Q7XFxuJmx0Oy9uYXYmZ3Q7PC9jb2RlPjwvcHJlPjxoMyBpZD1cXFwiamF2YXNjcmlwdFxcXCI+SmF2YVNjcmlwdDwvaDM+XFxuPHA+VGhpcyBKUyBpbXBsZW1lbnRhdGlvbiBpcyB3cml0dGVuIGluIEVTNiBhbmQgdXNlcyBWYW5pbGxhSlMgdG8gY29udHJvbCB0aGUgc3RhdGVzIGluIHRoZSBET00uIFlvdSBtYXkgdXNlIGl0IGFzIGl0IGlzIGFuZCB1c2UgPGEgaHJlZj1cXFwiaHR0cHM6Ly9iYWJlbGpzLmlvL1xcXCI+QmFiZWw8L2E+IHRvIG1ha2UgaXQgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBvbGRlciBicm93c2Vycy4gSWYgeW91IGRvIG5vdCBoYXZlIEJhYmVsIGluIHlvdXIgZW52aXJvbm1lbnQsIGl0IHNob3VsZCBiZSBwcmV0dHkgc3RyYWlnaHRmb3J3YXJkIHRvIGNvcHkgdGhlIHJlcXVpcmVkIHBhcnRzIG9mIHRoaXMgY29kZS48L3A+XFxuPHByZT48Y29kZT4vKipcXG4gKiBDbGFzcyBOYXZiYXJcXG4gKi9cXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZiYXIge1xcbiAgICAvKipcXG4gICAgICogVGhpcyBtZXRob2QgaXMgcnVuIGF1dG9tYXRpY2FsbHkgd2hlbiB0aGUgbW9kdWxlIGlzIGltcG9ydGVkLFxcbiAgICAgKiBiZWNhdXNlIGl0IGV4cG9ydHMgYSBuZXcgaW5zdGFuY2Ugb2YgaXRzZWxmLlxcbiAgICAgKi9cXG4gICAgY29uc3RydWN0b3IoKSB7XFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxcbiAgICAgICAgICAgICYjMzk7RE9NQ29udGVudExvYWRlZCYjMzk7LFxcbiAgICAgICAgICAgICgpID0mZ3Q7IHtcXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NSZWFkeSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENhY2hlIGRvbSBlbGVtZW50cyBmb3IgdXNlIGluIHRoZSBjbGFzcyYjMzk7cyBtZXRob2RzXFxuICAgICAqL1xcbiAgICBjYWNoZSgpIHtcXG4gICAgICAgIHRoaXMubmF2YmFyQnVyZ2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICYjMzk7anMtbmF2YmFyLWJ1cmdlciYjMzk7ICk7XFxuICAgICAgICB0aGlzLm5hdmJhck1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJiMzOTtqcy1uYXZiYXItbWVudSYjMzk7ICk7XFxuICAgICAgICBpZiAoIHRoaXMubmF2YmFyTWVudSApIHtcXG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMgPSB0aGlzLm5hdmJhck1lbnUucXVlcnlTZWxlY3RvckFsbCggJiMzOTsuZHJvcGRvd24tdG9nZ2xlciYjMzk7ICk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lcnMuXFxuICAgICAqL1xcbiAgICBldmVudHMoKSB7XFxuICAgICAgICBpZiAoIHRoaXMubmF2YmFyQnVyZ2VyICkge1xcbiAgICAgICAgICAgIHRoaXMubmF2YmFyQnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoICYjMzk7Y2xpY2smIzM5OywgKCkgPSZndDsgdGhpcy50b2dnbGVNZW51KCkgKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGlmICggdGhpcy5kcm9wZG93blRvZ2dsZXJzICkge1xcbiAgICAgICAgICAgIGZvciAoIGxldCBpID0gMDsgaSAmbHQ7IHRoaXMuZHJvcGRvd25Ub2dnbGVycy5sZW5ndGg7IGkrKyApIHtcXG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93blRvZ2dsZXJzWyBpIF0uYWRkRXZlbnRMaXN0ZW5lciggJiMzOTtjbGljayYjMzk7LCAoIGV2ZW50ICkgPSZndDsgdGhpcy50b2dnbGVEcm9wZG93biggZXZlbnQgKSApO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogSGFuZGxlIG1lbnUgdG9nZ2xpbmcgd2hlbiB0aGUgbmF2YmFyIGJ1cmdlciBpcyBjbGlja2VkLlxcbiAgICAgKi9cXG4gICAgdG9nZ2xlTWVudSgpIHtcXG4gICAgICAgIHRoaXMubmF2YmFyQnVyZ2VyLmNsYXNzTGlzdC50b2dnbGUoICYjMzk7aXMtYWN0aXZlJiMzOTsgKTtcXG4gICAgICAgIHRoaXMubmF2YmFyTWVudS5jbGFzc0xpc3QudG9nZ2xlKCAmIzM5O2lzLWFjdGl2ZSYjMzk7ICk7XFxuICAgICAgICB0aGlzLnRvZ2dsZUFyaWFFeHBhbmRlZCggdGhpcy5uYXZiYXJCdXJnZXIgKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogVG9nZ2xlcyBhIGRyb3Bkb3duIG1lbnUgdmlzaWJpbGl0eS5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgQSBjbGljayBldmVudC5cXG4gICAgICovXFxuICAgIHRvZ2dsZURyb3Bkb3duKCBldmVudCApIHtcXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcklkID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSggJiMzOTthcmlhLWNvbnRyb2xzJiMzOTsgKTtcXG4gICAgICAgIGNvbnN0IGRyb3Bkb3duTWVudSA9IHRoaXMubmF2YmFyTWVudS5xdWVyeVNlbGVjdG9yKCBgIyR7IGNvbnRhaW5lcklkIH1gIFxcdTAwMWQpO1xcblxcbiAgICAgICAgdGhpcy50b2dnbGVBcmlhRXhwYW5kZWQoIHRhcmdldCApO1xcbiAgICAgICAgZHJvcGRvd25NZW51LmNsYXNzTGlzdC50b2dnbGUoICYjMzk7aXMtaGlkZGVuLXRvdWNoJiMzOTsgKTtcXG4gICAgICAgIHRoaXMudG9nZ2xlQW5jZXN0b3JBY3RpdmVTdGF0ZSggdGFyZ2V0LCAmIzM5O2hhcy1kcm9wZG93biYjMzk7ICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFNldCB0aGUgJiMzOTtpcy1hY3RpdmUmIzM5OyBzdGF0ZSBmb3IgYW4gYW5jZXN0b3Igb2YgYW4gZWxlbWVudFxcbiAgICAgKiB3aXRoIHRoZSBtYXRjaGluZyBjbGFzcyBuYW1lLlxcbiAgICAgKlxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjaGlsZCBBIGNoaWxkIGVsZW1lbnQgdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLlxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjbGFzc05hbWUgQSB0YXJnZXQgY2xhc3MgbmFtZSBmb3IgdGhlIGFuY2VzdG9yLlxcbiAgICAgKi9cXG4gICAgdG9nZ2xlQW5jZXN0b3JBY3RpdmVTdGF0ZSggY2hpbGQsIGNsYXNzTmFtZSApIHtcXG4gICAgICAgIGxldCBhbmNlc3RvciA9IGNoaWxkLnBhcmVudE5vZGU7XFxuICAgICAgICB3aGlsZSAoIGFuY2VzdG9yICkge1xcbiAgICAgICAgICAgIGlmICggYW5jZXN0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCBjbGFzc05hbWUgKSApIHtcXG4gICAgICAgICAgICAgICAgYW5jZXN0b3IuY2xhc3NMaXN0LnRvZ2dsZSggJiMzOTtpcy1hY3RpdmUmIzM5OyApO1xcbiAgICAgICAgICAgICAgICByZXR1cm47XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZSA/IGFuY2VzdG9yLnBhcmVudE5vZGUgOiBmYWxzZTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogR2V0IHRoZSB0b2dnbGVyJiMzOTtzIGFyaWEtZXhwYW5kZWQgY3VycmVudCBzdGF0ZSBhbmQgc2V0IGEgbmV3IG9wcG9zaXRlIHN0YXRlIHRvIGl0LlxcbiAgICAgKiBBbHNvIHNldCB0aGUgb3BlbmVkIGNvbnRhaW5lciYjMzk7cyBhcmlhLWhpZGRlbiBzdGF0ZSB0byB0aGUgbmV3IHZhbHVlJiMzOTtzIG9wcG9zaXRlLlxcbiAgICAgKlxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0b2dnbGVyIFRoZSB0b2dnbGVyIGVsZW1lbnQuXFxuICAgICAqL1xcbiAgICB0b2dnbGVBcmlhRXhwYW5kZWQoIHRvZ2dsZXIgKSB7XFxuICAgICAgICBjb25zdCBhcmlhRXhwYW5kZWRTdGF0ZSA9IHRvZ2dsZXIuZ2V0QXR0cmlidXRlKCAmIzM5O2FyaWEtZXhwYW5kZWQmIzM5OyApID09PSAmIzM5O2ZhbHNlJiMzOTsgPyB0cnVlIDogZmFsc2U7XFxuICAgICAgICB0b2dnbGVyLnNldEF0dHJpYnV0ZSggJiMzOTthcmlhLWV4cGFuZGVkJiMzOTssIGFyaWFFeHBhbmRlZFN0YXRlICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFJ1biB3aGVuIHRoZSBkb2N1bWVudCBpcyByZWFkeS5cXG4gICAgICovXFxuICAgIGRvY1JlYWR5KCkge1xcbiAgICAgICAgdGhpcy5jYWNoZSgpO1xcbiAgICAgICAgdGhpcy5ldmVudHMoKTtcXG4gICAgfVxcbn08L2NvZGU+PC9wcmU+PGgzIGlkPVxcXCJzY3NzXFxcIj5TQ1NTPC9oMz5cXG48cD5XZSB1c2UgdGhlIGNvbXBvbmVudCBjbGFzcyBuYW1lIGFzIHRoZSBDU1Mgc2NvcGUgZm9yIG91ciBtb2RpZmljYXRpb25zIGZvciB0aGUgYmFzaWMgQnVsbWEgQ1NTIGNvZGUuIFdlIGtlZXAgdGhlIGNoYW5nZXMgdG8gYSBtaW5pbXVtIGFuZCBtb3N0IG9mIHRoaXMgY29kZSBpcyBhcHBsaWVkIHRvIHNlcGFyYXRlIHRoZSBkcm9wZG93biB0b2dnbGVyIGZyb20gdGhlIG1lbnUgbGluayBjb250YWluaW5nIGEgZHJvcGRvd24gbWVudS48L3A+XFxuPHByZT48Y29kZT4vLyBUaGlzIGZpbGUgY29udGFpbnMgc3R5bGVzIGZvciB0aGUgbmF2YmFyIGNvbXBvbmVudC5cXG4uYnVsbWFsbHktbmF2YmFyIHtcXG5cXG4gICAgLy8gUmVzZXQgYWxsIGJ1dHRvbnMgaW5zaWRlIGEgbmF2YmFyLlxcbiAgICBidXR0b24ge1xcbiAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcXG4gICAgICAgIGJvcmRlcjogMDtcXG4gICAgfVxcblxcbiAgICAubmF2YmFyLWJ1cmdlciB7XFxuICAgICAgICAmYW1wOzpob3ZlciB7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogJG5hdmJhci1kcm9wZG93bi1pdGVtLWhvdmVyLWJhY2tncm91bmQtY29sb3I7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLm5hdmJhci1kcm9wZG93bi1jb250cm9sIHtcXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG5cXG4gICAgICAgIC5uYXZiYXItbGluayB7XFxuICAgICAgICAgICAgZmxleDogMSAxIGF1dG87XFxuICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMXJlbTtcXG5cXG4gICAgICAgICAgICAmYW1wOzpob3ZlciB7XFxuICAgICAgICAgICAgICAgIC8vIFRoZSBsaW5rIGJhY2tncm91bmQgaXMgY29udHJvbGxlZCBvbiB0aGUgJiMzOTsuaGFzLWRyb3Bkb3duJiMzOTsgbGV2ZWwuXFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IG5vbmU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC5uYXZiYXItaXRlbSB7XFxuICAgICAgICAmYW1wOy5oYXMtZHJvcGRvd24ge1xcbiAgICAgICAgICAgICZhbXA7OmhvdmVyLFxcbiAgICAgICAgICAgICZhbXA7LmlzLWFjdGl2ZSB7XFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICRuYXZiYXItaXRlbS1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAuZHJvcGRvd24tdG9nZ2xlciB7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7IC8vIE1ha2UgdGhlIGFycm93IHN0aWNrIHRvIHRoZSBidXR0b24uXFxuICAgICAgICBmbGV4OiAwIDAgYXV0bztcXG4gICAgICAgIG1hcmdpbi1yaWdodDogLjc1cmVtO1xcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtICRzcGVlZCAkZWFzaW5nO1xcblxcbiAgICAgICAgJmFtcDtbYXJpYS1leHBhbmRlZD0mcXVvdDt0cnVlJnF1b3Q7XSB7XFxuICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5hcnJvdyB7XFxuICAgICAgICAgICAgQGV4dGVuZCAlYXJyb3c7XFxuICAgICAgICAgICAgd2lkdGg6IC43NXJlbTtcXG4gICAgICAgICAgICBoZWlnaHQ6IC43NXJlbTtcXG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAtLjVyZW07XFxuICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiAkbmF2YmFyLWRyb3Bkb3duLWFycm93O1xcbiAgICAgICAgfVxcbiAgICB9XFxufTwvY29kZT48L3ByZT5cIjsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGgyIGlkPVxcXCJhY2NvcmRpb24tY29tcG9uZW50XFxcIj5BY2NvcmRpb24gY29tcG9uZW50PC9oMj5cXG48cD5UaGlzIGNvbXBvbmVudCBwcm92aWRlcyBhbiBhY2NvcmRpb24gZnVuY3Rpb25hbGl0eSB3aXRoIGFkZGVkIGFjY2Vzc2libGUgSlMgaW1wbGVtZW50YXRpb24uPC9wPlxcbjxoMyBpZD1cXFwidGVzdHMtYW5kLWFjY2Vzc2liaWxpdHktc3RhdHVzXFxcIj5UZXN0cyBhbmQgYWNjZXNzaWJpbGl0eSBzdGF0dXM8L2gzPlxcbjxwPlRoZSBhY2Nlc3NpYmlsaXR5LXJlYWR5IHN0YXR1cyBvZiB0aGlzIGNvbXBvbmVudCBpczogdW50ZXN0ZWQuPC9wPlxcbjx1bD5cXG48bGk+PGlucHV0IGNoZWNrZWQ9XFxcIlxcXCIgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBLZXlib2FyZC1vbmx5PC9saT5cXG48bGk+PGlucHV0IGNoZWNrZWQ9XFxcIlxcXCIgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChtYWNPUyk8L2xpPlxcbjxsaT48aW5wdXQgY2hlY2tlZD1cXFwiXFxcIiBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFZvaWNlT3ZlciAmYW1wOyBTYWZhcmkgKGlPUyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChpUGFkT1MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVGFsa2JhY2sgJmFtcDsgQ2hyb21lIChBbmRyb2lkKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IE5hcnJhdG9yICZhbXA7IEVkZ2UgKFdpbmRvd3MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gTlZEQSAmYW1wOyBGaXJlZm94IChXaW5kb3dzKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFdpbmRvd3MgSGlnaCBDb250cmFzdCBtb2RlPC9saT5cXG48L3VsPlxcbjxoMyBpZD1cXFwiaHRtbFxcXCI+SFRNTDwvaDM+XFxuPHA+VGhlIEJ1bG1hbGx5IGFjY29yZGlvbiYjMzk7cyB0aXRsZXMgYXJlIGluc2lkZSBhIGJ1dHRvbiBzbyB0aGF0IHRoZXkgYXJlIGZvY3VzYWJsZSBhbmQgY2xpY2thYmxlLjwvcD5cXG48cHJlPjxjb2RlPiZsdDtkaXYgaWQ9JnF1b3Q7anMtYnVsbWFsbHktYWNjb3JkaW9uJnF1b3Q7IGNsYXNzPSZxdW90O2J1bG1hbGx5LWFjY29yZGlvbiZxdW90OyZndDtcXG4gICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtjb2x1bW5zIGlzLW11bHRpbGluZSZxdW90OyZndDtcXG5cXG4gICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7Y29sdW1uIGlzLTEwLXRhYmxldCBpcy1vZmZzZXQtMS10YWJsZXQgaXMtOC1kZXNrdG9wIGlzLW9mZnNldC0yLWRlc2t0b3AmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDthY2NvcmRpb24tcm93IGJveCZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgJmx0O2gzIGNsYXNzPSZxdW90O2g0IGFjY29yZGlvbi10aXRsZSZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDshLS0gVGhpcyBjb250cm9scyB0aGUgc2VjdGlvbi4gVG9nZ2xpbmcgdGhlIHN0YXRlIGlzIGRvbmUgd2l0aCBKUyAtLSZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDtidXR0b25cXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD0mcXVvdDthY2NvcmRpb24tdGl0bGUtYnV0dG9uLTEmcXVvdDtcXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0mcXVvdDthY2NvcmRpb24tdGl0bGUtYnV0dG9uJnF1b3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD0mcXVvdDtmYWxzZSZxdW90O1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtY29udHJvbHM9JnF1b3Q7YWNjb3JkaW9uLWNvbnRlbnQtMSZxdW90OyZndDtcXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O2xldmVsIGlzLW1vYmlsZSZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtsZXZlbC1sZWZ0IGNhbi1zaHJpbmsmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbHQ7c3BhbiBjbGFzcz0mcXVvdDtsZXZlbC1pdGVtIGNhbi1zaHJpbmsgYWNjb3JkaW9uLXRpdGxlLXRleHQmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBoZWFkaW5nIGlzIGNsaWNrYWJsZVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0Oy9zcGFuJmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtsZXZlbC1yaWdodCZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDtzcGFuIGNsYXNzPSZxdW90O2xldmVsLWl0ZW0gaWNvbiBhY2NvcmRpb24tdGl0bGUtaWNvbiZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbHQ7aSBjbGFzcz0mcXVvdDtmYXMgZmEtYW5nbGUtZG93biZxdW90OyBhcmlhLWhpZGRlbj0mcXVvdDt0cnVlJnF1b3Q7Jmd0OyZsdDsvaSZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDsvc3BhbiZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7L2J1dHRvbiZndDtcXG4gICAgICAgICAgICAgICAgJmx0Oy9oMyZndDtcXG5cXG4gICAgICAgICAgICAgICAgJmx0OyEtLSBUaGUgSUQgb2YgdGhpcyBlbGVtZW50IGhhcyB0byBiZSBkeW5hbWljYWxseSBhZGRlZC4gLS0mZ3Q7XFxuICAgICAgICAgICAgICAgICZsdDtkaXYgaWQ9JnF1b3Q7YWNjb3JkaW9uLWNvbnRlbnQtMSZxdW90OyBjbGFzcz0mcXVvdDthY2NvcmRpb24tY29udGVudCZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7Y29udGVudCBpcy1zbWFsbCZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAmbHQ7cCZndDtMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciBhZGlwaXNpY2luZyBlbGl0LiBBc3Blcm5hdHVyLCBxdWlzcXVhbSBtb2xlc3RpYXMuIFF1YWVyYXQgbW9sZXN0aWFlIG5hbSwgZXhwbGljYWJvIHF1byBuaXNpIGNvcnBvcmlzISBCbGFuZGl0aWlzIHF1YW0gcXVpYnVzZGFtLCBmYWNpbGlzIG5paGlsIG9kaW8gbmlzaSBpdXN0byBpcHNhIGxhYm9ydW0gbmVxdWUgZnVnaXQuJmx0Oy9wJmd0O1xcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICZsdDtoMyZndDtMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCBjb25zZWN0ZXR1ciZsdDsvaDMmZ3Q7XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgJmx0O3AmZ3Q7TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQXNwZXJuYXR1ciwgcXVpc3F1YW0gbW9sZXN0aWFzLiBRdWFlcmF0IG1vbGVzdGlhZSBuYW0sIGV4cGxpY2FibyBxdW8gbmlzaSBjb3Jwb3JpcyEgQmxhbmRpdGlpcyBxdWFtIHF1aWJ1c2RhbSwgZmFjaWxpcyBuaWhpbCBvZGlvIG5pc2kgaXVzdG8gaXBzYSBsYWJvcnVtIG5lcXVlIGZ1Z2l0LiZsdDsvcCZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgICAgICZsdDsvZGl2Jmd0O1xcblxcbiAgICAgICAgJmx0OyEtLSBOZXh0IGFjY29yZGlvbiByb3cgLS0mZ3Q7XFxuXFxuICAgICAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O2NvbHVtbiBpcy0xMC10YWJsZXQgaXMtb2Zmc2V0LTEtdGFibGV0IGlzLTgtZGVza3RvcCBpcy1vZmZzZXQtMi1kZXNrdG9wJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7YWNjb3JkaW9uLXJvdyBib3gmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICZsdDtoMyBjbGFzcz0mcXVvdDtoNCBhY2NvcmRpb24tdGl0bGUmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7IS0tIFRoaXMgY29udHJvbHMgdGhlIHNlY3Rpb24uIFRvZ2dsaW5nIHRoZSBzdGF0ZSBpcyBkb25lIHdpdGggSlMgLS0mZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7YnV0dG9uXFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9JnF1b3Q7YWNjb3JkaW9uLXRpdGxlLWJ1dHRvbi0xJnF1b3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9JnF1b3Q7YWNjb3JkaW9uLXRpdGxlLWJ1dHRvbiZxdW90O1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9JnF1b3Q7ZmFsc2UmcXVvdDtcXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPSZxdW90O2FjY29yZGlvbi1jb250ZW50LTEmcXVvdDsmZ3Q7XFxuXFxuICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2RpdiBjbGFzcz0mcXVvdDtsZXZlbCBpcy1tb2JpbGUmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bGV2ZWwtbGVmdCBjYW4tc2hyaW5rJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0O3NwYW4gY2xhc3M9JnF1b3Q7bGV2ZWwtaXRlbSBjYW4tc2hyaW5rIGFjY29yZGlvbi10aXRsZS10ZXh0JnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoaXMgaGVhZGluZyBpcyBjbGlja2FibGVcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDsvc3BhbiZndDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bGV2ZWwtcmlnaHQmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbHQ7c3BhbiBjbGFzcz0mcXVvdDtsZXZlbC1pdGVtIGljb24gYWNjb3JkaW9uLXRpdGxlLWljb24mcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJmx0O2kgY2xhc3M9JnF1b3Q7ZmFzIGZhLWFuZ2xlLWRvd24mcXVvdDsgYXJpYS1oaWRkZW49JnF1b3Q7dHJ1ZSZxdW90OyZndDsmbHQ7L2kmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbHQ7L3NwYW4mZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgICAgICAgICAgICAgJmx0Oy9idXR0b24mZ3Q7XFxuICAgICAgICAgICAgICAgICZsdDsvaDMmZ3Q7XFxuXFxuICAgICAgICAgICAgICAgICZsdDshLS0gVGhlIElEIG9mIHRoaXMgZWxlbWVudCBoYXMgdG8gYmUgZHluYW1pY2FsbHkgYWRkZWQuIC0tJmd0O1xcbiAgICAgICAgICAgICAgICAmbHQ7ZGl2IGlkPSZxdW90O2FjY29yZGlvbi1jb250ZW50LTEmcXVvdDsgY2xhc3M9JnF1b3Q7YWNjb3JkaW9uLWNvbnRlbnQmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O2NvbnRlbnQgaXMtc21hbGwmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAgICAgJmx0O3AmZ3Q7TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQXNwZXJuYXR1ciwgcXVpc3F1YW0gbW9sZXN0aWFzLiBRdWFlcmF0IG1vbGVzdGlhZSBuYW0sIGV4cGxpY2FibyBxdW8gbmlzaSBjb3Jwb3JpcyEgQmxhbmRpdGlpcyBxdWFtIHF1aWJ1c2RhbSwgZmFjaWxpcyBuaWhpbCBvZGlvIG5pc2kgaXVzdG8gaXBzYSBsYWJvcnVtIG5lcXVlIGZ1Z2l0LiZsdDsvcCZndDtcXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICAmbHQ7aDMmZ3Q7TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXImbHQ7L2gzJmd0O1xcblxcbiAgICAgICAgICAgICAgICAgICAgICAgICZsdDtwJmd0O0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyIGFkaXBpc2ljaW5nIGVsaXQuIEFzcGVybmF0dXIsIHF1aXNxdWFtIG1vbGVzdGlhcy4gUXVhZXJhdCBtb2xlc3RpYWUgbmFtLCBleHBsaWNhYm8gcXVvIG5pc2kgY29ycG9yaXMhIEJsYW5kaXRpaXMgcXVhbSBxdWlidXNkYW0sIGZhY2lsaXMgbmloaWwgb2RpbyBuaXNpIGl1c3RvIGlwc2EgbGFib3J1bSBuZXF1ZSBmdWdpdC4mbHQ7L3AmZ3Q7XFxuICAgICAgICAgICAgICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAgICAgJmx0Oy9kaXYmZ3Q7XFxuICAgICAgICAmbHQ7L2RpdiZndDtcXG5cXG4gICAgJmx0Oy9kaXYmZ3Q7XFxuJmx0Oy9kaXYmZ3Q7PC9jb2RlPjwvcHJlPjxoMyBpZD1cXFwiamF2YXNjcmlwdFxcXCI+SmF2YVNjcmlwdDwvaDM+XFxuPHA+VGhpcyBKUyBpbXBsZW1lbnRhdGlvbiBpcyB3cml0dGVuIGluIEVTNiBhbmQgdXNlcyBWYW5pbGxhSlMgdG8gY29udHJvbCB0aGUgc3RhdGVzIGluIHRoZSBET00uIFlvdSBtYXkgdXNlIGl0IGFzIGl0IGlzIGFuZCB1c2UgPGEgaHJlZj1cXFwiaHR0cHM6Ly9iYWJlbGpzLmlvL1xcXCI+QmFiZWw8L2E+IHRvIG1ha2UgaXQgYmFja3dhcmRzIGNvbXBhdGlibGUgd2l0aCBvbGRlciBicm93c2Vycy4gSWYgeW91IGRvIG5vdCBoYXZlIEJhYmVsIGluIHlvdXIgZW52aXJvbm1lbnQsIGl0IHNob3VsZCBiZSBwcmV0dHkgc3RyYWlnaHRmb3J3YXJkIHRvIGNvcHkgdGhlIHJlcXVpcmVkIHBhcnRzIG9mIHRoaXMgY29kZS48L3A+XFxuPHByZT48Y29kZT4vKipcXG4gKiBBY2NvcmRpb24gSlMgY29udHJvbGxlci5cXG4gKi9cXG5cXG4vKipcXG4gKiBDbGFzcyBBY2NvcmRpb25cXG4gKi9cXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRpb24ge1xcbiAgICAvKipcXG4gICAgICogVGhpcyBtZXRob2QgaXMgcnVuIHdoZW4gYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGlzIGNyZWF0ZWQuXFxuICAgICAqL1xcbiAgICBjb25zdHJ1Y3RvcigpIHtcXG4gICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzZXQgZm9yIGVhY2ggY29tcG9uZW50LlxcbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uID0gcmVxdWlyZSggJiMzOTsuL2FjY29yZGlvbi5tZCYjMzk7ICk7XFxuXFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxcbiAgICAgICAgICAgICYjMzk7RE9NQ29udGVudExvYWRlZCYjMzk7LFxcbiAgICAgICAgICAgICgpID0mZ3Q7IHtcXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NSZWFkeSgpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIENhY2hlIGRvbSBlbGVtZW50cyBmb3IgdXNlIGluIHRoZSBjbGFzcyYjMzk7cyBtZXRob2RzXFxuICAgICAqL1xcbiAgICBjYWNoZSgpIHtcXG4gICAgICAgIHRoaXMubWFpbkNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAmIzM5O2pzLWJ1bG1hbGx5LWFjY29yZGlvbiYjMzk7ICk7XFxuXFxuICAgICAgICBpZiAoIHRoaXMubWFpbkNvbnRhaW5lciApIHtcXG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMgPSB0aGlzLm1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCggJiMzOTsuYWNjb3JkaW9uLXRpdGxlLWJ1dHRvbiYjMzk7ICk7XFxuICAgICAgICAgICAgdGhpcy5kcm9wZG93bnMgPSB0aGlzLm1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCggJiMzOTsuYWNjb3JkaW9uLWNvbnRlbnQmIzM5OyApO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLy8gSGlkZSBhbGwgdG9nZ2xlYWJsZSBlbGVtZW50cyB3aXRoIEpTLlxcbiAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpICZsdDsgdGhpcy5kcm9wZG93bnMubGVuZ3RoOyBpKysgKSB7XFxuICAgICAgICAgICAgdGhpcy5kcm9wZG93bnNbIGkgXS5jbGFzc0xpc3QuYWRkKCAmIzM5O2lzLWhpZGRlbiYjMzk7ICk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEFkZCBldmVudCBsaXN0ZW5lcnMuXFxuICAgICAqL1xcbiAgICBldmVudHMoKSB7XFxuICAgICAgICBpZiAoIHRoaXMuZHJvcGRvd25Ub2dnbGVycyApIHtcXG4gICAgICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgJmx0OyB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMubGVuZ3RoOyBpKysgKSB7XFxuICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd25Ub2dnbGVyc1sgaSBdLmFkZEV2ZW50TGlzdGVuZXIoICYjMzk7Y2xpY2smIzM5OywgKCkgPSZndDsgdGhpcy50b2dnbGVEcm9wZG93biggdGhpcy5kcm9wZG93blRvZ2dsZXJzWyBpIF0gKSApO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogVG9nZ2xlcyBhIGRyb3Bkb3duIGNvbnRlbnQgdmlzaWJpbGl0eS5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MQnV0dG9uRWxlbWVudH0gY2xpY2tlZFRvZ2dsZXIgVGhlIHRvZ2dsZXIgYnV0dG9uIHRoYXQgd2FzIGNsaWNrZWQuXFxuICAgICAqL1xcbiAgICB0b2dnbGVEcm9wZG93biggY2xpY2tlZFRvZ2dsZXIgKSB7XFxuICAgICAgICBjb25zdCBjb250YWluZXJJZCA9IGNsaWNrZWRUb2dnbGVyLmdldEF0dHJpYnV0ZSggJiMzOTthcmlhLWNvbnRyb2xzJiMzOTsgKTtcXG4gICAgICAgIGNvbnN0IGRyb3BEb3duQ29udGVudCA9IHRoaXMubWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCBgIyR7IGNvbnRhaW5lcklkIH1gICk7XFxuXFxuICAgICAgICB0aGlzLnRvZ2dsZUFyaWFFeHBhbmRlZCggY2xpY2tlZFRvZ2dsZXIgKTtcXG4gICAgICAgIGRyb3BEb3duQ29udGVudC5jbGFzc0xpc3QudG9nZ2xlKCAmIzM5O2lzLWhpZGRlbiYjMzk7ICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEdldCB0aGUgdG9nZ2xlciYjMzk7cyBhcmlhLWV4cGFuZGVkIGN1cnJlbnQgc3RhdGUgYW5kIHNldCBhIG5ldyBvcHBvc2l0ZSBzdGF0ZSB0byBpdC5cXG4gICAgICogQWxzbyBzZXQgdGhlIG9wZW5lZCBjb250YWluZXImIzM5O3MgYXJpYS1oaWRkZW4gc3RhdGUgdG8gdGhlIG5ldyB2YWx1ZSYjMzk7cyBvcHBvc2l0ZS5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9nZ2xlciBUaGUgdG9nZ2xlciBlbGVtZW50LlxcbiAgICAgKi9cXG4gICAgdG9nZ2xlQXJpYUV4cGFuZGVkKCB0b2dnbGVyICkge1xcbiAgICAgICAgY29uc3QgYXJpYUV4cGFuZGVkU3RhdGUgPSB0b2dnbGVyLmdldEF0dHJpYnV0ZSggJiMzOTthcmlhLWV4cGFuZGVkJiMzOTsgKSA9PT0gJiMzOTtmYWxzZSYjMzk7ID8gdHJ1ZSA6IGZhbHNlO1xcbiAgICAgICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1leHBhbmRlZCYjMzk7LCBhcmlhRXhwYW5kZWRTdGF0ZSApO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSdW4gd2hlbiB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXFxuICAgICAqL1xcbiAgICBkb2NSZWFkeSgpIHtcXG4gICAgICAgIHRoaXMuY2FjaGUoKTtcXG4gICAgICAgIHRoaXMuZXZlbnRzKCk7XFxuICAgIH1cXG59PC9jb2RlPjwvcHJlPjxoMyBpZD1cXFwic2Nzc1xcXCI+U0NTUzwvaDM+XFxuPHA+V2UgdXNlIHRoZSBjb21wb25lbnQgY2xhc3MgbmFtZSBhcyB0aGUgQ1NTIHNjb3BlIGZvciBvdXIgbW9kaWZpY2F0aW9ucyB0byB0aGUgYmFzaWMgQnVsbWEgQ1NTIGNvZGUuPC9wPlxcbjxwcmU+PGNvZGU+Ly8gVGhpcyBmaWxlIGNvbnRhaW5zIGFsbCBzdHlsZXMgZm9yIHRoZSBhY2NvcmRpb24gZWxlbWVudC5cXG4uYnVsbWFsbHktYWNjb3JkaW9uIHtcXG5cXG4gICAgLmFjY29yZGlvbi10aXRsZS1idXR0b24ge1xcbiAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcXG5cXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR3aGl0ZTtcXG4gICAgICAgIGJvcmRlcjogMDtcXG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgICAgICB3aWR0aDogMTAwJTtcXG5cXG4gICAgICAgICZhbXA7W2FyaWEtZXhwYW5kZWQ9JnF1b3Q7dHJ1ZSZxdW90O10ge1xcbiAgICAgICAgICAgIC5pY29uIHtcXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTE4MGRlZyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC5hY2NvcmRpb24tdGl0bGUtaWNvbiB7XFxuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjJzIGVhc2U7XFxuICAgIH1cXG5cXG4gICAgLmFjY29yZGlvbi1jb250ZW50IHtcXG4gICAgICAgIG1hcmdpbi10b3A6IDEuMjVyZW07XFxuICAgICAgICBwYWRkaW5nLXRvcDogMS4yNXJlbTtcXG4gICAgICAgIGJvcmRlci10b3A6IC4wNjI1cmVtIHNvbGlkICRncmV5LWxpZ2h0ZXI7XFxuICAgIH1cXG5cXG4gICAgLmNhbi1zaHJpbmsge1xcbiAgICAgICAgZmxleC1zaHJpbms6IDE7XFxuICAgIH1cXG59PC9jb2RlPjwvcHJlPlwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8aDIgaWQ9XFxcInRhYnMtY29tcG9uZW50XFxcIj5UYWJzIGNvbXBvbmVudDwvaDI+XFxuPHA+VGhpcyBjb21wb25lbnQgcHJvdmlkZXMgdGhlIG5lZWRlZCBKYXZhU2NyaXB0IGZ1bmN0aW9uYWxpdGllcyBmb3IgdGhlIDxhIGhyZWY9XFxcImh0dHBzOi8vYnVsbWEuaW8vZG9jdW1lbnRhdGlvbi9jb21wb25lbnRzL3RhYnMvXFxcIj5CdWxtYSB0YWJzPC9hPi4gQWNjZXNzaWJpbGl0eSBpcyBpbXBsZW1lbnRlZCB3aXRoIEphdmFTY3JpcHQgbWFraW5nIHRoZSBET00gYXMgc2ltcGxlIGFzIHBvc3NpYmxlLiBUaGVyZSBhcmUgdHdvIHRhYiBlbGVtZW50cyBvbiB0aGlzIHBhZ2UgdG8gZGVtb25zdHJhdGUgdGhhdCB5b3UgY2FuIGhhdmUgbXVsdGlwbGUgdGFicyBvbiB0aGUgc2FtZSBwYWdlLiBBbGwgQnVsbWEgdGFiIHN0eWxlcyBhcmUgc3VwcG9ydGVkLjwvcD5cXG48aDMgaWQ9XFxcInRlc3RzLWFuZC1hY2Nlc3NpYmlsaXR5LXN0YXR1c1xcXCI+VGVzdHMgYW5kIGFjY2Vzc2liaWxpdHkgc3RhdHVzPC9oMz5cXG48cD5UaGUgYWNjZXNzaWJpbGl0eS1yZWFkeSBzdGF0dXMgb2YgdGhpcyBjb21wb25lbnQgaXM6IHVudGVzdGVkLjwvcD5cXG48dWw+XFxuPGxpPjxpbnB1dCBjaGVja2VkPVxcXCJcXFwiIGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gS2V5Ym9hcmQtb25seTwvbGk+XFxuPGxpPjxpbnB1dCBjaGVja2VkPVxcXCJcXFwiIGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVm9pY2VPdmVyICZhbXA7IFNhZmFyaSAobWFjT1MpPC9saT5cXG48bGk+PGlucHV0IGNoZWNrZWQ9XFxcIlxcXCIgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChpT1MpPC9saT5cXG48bGk+PGlucHV0IGNoZWNrZWQ9XFxcIlxcXCIgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBWb2ljZU92ZXIgJmFtcDsgU2FmYXJpIChpUGFkT1MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVGFsa2JhY2sgJmFtcDsgQ2hyb21lIChBbmRyb2lkKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IE5hcnJhdG9yICZhbXA7IEVkZ2UgKFdpbmRvd3MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gTlZEQSAmYW1wOyBGaXJlZm94IChXaW5kb3dzKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFdpbmRvd3MgSGlnaCBDb250cmFzdCBtb2RlPC9saT5cXG48L3VsPlxcbjxoMyBpZD1cXFwia25vd24taXNzdWVzXFxcIj5Lbm93biBpc3N1ZXM8L2gzPlxcbjxoMyBpZD1cXFwiaHRtbFxcXCI+SFRNTDwvaDM+XFxuPHA+QnVsbWEgdXNlcyBidXR0b25zIGFzIHRhYnMuIFdlIHVzZSBhbmNob3IgbGlua3MgaW5zdGVhZC4gVGhpcyBtYWtlcyB0YWJzIGFjY2Vzc2libGUgZXZlbiBpZiBKYXZhU2NyaXB0IGlzIG5vdCBhdmFpbGFibGUuIEVhY2ggdGFiIGlzIGFuIGFuY2hvciBsaW5rIHRha2luZyB0aGUgdXNlciB0byB0aGUgY29ycmVzcG9uZGluZyB0YWIgcGFuZWwuIElmIEphdmFTY3JpcHQgaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZCwgYWxsIHRhYiBjb250YWluZXJzIGFyZSBxdWVyaWVkIGZyb20gdGhlIERPTSBhbmQgdGhlaXIgZnVuY3Rpb25hbGl0aWVzIGFyZSBpbml0aWFsaXplZCBvbiB0aGUgZG9jdW1lbnQgcmVhZHkgZXZlbnQuPC9wPlxcbjxoMyBpZD1cXFwicmVxdWlyZW1lbnRzXFxcIj5SZXF1aXJlbWVudHM8L2gzPlxcbjx1bD5cXG48bGk+QWRkIGEgY29udGFpbmVyIGZvciB0aGUgdGFicyBhbmQgdGhlIHBhbmVscyB3aXRoIGEgY2xhc3MgbmFtZWQgPGVtPiZxdW90O2J1bG1hbGx5LXRhYnMmcXVvdDs8L2VtPi48L2xpPlxcbjxsaT5UaGUgPGVtPmhyZWY8L2VtPiBhdHRyaWJ1dGUgb2YgdGhlIGxpbmsgbXVzdCBiZSB0aGUgaWQgb2YgdGhlIHRhYiBwYW5lbC4gVGhpcyBlbmFibGVzIGxpbmtpbmcgdGhlIHRhYiB0byB0aGUgcGFuZWwuPC9saT5cXG48bGk+VGhlIHRhYiBwYW5lbHMgc2hvdWxkIGJlIHBsYWNlZCBkaXJlY3RseSBhZnRlciB0aGUgdGFicyB0byBjcmVhdGUgYSBsb2dpY2FsIHRhYiBvcmRlci48L2xpPlxcbjwvdWw+XFxuPHByZT48Y29kZT4mbHQ7ZGl2IGNsYXNzPSZxdW90O2J1bG1hbGx5LXRhYnMmcXVvdDsmZ3Q7XFxuICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7dGFicyZxdW90OyZndDtcXG4gICAgICAgICZsdDt1bCBhcmlhLWxhYmVsPSZxdW90O0FkZCBhIGRlc2NyaXB0aW9uIGZvciB0aGUgdGFicyBoZXJlJnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICZsdDtsaSBjbGFzcz0mcXVvdDtpcy1hY3RpdmUmcXVvdDsmZ3Q7Jmx0O2EgaHJlZj0mcXVvdDsjZmlyc3QmcXVvdDsmZ3Q7Rmlyc3QmbHQ7L2EmZ3Q7Jmx0Oy9saSZndDtcXG4gICAgICAgICAgICAmbHQ7bGkmZ3Q7Jmx0O2EgaHJlZj0mcXVvdDsjc2Vjb25kJnF1b3Q7Jmd0O1NlY29uZCZsdDsvYSZndDsmbHQ7L2xpJmd0O1xcbiAgICAgICAgICAgICZsdDtsaSZndDsmbHQ7YSBocmVmPSZxdW90OyN0aGlyZCZxdW90OyZndDtUaGlyZCZsdDsvYSZndDsmbHQ7L2xpJmd0O1xcbiAgICAgICAgICAgICZsdDtsaSZndDsmbHQ7YSBocmVmPSZxdW90OyNmb3VydGgmcXVvdDsmZ3Q7Rm91cnRoJmx0Oy9hJmd0OyZsdDsvbGkmZ3Q7XFxuICAgICAgICAmbHQ7L3VsJmd0O1xcbiAgICAmbHQ7L2RpdiZndDtcXG5cXG4gICAgJmx0O2RpdiZndDtcXG4gICAgICAgICZsdDtkaXYgaWQ9JnF1b3Q7Zmlyc3QmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgJmx0O2gyJmd0O0ZpcnN0Jmx0Oy9oMiZndDtcXG4gICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgJmx0O2RpdiBpZD0mcXVvdDtzZWNvbmQmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgJmx0O2gyJmd0O1NlY29uZCZsdDsvaDImZ3Q7XFxuICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgICAgICZsdDtkaXYgaWQ9JnF1b3Q7dGhpcmQmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgJmx0O2gyJmd0O1RoaXJkJmx0Oy9oMiZndDtcXG4gICAgICAgICZsdDsvZGl2Jmd0O1xcbiAgICAgICAgJmx0O2RpdiBpZD0mcXVvdDtmb3VydGgmcXVvdDsmZ3Q7XFxuICAgICAgICAgICAgJmx0O2gyJmd0O0ZvdXJ0aCZsdDsvaDImZ3Q7XFxuICAgICAgICAmbHQ7L2RpdiZndDtcXG4gICAgJmx0Oy9kaXYmZ3Q7XFxuXFxuJmx0Oy9kaXYmZ3Q7PC9jb2RlPjwvcHJlPjxoMyBpZD1cXFwic2Nzc1xcXCI+U0NTUzwvaDM+XFxuPHA+VGhlIG9ubHkgc3R5bGluZyByZXF1aXJlZCBpcyB0aGUgaGlkZGVuIHN0YXRlIG9mIHRoZSBwYW5lbHMuIFRoaXMgaXMgZG9uZSBieSB1c2luZyB0aGUgPGVtPiZxdW90O2hpZGRlbiZxdW90OzwvZW0+IGF0dHJpYnV0ZSBhcyB0aGUgQ1NTIHNlbGVjdG9yLjwvcD5cXG48cHJlPjxjb2RlPi5idWxtYWxseS10YWJzIHtcXG5cXG4gICAgJmFtcDstcGFuZWxbaGlkZGVuXSB7XFxuICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICB9XFxuXFxufTwvY29kZT48L3ByZT48aDMgaWQ9XFxcImphdmFzY3JpcHRcXFwiPkphdmFTY3JpcHQ8L2gzPlxcbjxwPkJ1bG1hbGx5IHRhYnMgaW1wbGVtZW50cyB0aGUgV0FJLUFSSUEgPGEgaHJlZj1cXFwiaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy8jdGFicGFuZWxcXFwiPnRhYnMgZGVzaWduIHBhdHRlcm48L2E+LiBKYXZhU2NyaXB0IGNvZGUgaXMgYmFzZWQgb24gdGhlIFdBSS1BUklBIGV4YW1wbGUgZm9yIDxhIGhyZWY9XFxcIihodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzL2V4YW1wbGVzL3RhYnMvdGFicy0yL3RhYnMuaHRtbClcXFwiPm1hbnVhbGx5IGFjdGl2YXRlZCB0YWJzPC9hPi4gVGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZmVhdHVyZXM6PC9wPlxcbjx1bD5cXG48bGk+VGFiIG5hdmlnYXRpb24gd2l0aCBhcnJvdyBrZXlzLjwvbGk+XFxuPGxpPlRhYiBwYW5lbCBhY3RpdmF0aW9uIGJ5IHByZXNzaW5nIGVudGVyIG9yIHNwYWNlIG9uIHRoZSBmb2N1c2VkIHRhYi48L2xpPlxcbjxsaT5UYWIgcGFuZWwgYWN0aXZhdGlvbiBvbiBtb3VzZSBjbGljayBldmVudC48L2xpPlxcbjxsaT5Gb2N1cyBoYW5kbGluZyBmb3IgYWxsIGludGVyYWN0aW9ucy48L2xpPlxcbjwvdWw+XFxuPHA+V2UgZXh0ZW5kZWQgdGhlIFdBSS1BUklBIGV4YW1wbGUgd2l0aCB0aGUgYWJpbGl0eSB0byBoYXZlIG11bHRpcGxlIHRhYiBlbGVtZW50cyBvbiB0aGUgc2FtZSBwYWdlLiBJZiB5b3UgY3JlYXRlIHRhYnMgZHluYW1pY2FsbHkgPGVtPihhZnRlciB0aGUgZG9jdW1lbnQgcmVhZHkgZXZlbnQpPC9lbT4sIHlvdSBjYW4gaW5pdGlhbGl6ZSB0aGVpciBhY2Nlc3NpYmlsaXR5IGZlYXR1cmVzIGJ5IHBhc3NpbmcgdGhlIEJ1bG1hbGx5IHRhYnMgZWxlbWVudCBjb250YWluZXIgZm9yIHRoZSA8ZW0+aW5pdCgpPC9lbT4gbWV0aG9kLiBZb3UgY2FuIGZpbmQgYW4gZXhhbXBsZSBvZiB0aGlzIGluIHRoZSA8ZW0+aW5pdEFsbFRhYnMoKTwvZW0+IG1ldGhvZCB0aGF0IGZpbmRzIGFuZCBpbml0aWFsaXplcyBhbGwgQnVsbWFsbHkgdGFiIGVsZW1lbnRzIG9uIHRoZSBkb2N1bWVudCByZWFkeSBldmVudC48L3A+XFxuPHByZT48Y29kZT4vKipcXG4gKiBUYWJzIEpTIGNvbnRyb2xsZXIuXFxuICovXFxuXFxuLy8gRm9yIGVhc3kgcmVmZXJlbmNlXFxuY29uc3Qga2V5cyA9IHtcXG4gICAgZW5kOiAzNSxcXG4gICAgaG9tZTogMzYsXFxuICAgIGxlZnQ6IDM3LFxcbiAgICB1cDogMzgsXFxuICAgIHJpZ2h0OiAzOSxcXG4gICAgZG93bjogNDAsXFxuICAgIGVudGVyOiAxMyxcXG4gICAgc3BhY2U6IDMyLFxcbn07XFxuXFxuLy8gQWRkIG9yIHN1YnRyYWN0IGRlcGVuZGluZyBvbiBrZXkgcHJlc3NlZFxcbmNvbnN0IGRpcmVjdGlvbiA9IHtcXG4gICAgMzc6IC0xLFxcbiAgICAzODogLTEsXFxuICAgIDM5OiAxLFxcbiAgICA0MDogMSxcXG59O1xcblxcbi8qKlxcbiAqIENsYXNzIFRhYnNcXG4gKi9cXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJzIHtcXG4gICAgLyoqXFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHJ1biBhdXRvbWF0aWNhbGx5IHdoZW4gdGhlIG1vZHVsZSBpcyBpbXBvcnRlZCxcXG4gICAgICogYmVjYXVzZSBpdCBleHBvcnRzIGEgbmV3IGluc3RhbmNlIG9mIGl0c2VsZi5cXG4gICAgICovXFxuICAgIGNvbnN0cnVjdG9yKCkge1xcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCBmb3IgZWFjaCBjb21wb25lbnQuXFxuICAgICAgICB0aGlzLmRvY3VtZW50YXRpb24gPSByZXF1aXJlKCAmIzM5Oy4vcmVhZG1lLm1kJiMzOTsgKTtcXG5cXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxuICAgICAgICAgICAgJiMzOTtET01Db250ZW50TG9hZGVkJiMzOTssXFxuICAgICAgICAgICAgKCkgPSZndDsge1xcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRBbGxUYWJzKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogRmluZCBhbGwgdGFiIGVsZW1lbnRzIGFuZCBpbml0aWFsaXplIHRoZWlyIGZ1bmN0aW9uYWxpdGllcy5cXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHJ1biBvbiBkb2N1bWVudCByZWFkeSB0byBpbml0aWFsaXplIGFsbFxcbiAgICAgKiB0YWJzIGluIHRoZSBET00gYWZ0ZXIgdGhlIHBhZ2UgaXMgbG9hZGVkLlxcbiAgICAgKi9cXG4gICAgaW5pdEFsbFRhYnMoKSB7XFxuICAgICAgICB0aGlzLmFsbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAmIzM5Oy5idWxtYWxseS10YWJzJiMzOTsgKTtcXG5cXG4gICAgICAgIGlmICggISB0aGlzLmFsbFRhYnMgKSB7XFxuICAgICAgICAgICAgLy8gTm8gdGFicyBmb3VuZC5cXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgJmx0OyB0aGlzLmFsbFRhYnMubGVuZ3RoOyBpKysgKSB7XFxuICAgICAgICAgICAgdGhpcy5pbml0KCB0aGlzLmFsbFRhYnNbIGkgXSApO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBJbml0YWxpemUgYSBzaW5nbGUgdGFicyBlbGVtZW50LlxcbiAgICAgKlxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWJzRWxlbWVudCBCdWxtYWxseSB0YWJzIGNvbnRhaW5lci5cXG4gICAgICovXFxuICAgIGluaXQoIHRhYnNFbGVtZW50ICkge1xcbiAgICAgICAgY29uc3QgdGFic0NvbnRhaW5lciA9IHRhYnNFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoICYjMzk7LnRhYnMmIzM5OyApO1xcbiAgICAgICAgY29uc3QgdGFibGlzdCA9IHRhYnNDb250YWluZXIucXVlcnlTZWxlY3RvciggJiMzOTt1bCYjMzk7ICk7XFxuICAgICAgICBjb25zdCB0YWJzID0gdGFibGlzdC5xdWVyeVNlbGVjdG9yQWxsKCAmIzM5O2EmIzM5OyApO1xcbiAgICAgICAgY29uc3QgdGFiTGlzdEl0ZW1zID0gdGFibGlzdC5xdWVyeVNlbGVjdG9yQWxsKCAmIzM5O2xpJiMzOTsgKTtcXG5cXG4gICAgICAgIC8vIFN0b3JlIHJlZmVyZW5jZXMgdG8gdGhlIGZpcnN0IGFuZCB0aGUgbGFzdCB0YWIgZm9yIGZvY3VzIG1hbmlwdWxhdGlvbnMuXFxuICAgICAgICAvLyBJbml0aWFsaXplIGFuIGFycmF5IGZvciBzdG9yaW5nIHJlZmVyZW5jZXMgdG8gYWxsIHRhYnMuXFxuICAgICAgICB0YWJsaXN0LmZpcnN0VGFiID0gdGFic1sgMCBdO1xcbiAgICAgICAgdGFibGlzdC5sYXN0VGFiID0gdGFic1sgdGFicy5sZW5ndGggLSAxIF07XFxuICAgICAgICB0YWJsaXN0LnRhYnMgPSBbXTtcXG4gICAgICAgIHRhYmxpc3QucGFuZWxzID0gW107XFxuXFxuICAgICAgICAvLyBTZXQgdGFibGlzdCByb2xlXFxuICAgICAgICB0YWJsaXN0LnNldEF0dHJpYnV0ZSggJiMzOTtyb2xlJiMzOTssICYjMzk7dGFibGlzdCYjMzk7ICk7XFxuXFxuICAgICAgICAvLyBJbml0aWFsaXplIHRhYnMuXFxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgJmx0OyB0YWJzLmxlbmd0aDsgaSsrICkge1xcbiAgICAgICAgICAgIHRoaXMuaW5pdFRhYiggdGFic1sgaSBdLCB0YWJsaXN0LCBpICk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgJmx0OyB0YWJMaXN0SXRlbXMubGVuZ3RoOyBpKysgKSB7XFxuICAgICAgICAgICAgLy8gQWxsICZsdDtsaSZndDsgZWxlbWVudHMgbXVzdCBoYXZlIGEgcm9sZSBvZiBwcmVzZW50YXRpb24uXFxuICAgICAgICAgICAgdGFiTGlzdEl0ZW1zWyBpIF0uc2V0QXR0cmlidXRlKCAmIzM5O3JvbGUmIzM5OywgJiMzOTtwcmVzZW50YXRpb24mIzM5OyApO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLy8gQWN0aXZhdGUgdGhlIGZpcnN0IHRhYlxcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVRhYiggdGFibGlzdC5maXJzdFRhYiApO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBJbml0aWFsaXplIGZ1bmN0aW9uYWxpdGllcyBmb3IgYSB0YWIgZWxlbWVudC5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFiIEEgdGFiIGxpbmsuXFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYmxpc3QgVGhlIHRhYmxpc3QgZWxlbWVudCBmb3IgdGhlIHRhYi5cXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IFRoZSBjdXJyZW50IGVsZW1lbnQgaW5kZXggaW4gdGhlIHRhYiBsaXN0LlxcbiAgICAgKi9cXG4gICAgaW5pdFRhYiggdGFiLCB0YWJsaXN0LCBpbmRleCApIHtcXG4gICAgICAgIGNvbnN0IHBhbmVsSWQgPSB0YWIuaGFzaC5zbGljZSggMSApO1xcblxcbiAgICAgICAgLy8gQ3JlYXRlIGEgdW5pcXVlIGlkIHVzaW5nIHRoZSB0YWIgbGluayYjMzk7cyBoYXNoXFxuICAgICAgICB0YWIuaWQgPSBgdGFiLSR7IHBhbmVsSWQgfWA7XFxuXFxuICAgICAgICAvLyBNYWtlIGEgdHdvLXdheSByZWZlcmVuY2Ugb2YgdGhlIHRhYiBhbmQgaXRzIHRhYmxpc3QuXFxuICAgICAgICB0YWIudGFibGlzdCA9IHRhYmxpc3Q7XFxuICAgICAgICB0YWJsaXN0LnRhYnNbIGluZGV4IF0gPSB0YWI7XFxuXFxuICAgICAgICAvLyBTdG9yZSB0aGUgaW5kZXguXFxuICAgICAgICB0YWIuaW5kZXggPSBpbmRleDtcXG5cXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNvcnJlc3BvbmRpbmcgcGFuZWwuXFxuICAgICAgICB0YWIucGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggcGFuZWxJZCApO1xcbiAgICAgICAgdGhpcy5pbml0UGFuZWwoIHRhYi5wYW5lbCwgdGFiLCB0YWJsaXN0LCBpbmRleCApO1xcblxcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSggJiMzOTtyb2xlJiMzOTssICYjMzk7dGFiJiMzOTsgKTtcXG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1zZWxlY3RlZCYjMzk7LCAmIzM5O2ZhbHNlJiMzOTsgKTtcXG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1jb250cm9scyYjMzk7LCBwYW5lbElkICk7XFxuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCAmIzM5O3RhYmluZGV4JiMzOTssICYjMzk7LTEmIzM5OyApO1xcblxcbiAgICAgICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoICYjMzk7Y2xpY2smIzM5OywgKCBldmVudCApID0mZ3Q7IHRoaXMuY2xpY2tFdmVudExpc3RlbmVyKCBldmVudCApICk7XFxuICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lciggJiMzOTtrZXlkb3duJiMzOTssICggZXZlbnQgKSA9Jmd0OyB0aGlzLmtleWRvd25FdmVudExpc3RlbmVyKCBldmVudCApICk7XFxuICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lciggJiMzOTtrZXl1cCYjMzk7LCAoIGV2ZW50ICkgPSZndDsgdGhpcy5rZXl1cEV2ZW50TGlzdGVuZXIoIGV2ZW50ICkgKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogSW5pdGFsaXplIHBhbmVsIGZ1bmN0aW9uYWxpdGllcy5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFuZWwgVGhlIHBhbmVsIGVsZW1lbnQuXFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYiBUaGUgY29ycmVzcG9uZGluZyB0YWIgZWxlbWVudC5cXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFibGlzdCBUaGUgdGFibGlzdCBlbGVtZW50IGZvciB0aGUgdGFiLlxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IGluIHBhbmVscy5cXG4gICAgICovXFxuICAgIGluaXRQYW5lbCggcGFuZWwsIHRhYiwgdGFibGlzdCwgaW5kZXggKSB7XFxuICAgICAgICBpZiAoIGluZGV4ICE9PSAwICkge1xcbiAgICAgICAgICAgIC8vIEhpZGUgYWxsIGJ1dCB0aGUgZmlyc3QgdGFiLlxcbiAgICAgICAgICAgIHBhbmVsLmhpZGRlbiA9IHRydWU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBwYW5lbC5zZXRBdHRyaWJ1dGUoICYjMzk7dGFiaW5kZXgmIzM5OywgJiMzOTswJiMzOTsgKTtcXG4gICAgICAgIHBhbmVsLnNldEF0dHJpYnV0ZSggJiMzOTtyb2xlJiMzOTssICYjMzk7dGFicGFuZWwmIzM5OyApO1xcbiAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCAmIzM5O2FyaWEtbGFiZWxsZWRieSYjMzk7LCB0YWIuaWQgKTtcXG5cXG4gICAgICAgIC8vIFN0b3JlIGEgcmVmZXJlbmNlIGZvciB0aGUgdGFibGlzdC5cXG4gICAgICAgIHRhYmxpc3QucGFuZWxzLnB1c2goIHBhbmVsICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFdoZW4gYSB0YWIgaXMgY2xpY2tlZCwgYWN0aXZhdGVUYWIgaXMgZmlyZWQgdG8gYWN0aXZhdGUgaXRcXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgb2JqZWN0LlxcbiAgICAgKi9cXG4gICAgY2xpY2tFdmVudExpc3RlbmVyKCBldmVudCApIHtcXG4gICAgICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgY2xpY2sgZXZlbnQuXFxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xcblxcbiAgICAgICAgY29uc3QgdGFiID0gZXZlbnQudGFyZ2V0O1xcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVRhYiggdGFiLCBmYWxzZSApO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBIYW5kbGUga2V5ZG93biBvbiB0YWJzXFxuICAgICAqXFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IG9iamVjdC5cXG4gICAgICovXFxuICAgIGtleWRvd25FdmVudExpc3RlbmVyKCBldmVudCApIHtcXG4gICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleUNvZGU7XFxuICAgICAgICBjb25zdCB0YWJsaXN0ID0gZXZlbnQudGFyZ2V0LnRhYmxpc3Q7XFxuXFxuICAgICAgICBzd2l0Y2ggKCBrZXkgKSB7XFxuICAgICAgICBjYXNlIGtleXMuZW5kOlxcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XFxuICAgICAgICAgICAgLy8gQWN0aXZhdGUgbGFzdCB0YWJcXG4gICAgICAgICAgICB0aGlzLmZvY3VzTGFzdFRhYiggdGFibGlzdCApO1xcbiAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgY2FzZSBrZXlzLmhvbWU6XFxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG4gICAgICAgICAgICAvLyBBY3RpdmF0ZSBmaXJzdCB0YWJcXG4gICAgICAgICAgICB0aGlzLmZvY3VzRmlyc3RUYWIoIHRhYmxpc3QgKTtcXG4gICAgICAgICAgICBicmVhaztcXG5cXG4gICAgICAgIC8vIFVwIGFuZCBkb3duIGFyZSBpbiBrZXlkb3duIHRvIHByZXZlbnQgcGFnZSBzY3JvbGwuXFxuICAgICAgICBjYXNlIGtleXMudXA6XFxuICAgICAgICBjYXNlIGtleXMuZG93bjpcXG4gICAgICAgICAgICB0aGlzLmRldGVybWluZU9yaWVudGF0aW9uKCBldmVudCApO1xcbiAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgY2FzZSBrZXlzLmVudGVyOlxcbiAgICAgICAgY2FzZSBrZXlzLnNwYWNlOlxcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XFxuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVRhYiggZXZlbnQudGFyZ2V0LCBmYWxzZSApO1xcbiAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBIYW5kbGUga2V5dXAgb24gdGFic1xcbiAgICAgKlxcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3QuXFxuICAgICAqL1xcbiAgICBrZXl1cEV2ZW50TGlzdGVuZXIoIGV2ZW50ICkge1xcbiAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQua2V5Q29kZTtcXG5cXG4gICAgICAgIHN3aXRjaCAoIGtleSApIHtcXG4gICAgICAgIGNhc2Uga2V5cy5sZWZ0OlxcbiAgICAgICAgY2FzZSBrZXlzLnJpZ2h0OlxcbiAgICAgICAgICAgIHRoaXMuZGV0ZXJtaW5lT3JpZW50YXRpb24oIGV2ZW50ICk7XFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFdoZW4gYSB0YWJsaXN0JiMzOTtzIGFyaWEtb3JpZW50YXRpb24gaXMgc2V0IHRvIHZlcnRpY2FsLFxcbiAgICAgKiBvbmx5IHVwIGFuZCBkb3duIGFycm93IHNob3VsZCBmdW5jdGlvbi5cXG4gICAgICogb25seSB1cCBhbmQgZG93biBhcnJvdyBzaG91bGQgZnVuY3Rpb24uXFxuICAgICAqXFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCBvYmplY3QuXFxuICAgICAqL1xcbiAgICBkZXRlcm1pbmVPcmllbnRhdGlvbiggZXZlbnQgKSB7XFxuICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXlDb2RlO1xcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBldmVudC50YXJnZXQudGFibGlzdC5nZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1vcmllbnRhdGlvbiYjMzk7ICkgPT09ICYjMzk7dmVydGljYWwmIzM5OztcXG4gICAgICAgIGxldCBwcm9jZWVkID0gZmFsc2U7XFxuXFxuICAgICAgICBpZiAoIHZlcnRpY2FsICkge1xcbiAgICAgICAgICAgIGlmICgga2V5ID09PSBrZXlzLnVwIHx8IGtleSA9PT0ga2V5cy5kb3duICkge1xcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xcbiAgICAgICAgICAgICAgICBwcm9jZWVkID0gdHJ1ZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGVsc2UgaWYgKCBrZXkgPT09IGtleXMubGVmdCB8fCBrZXkgPT09IGtleXMucmlnaHQgKSB7XFxuICAgICAgICAgICAgcHJvY2VlZCA9IHRydWU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICBpZiAoIHByb2NlZWQgKSB7XFxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUYWJPbkFycm93UHJlc3MoIGV2ZW50ICk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEVpdGhlciBmb2N1cyB0aGUgbmV4dCwgcHJldmlvdXMsIGZpcnN0LCBvciBsYXN0IHRhYlxcbiAgICAgKiBkZXBlbmRpbmcgb24gdGhlIGtleSBwcmVzc2VkLlxcbiAgICAgKlxcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3QuXFxuICAgICAqL1xcbiAgICBzd2l0Y2hUYWJPbkFycm93UHJlc3MoIGV2ZW50ICkge1xcbiAgICAgICAgY29uc3QgcHJlc3NlZCA9IGV2ZW50LmtleUNvZGU7XFxuXFxuICAgICAgICBpZiAoIGRpcmVjdGlvblsgcHJlc3NlZCBdICkge1xcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcXG4gICAgICAgICAgICBjb25zdCB0YWJsaXN0ID0gdGFyZ2V0LnRhYmxpc3Q7XFxuICAgICAgICAgICAgY29uc3QgdGFicyA9IHRhYmxpc3QudGFicztcXG4gICAgICAgICAgICBpZiAoIHRhcmdldC5pbmRleCAhPT0gdW5kZWZpbmVkICkge1xcbiAgICAgICAgICAgICAgICBpZiAoIHRhYnNbIHRhcmdldC5pbmRleCArIGRpcmVjdGlvblsgcHJlc3NlZCBdIF0gKSB7XFxuICAgICAgICAgICAgICAgICAgICB0YWJzWyB0YXJnZXQuaW5kZXggKyBkaXJlY3Rpb25bIHByZXNzZWQgXSBdLmZvY3VzKCk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHByZXNzZWQgPT09IGtleXMubGVmdCB8fCBwcmVzc2VkID09PSBrZXlzLnVwICkge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1c0xhc3RUYWIoIHRhYmxpc3QgKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggcHJlc3NlZCA9PT0ga2V5cy5yaWdodCB8fCBwcmVzc2VkID09PSBrZXlzLmRvd24gKSB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzRmlyc3RUYWIoIHRhYmxpc3QgKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQWN0aXZhdGVzIGFueSBnaXZlbiB0YWIgcGFuZWxcXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFiIEEgdGFiIGVsZW1lbnQuXFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2V0Rm9jdXMgV2hldGhlciB0byBzZXQgZm9jdXMuXFxuICAgICAqL1xcbiAgICBhY3RpdmF0ZVRhYiggdGFiLCBzZXRGb2N1cyApIHtcXG4gICAgICAgIC8vIERlYWN0aXZhdGUgYWxsIG90aGVyIHRhYnNcXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZVRhYnMoIHRhYi50YWJsaXN0ICk7XFxuXFxuICAgICAgICAvLyBSZW1vdmUgdGFiaW5kZXggYXR0cmlidXRlLlxcbiAgICAgICAgdGFiLnJlbW92ZUF0dHJpYnV0ZSggJiMzOTt0YWJpbmRleCYjMzk7ICk7XFxuXFxuICAgICAgICAvLyBTZXQgdGhlIHRhYiBhcyBzZWxlY3RlZC5cXG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1zZWxlY3RlZCYjMzk7LCAmIzM5O3RydWUmIzM5OyApO1xcblxcbiAgICAgICAgLy8gU2V0IEJ1bG1hIGNsYXNzLlxcbiAgICAgICAgdGFiLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCggJiMzOTtpcy1hY3RpdmUmIzM5OyApO1xcblxcbiAgICAgICAgLy8gUmVtb3ZlIGhpZGRlbiBhdHRyaWJ1dGUgZnJvbSB0YWIgcGFuZWwgdG8gbWFrZSBpdCB2aXNpYmxlLlxcbiAgICAgICAgdGFiLnBhbmVsLnJlbW92ZUF0dHJpYnV0ZSggJiMzOTtoaWRkZW4mIzM5OyApO1xcblxcbiAgICAgICAgLy8gU2V0IGZvY3VzIHdoZW4gcmVxdWlyZWQuXFxuICAgICAgICBpZiAoIHNldEZvY3VzICkge1xcbiAgICAgICAgICAgIHRhYi5wYW5lbC5mb2N1cygpO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBEZWFjdGl2YXRlIGFsbCB0YWJzIGFuZCB0YWIgcGFuZWxzXFxuICAgICAqXFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYmxpc3QgVGhlIHRhYmxpc3QgZWxlbWVudC5cXG4gICAgICovXFxuICAgIGRlYWN0aXZhdGVUYWJzKCB0YWJsaXN0ICkge1xcbiAgICAgICAgZm9yICggbGV0IHQgPSAwOyB0ICZsdDsgdGFibGlzdC50YWJzLmxlbmd0aDsgdCsrICkge1xcbiAgICAgICAgICAgIHRhYmxpc3QudGFic1sgdCBdLnBhcmVudE5vZGUuY2xhc3NMaXN0LnJlbW92ZSggJiMzOTtpcy1hY3RpdmUmIzM5OyApO1xcbiAgICAgICAgICAgIHRhYmxpc3QudGFic1sgdCBdLnNldEF0dHJpYnV0ZSggJiMzOTt0YWJpbmRleCYjMzk7LCAmIzM5Oy0xJiMzOTsgKTtcXG4gICAgICAgICAgICB0YWJsaXN0LnRhYnNbIHQgXS5zZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1zZWxlY3RlZCYjMzk7LCAmIzM5O2ZhbHNlJiMzOTsgKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGZvciAoIGxldCBwID0gMDsgcCAmbHQ7IHRhYmxpc3QucGFuZWxzLmxlbmd0aDsgcCsrICkge1xcbiAgICAgICAgICAgIHRhYmxpc3QucGFuZWxzWyBwIF0uc2V0QXR0cmlidXRlKCAmIzM5O2hpZGRlbiYjMzk7LCAmIzM5O2hpZGRlbiYjMzk7ICk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEZvY3VzIG9uIHRoZSBmaXJzdCB0YWIgaW4gdGhlIHRhYmxpc3Qgb2YgdGhlIGdpdmVuIHRhYi5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFibGlzdCBBIHRhYmxpc3QgZWxlbWVudC5cXG4gICAgICovXFxuICAgIGZvY3VzRmlyc3RUYWIoIHRhYmxpc3QgKSB7XFxuICAgICAgICB0YWJsaXN0LmZpcnN0VGFiLmZvY3VzKCk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEZvY3VzIG9uIHRoZSBsYXN0IHRhYiBpbiB0aGUgdGFibGlzdCBvZiB0aGUgZ2l2ZW4gdGFiLlxcbiAgICAgKlxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWJsaXN0IEEgdGFibGlzdCBlbGVtZW50LlxcbiAgICAgKi9cXG4gICAgZm9jdXNMYXN0VGFiKCB0YWJsaXN0ICkge1xcbiAgICAgICAgdGFibGlzdC5sYXN0VGFiLmZvY3VzKCk7XFxuICAgIH1cXG59XFxuPC9jb2RlPjwvcHJlPlwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8aDIgaWQ9XFxcIm1vZGFsLWNvbXBvbmVudFxcXCI+TW9kYWwgY29tcG9uZW50PC9oMj5cXG48cD5UaGlzIGNvbXBvbmVudCBwcm92aWRlcyB0aGUgbmVlZGVkIEphdmFTY3JpcHQgZnVuY3Rpb25hbGl0aWVzIGZvciB0aGUgPGEgaHJlZj1cXFwiaHR0cHM6Ly9idWxtYS5pby9kb2N1bWVudGF0aW9uL2NvbXBvbmVudHMvbW9kYWwvXFxcIj5CdWxtYSBtb2RhbDwvYT4uIEFjY2Vzc2liaWxpdHkgaXMgaW1wbGVtZW50ZWQgd2l0aCBKYXZhU2NyaXB0IG1ha2luZyB0aGUgRE9NIGFzIHNpbXBsZSBhcyBwb3NzaWJsZS4gVGhlcmUgYXJlIHR3byBtb2RhbCBlbGVtZW50cyBvbiB0aGlzIHBhZ2UgdG8gZGVtb25zdHJhdGUgdGhhdCB5b3UgY2FuIGhhdmUgbXVsdGlwbGUgbW9kYWxzIG9uIHRoZSBzYW1lIHBhZ2UuIEFsbCBCdWxtYSBtb2RhbCBzdHlsZXMgYXJlIHN1cHBvcnRlZC48L3A+XFxuPGgzIGlkPVxcXCJ0ZXN0cy1hbmQtYWNjZXNzaWJpbGl0eS1zdGF0dXNcXFwiPlRlc3RzIGFuZCBhY2Nlc3NpYmlsaXR5IHN0YXR1czwvaDM+XFxuPHA+VGhlIGFjY2Vzc2liaWxpdHktcmVhZHkgc3RhdHVzIG9mIHRoaXMgY29tcG9uZW50IGlzOiB1bnRlc3RlZC48L3A+XFxuPHVsPlxcbjxsaT48aW5wdXQgY2hlY2tlZD1cXFwiXFxcIiBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IEtleWJvYXJkLW9ubHk8L2xpPlxcbjxsaT48aW5wdXQgY2hlY2tlZD1cXFwiXFxcIiBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFZvaWNlT3ZlciAmYW1wOyBTYWZhcmkgKG1hY09TKTwvbGk+XFxuPGxpPjxpbnB1dCBjaGVja2VkPVxcXCJcXFwiIGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVm9pY2VPdmVyICZhbXA7IFNhZmFyaSAoaU9TKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFZvaWNlT3ZlciAmYW1wOyBTYWZhcmkgKGlQYWRPUyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBUYWxrYmFjayAmYW1wOyBDaHJvbWUgKEFuZHJvaWQpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gTmFycmF0b3IgJmFtcDsgRWRnZSAoV2luZG93cyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBOVkRBICZhbXA7IEZpcmVmb3ggKFdpbmRvd3MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gV2luZG93cyBIaWdoIENvbnRyYXN0IG1vZGU8L2xpPlxcbjwvdWw+XFxuPGgzIGlkPVxcXCJodG1sXFxcIj5IVE1MPC9oMz5cXG48cD5UaGUgSFRNTCBtYXJrdXAgaXMgZmFpcmx5IHNpbXBsZS4gWW91IG5lZWQgdG8gaGF2ZSBhIGJ1dHRvbiB0aGF0IGNvbnRyb2xzIGEgY29ycmVzcG9uZGluZyBtb2RhbC4gSW4gdGhlIG1vZGFsIG92ZXJsYXkgeW91IG1heSB3YW50IHRvIGhhdmUgYSBjbG9zaW5nIGJ1dHRvbiBhbHRob3VnaCBpdCBpcyBub3QgbmVjZXNzYXJ5LiBNb2RhbHMgY2FuIGFsc28gYmUgY2xvc2VkIHdpdGggRVNDIGFuZCBidXR0b25zIGluc2lkZSB0aGVtIHdpdGggPHN0cm9uZz5tb2RhbC1jbG9zZS1idXR0b248L3N0cm9uZz4gY2xhc3Nlcy48L3A+XFxuPGgzIGlkPVxcXCJyZXF1aXJlbWVudHNcXFwiPlJlcXVpcmVtZW50czwvaDM+XFxuPHA+VGhlIG1vZGFsIGNvbnRhaW5lcnMgc2hvdWxkIGJlIHBsYWNlZCBhdCB0aGUgYm90dG9tIG9mIHlvdXIgcGFnZSBtYXJrdXAgc28gdGhhdCB0aGVpciA8c3Ryb25nPmFyaWEtcm9sZT0mcXVvdDttb2RhbCZxdW90Ozwvc3Ryb25nPiBhdHRyaWJ1dGUgd29ya3MgcHJvcGVybHkuPC9wPlxcbjxwcmU+PGNvZGU+Jmx0OyEtLSBBIGJ1dHRvbiB0aGF0IGNvbnRyb2xzIG9wZW5pbmcgdGhlIGZpcnN0IG1vZGFsIC0tJmd0O1xcblxcbiZsdDtidXR0b25cXG4gICAgY2xhc3M9JnF1b3Q7bW9kYWwtYnV0dG9uIGJ1dHRvbiBpcy1sYXJnZSBpcy1pbmZvJnF1b3Q7XFxuICAgIGFyaWEtZXhwYW5kZWQ9JnF1b3Q7ZmFsc2UmcXVvdDtcXG4gICAgYXJpYS1jb250cm9scz0mcXVvdDtqcy1idWxtYWxseS1tb2RhbC0xJnF1b3Q7Jmd0O1xcbiAgICAgICAgT3BlbiBtb2RhbFxcbiZsdDsvYnV0dG9uJmd0O1xcblxcbiZsdDshLS0gTWFya3VwIG9mIHRoZSBmaXJzdCBtb2RhbCAtLSZndDtcXG5cXG4mbHQ7ZGl2IHJvbGU9JnF1b3Q7ZGlhbG9nJnF1b3Q7XFxuICAgIGlkPSZxdW90O2pzLWJ1bG1hbGx5LW1vZGFsLTEmcXVvdDtcXG4gICAgY2xhc3M9JnF1b3Q7bW9kYWwmcXVvdDtcXG4gICAgYXJpYS1tb2RhbD0mcXVvdDt0cnVlJnF1b3Q7XFxuICAgIGFyaWEtbGFiZWxsZWRieT0mcXVvdDtqcy1idWxtYWxseS1tb2RhbC0xLXRpdGxlJnF1b3Q7Jmd0O1xcblxcbiAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O21vZGFsLWJhY2tncm91bmQmcXVvdDsmZ3Q7Jmx0Oy9kaXYmZ3Q7XFxuXFxuICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bW9kYWwtY29udGVudCBoYXMtYmFja2dyb3VuZC13aGl0ZSZxdW90OyZndDtcXG5cXG4gICAgICAgICZsdDtzZWN0aW9uIGNsYXNzPSZxdW90O3NlY3Rpb24mcXVvdDsmZ3Q7XFxuXFxuICAgICAgICAgICAgJmx0O2gzIGlkPSZxdW90O2pzLWJ1bG1hbGx5LW1vZGFsLTEtdGl0bGUmcXVvdDsgY2xhc3M9JnF1b3Q7aDQgdGl0bGUmcXVvdDsgdGFiaW5kZXg9JnF1b3Q7MCZxdW90OyZndDtNb2RhbCBoZWFkaW5nJmx0Oy9oMyZndDtcXG5cXG4gICAgICAgICAgICAmbHQ7ZGl2IGNsYXNzPSZxdW90O2NvbnRlbnQmcXVvdDsmZ3Q7XFxuXFxuICAgICAgICAgICAgICAgICZsdDtwJmd0O0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyICZsdDthIGhyZWY9JnF1b3Q7JnF1b3Q7Jmd0O2FkaXBpc2ljaW5nIGVsaXQmbHQ7L2EmZ3Q7LiBBc3Blcm5hdHVyLCBxdWlzcXVhbSBtb2xlc3RpYXMuIFF1YWVyYXQgbW9sZXN0aWFlIG5hbSwgZXhwbGljYWJvIHF1byBuaXNpIGNvcnBvcmlzISBCbGFuZGl0aWlzIHF1YW0gcXVpYnVzZGFtLCBmYWNpbGlzIG5paGlsICZsdDthIGhyZWY9JnF1b3Q7JnF1b3Q7Jmd0O29kaW8gbmlzaSBpdXN0byZsdDsvYSZndDsgaXBzYSBsYWJvcnVtIG5lcXVlIGZ1Z2l0LiZsdDsvcCZndDtcXG5cXG4gICAgICAgICAgICAgICAgJmx0O2gzJmd0O0xvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0IGNvbnNlY3RldHVyJmx0Oy9oMyZndDtcXG5cXG4gICAgICAgICAgICAgICAgJmx0O2ZpZ3VyZSBjbGFzcz0mcXVvdDtpbWFnZSBpcy1tYXJnaW5sZXNzLWhvcml6b250YWxseSZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgICZsdDtpbWcgc3JjPSZxdW90O2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS8xNjAweDkwMC5wbmc/dGV4dD1BK3NhbXBsZStpbWFnZSZxdW90OyBhbHQ9JnF1b3Q7JnF1b3Q7Jmd0O1xcbiAgICAgICAgICAgICAgICAmbHQ7L2ZpZ3VyZSZndDtcXG5cXG4gICAgICAgICAgICAgICAgJmx0O3AmZ3Q7TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQgY29uc2VjdGV0dXIgYWRpcGlzaWNpbmcgZWxpdC4gQXNwZXJuYXR1ciwgcXVpc3F1YW0gbW9sZXN0aWFzLiBRdWFlcmF0IG1vbGVzdGlhZSBuYW0sICZsdDthIGhyZWY9JnF1b3Q7JnF1b3Q7Jmd0O2V4cGxpY2FibyBxdW8gbmlzaSBjb3Jwb3JpcyEgQmxhbmRpdGlpcyBxdWFtIHF1aWJ1c2RhbSwgZmFjaWxpcyBuaWhpbCZsdDsvYSZndDsgb2RpbyBuaXNpIGl1c3RvIGlwc2EgbGFib3J1bSBuZXF1ZSBmdWdpdC4mbHQ7L3AmZ3Q7XFxuXFxuICAgICAgICAgICAgICAgICZsdDtidXR0b24gY2xhc3M9JnF1b3Q7YnV0dG9uIG1vZGFsLWNsb3NlLWJ1dHRvbiBpcy1kYW5nZXIgaXMtbGFyZ2UmcXVvdDtcXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtY29udHJvbHM9JnF1b3Q7anMtYnVsbWFsbHktbW9kYWwtMSZxdW90OyZndDtcXG4gICAgICAgICAgICAgICAgICAgIENsb3NlIG1vZGFsXFxuICAgICAgICAgICAgICAgICZsdDsvYnV0dG9uJmd0O1xcbiAgICAgICAgICAgICZsdDsvZGl2Jmd0O1xcblxcbiAgICAgICAgJmx0Oy9zZWN0aW9uJmd0O1xcblxcbiAgICAmbHQ7L2RpdiZndDtcXG5cXG4gICAgJmx0O2J1dHRvbiBjbGFzcz0mcXVvdDttb2RhbC1jbG9zZSBpcy1sYXJnZSZxdW90O1xcbiAgICAgICAgYXJpYS1sYWJlbD0mcXVvdDtjbG9zZSBtb2RhbCZxdW90O1xcbiAgICAgICAgYXJpYS1jb250cm9scz0mcXVvdDtqcy1idWxtYWxseS1tb2RhbC0xJnF1b3Q7Jmd0OyZsdDsvYnV0dG9uJmd0O1xcblxcbiZsdDsvZGl2Jmd0OzwvY29kZT48L3ByZT48aDMgaWQ9XFxcInNjc3NcXFwiPlNDU1M8L2gzPlxcbjxwPlRoZSBvbmx5IHN0eWxpbmcgY2hhbmdlcyBhcmUgbWFkZSB0byB0aGUgZm9jdXMgc3R5bGUgb2YgdGhlIG91dGVyIG1vZGFsIGNsb3NpbmcgYnV0dG9uLjwvcD5cXG48cHJlPjxjb2RlPi5tb2RhbC1jbG9zZSB7XFxuICAgICZhbXA7OmZvY3VzIHtcXG4gICAgICAgIG91dGxpbmU6ICR3aGl0ZSBkb3R0ZWQgLjEyNXJlbTtcXG4gICAgfVxcbn1cXG48L2NvZGU+PC9wcmU+PGgzIGlkPVxcXCJqYXZhc2NyaXB0XFxcIj5KYXZhU2NyaXB0PC9oMz5cXG48cD5CdWxtYWxseSB0YWJzIGltcGxlbWVudHMgdGhlIFdBSS1BUklBIDxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMvI2RpYWxvZ19tb2RhbFxcXCI+bW9kYWwgZGVzaWduIHBhdHRlcm48L2E+LiBKYXZhU2NyaXB0IGNvZGUgaXMgYmFzZWQgb24gdGhlIFdBSS1BUklBIGV4YW1wbGUgZm9yIDxhIGhyZWY9XFxcImh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMvZXhhbXBsZXMvZGlhbG9nLW1vZGFsL2RpYWxvZy5odG1sXFxcIj5hIG1vZGFsIGRpYWxvZzwvYT4uIFRoZSBpbXBsZW1lbnRhdGlvbiBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOjwvcD5cXG48dWw+XFxuPGxpPk1vZGFsIG5hdmlnYXRpb24gYnkgcHJlc3NpbmcgdGhlIHRhYiBrZXkuPC9saT5cXG48bGk+Rm9jdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgaW5zaWRlIGVhY2ggb3BlbmVkIG1vZGFsLjwvbGk+XFxuPGxpPkZvY3VzIGxvb3BpbmcsIHNvIHRoYXQgZm9jdXNhYmxlIGVsZW1lbnRzIGluc2lkZSB0aGUgbW9kYWwgY2FuIGJlIGVhc2lseSBuYXZpZ2F0ZWQuPC9saT5cXG48bGk+UmV0dXJuaW5nIGZvY3VzIGJhY2sgdG8gdGhlIG9yaWdpbmFsIGVsZW1lbnQgdGhhdCBvcGVuZWQgdGhlIG1vZGFsLjwvbGk+XFxuPC91bD5cXG48cD5XZSBleHRlbmRlZCB0aGUgV0FJLUFSSUEgZXhhbXBsZSB3aXRoIHRoZSBhYmlsaXR5IHRvIGhhdmUgbXVsdGlwbGUgbW9kYWwgZWxlbWVudHMgb24gdGhlIHNhbWUgcGFnZS4gSWYgeW91IHdhbnQgdG8gaGF2ZSBtYW55IG1vZGFscyBvbiBvbmUgcGFnZSwgeW91IG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgZWFjaCBtb2RhbCBnZXRzIGEgdW5pcXVlIGlkIGFuZCBpdHMgb3BlbmluZyBhbmQgY2xvc2luZyBidXR0b25zIG1hdGNoIHRoZSBtb2RhbCBpZCBpbiB0aGVpciA8c3Ryb25nPmFyaWEtY29udHJvbHM8L3N0cm9uZz4gYXR0cmlidXRlcy48L3A+XFxuPHByZT48Y29kZT4vKipcXG4gKiBNb2RhbCBKUyBjb250cm9sbGVyLlxcbiAqL1xcblxcbi8qKlxcbiAqIENsYXNzIE1vZGFsXFxuICovXFxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xcbiAgICAvKipcXG4gICAgICogVGhpcyBtZXRob2QgaXMgcnVuIHdoZW4gYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGlzIGNyZWF0ZWQuXFxuICAgICAqL1xcbiAgICBjb25zdHJ1Y3RvcigpIHtcXG4gICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzZXQgZm9yIGVhY2ggY29tcG9uZW50LlxcbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uID0gcmVxdWlyZSggJiMzOTsuL21vZGFsLm1kJiMzOTsgKTtcXG5cXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXFxuICAgICAgICAgICAgJiMzOTtET01Db250ZW50TG9hZGVkJiMzOTssXFxuICAgICAgICAgICAgKCkgPSZndDsge1xcbiAgICAgICAgICAgICAgICB0aGlzLmRvY1JlYWR5KCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogQ2FjaGUgZG9tIGVsZW1lbnRzIGZvciB1c2UgaW4gdGhlIGNsYXNzJiMzOTtzIG1ldGhvZHNcXG4gICAgICovXFxuICAgIGNhY2hlKCkge1xcbiAgICAgICAgdGhpcy5yb290RWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XFxuICAgICAgICB0aGlzLiRtb2RhbHMgPSBbXTtcXG4gICAgICAgIHRoaXMuJG1vZGFsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICYjMzk7Lm1vZGFsLWJ1dHRvbiYjMzk7ICk7XFxuICAgICAgICB0aGlzLiRtb2RhbENsb3NlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICYjMzk7Lm1vZGFsLWJhY2tncm91bmQsIC5tb2RhbC1jbG9zZSwgLm1vZGFsLWNhcmQtaGVhZCAuZGVsZXRlLCAubW9kYWwtY2FyZC1mb290IC5idXR0b24sIC5tb2RhbC1jbG9zZS1idXR0b24mIzM5OyApO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzLlxcbiAgICAgKi9cXG4gICAgZXZlbnRzKCkge1xcbiAgICAgICAgLy8gQmluZCBoYW5kbGVycyB0byBlYWNoIG1vZGFsIG9wZW4gYnV0dG9uLlxcbiAgICAgICAgaWYgKCB0aGlzLiRtb2RhbEJ1dHRvbnMubGVuZ3RoICZndDsgMCApIHtcXG4gICAgICAgICAgICB0aGlzLiRtb2RhbEJ1dHRvbnMuZm9yRWFjaCggKCBidXR0b24gKSA9Jmd0OyB7XFxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGJ1dHRvbi5nZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1jb250cm9scyYjMzk7ICkgKTtcXG4gICAgICAgICAgICAgICAgbW9kYWwub3BlbmluZ0J1dHRvbiA9IGJ1dHRvbjtcXG4gICAgICAgICAgICAgICAgbW9kYWwuaXNPcGVuZWQgPSAwO1xcbiAgICAgICAgICAgICAgICB0aGlzLiRtb2RhbHMucHVzaCggbW9kYWwgKTtcXG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICYjMzk7Y2xpY2smIzM5OywgKCkgPSZndDsge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTW9kYWwoIG1vZGFsICk7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUFyaWFFeHBhbmRlZCggYnV0dG9uICk7XFxuICAgICAgICAgICAgICAgIH0gKTtcXG4gICAgICAgICAgICB9ICk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvLyBCaW5kIGhhbmRsZXJzIHRvIGVhY2ggbW9kYWwgY2xvc2UgYnV0dG9uLlxcbiAgICAgICAgaWYgKCB0aGlzLiRtb2RhbENsb3Nlcy5sZW5ndGggJmd0OyAwICkge1xcbiAgICAgICAgICAgIHRoaXMuJG1vZGFsQ2xvc2VzLmZvckVhY2goICggYnV0dG9uICkgPSZndDsge1xcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJiMzOTtjbGljayYjMzk7LCAoKSA9Jmd0OyB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWxzKCk7XFxuICAgICAgICAgICAgICAgIH0gKTtcXG4gICAgICAgICAgICB9ICk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAvLyBCaW5kIG1vZGFsIGNsb3NpbmcgaGFuZGxlciB0byBFU0Mga2V5LlxcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJiMzOTtrZXlkb3duJiMzOTssICggZXZlbnQgKSA9Jmd0OyB7XFxuICAgICAgICAgICAgY29uc3QgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcXG4gICAgICAgICAgICBpZiAoIGUua2V5Q29kZSA9PT0gMjcgKSB7XFxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNb2RhbHMoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9ICk7XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIFRoaXMgaGFuZGxlcyBvcGVuaW5nIHRoZSBtb2RhbCB0aGF0IHdhcyBhc3NvY2lhdGVkIHdpdGhcXG4gICAgICogdGhlIGNsaWNrZWQgbW9kYWwgb3BlbmluZyBidXR0b24uXFxuICAgICAqXFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbW9kYWwgVGhlIG1vZGFsIHRoYXQgaXMgb3BlbmVkLlxcbiAgICAgKi9cXG4gICAgb3Blbk1vZGFsKCBtb2RhbCApIHtcXG4gICAgICAgIHRoaXMucm9vdEVsLmNsYXNzTGlzdC5hZGQoICYjMzk7aXMtY2xpcHBlZCYjMzk7ICk7XFxuICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCAmIzM5O2lzLWFjdGl2ZSYjMzk7ICk7XFxuICAgICAgICBtb2RhbC5pc09wZW5lZCA9IDE7XFxuXFxuICAgICAgICAvLyBDb2xsZWN0IGVhY2ggZm9jdXNhYmxlIGVsZW1lbnQgaW5zaWRlIHRoZSBtb2RhbC5cXG4gICAgICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCggJiMzOTthW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgW3RhYmluZGV4PSZxdW90OzAmcXVvdDtdJiMzOTsgKTtcXG5cXG4gICAgICAgIC8vIFNldCBmaXJzdCBhbmQgbGFzdCBmb2N1c2FibGUgZWxlbWVudCBhcyBjbGFzcyBwYXJhbWV0ZXJzLlxcbiAgICAgICAgLy8gU2V0IGZvY3VzIHRvIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudC5cXG4gICAgICAgIGlmICggZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoICkge1xcbiAgICAgICAgICAgIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzID0gZm9jdXNhYmxlRWxlbWVudHM7XFxuICAgICAgICAgICAgbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMuZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1sgMCBdO1xcbiAgICAgICAgICAgIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzLmxhc3QgPSBmb2N1c2FibGVFbGVtZW50c1sgZm9jdXNhYmxlRWxlbWVudHMubGVuZ3RoIC0gMSBdO1xcbiAgICAgICAgICAgIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzLmZpcnN0LmZvY3VzKCk7XFxuXFxuICAgICAgICAgICAgLy8gQmluZCBtb2RhbCBmb2N1cyBsb29wIGhhbmRsZXIgdG8gZG9jdW1lbnQgd2hlbiBtb2RhbCBpcyBvcGVuZWQuXFxuICAgICAgICAgICAgLy8gSWYgcHJlc3NlZCBrZXkgd2FzICYjMzk7VGFiJiMzOTssIGNhbGwgdGFiIGhhbmRsaW5nIG1ldGhvZC5cXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAmIzM5O2tleWRvd24mIzM5OywgKCBldmVudCApID0mZ3Q7IHtcXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcXG4gICAgICAgICAgICAgICAgaWYgKCBlLmtleUNvZGUgPT09IDkgKSB7XFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vZGFsVGFiYmluZyggZSwgbW9kYWwgKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0gKTtcXG4gICAgICAgIH1cXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogVGhpcyBjbG9zZXMgYWxsIG1vZGFscyBhbmQgc2V0cyBmb2N1cyBiYWNrIHRvIHRoZSBlbGVtZW50IHRoYXQgd2FzIHVzZWRcXG4gICAgICogdG8gb3BlbiB0aGUgY3VycmVudCB2aXNpYmxlIG1vZGFsLlxcbiAgICAgKi9cXG4gICAgY2xvc2VNb2RhbHMoKSB7XFxuICAgICAgICB0aGlzLnJvb3RFbC5jbGFzc0xpc3QucmVtb3ZlKCAmIzM5O2lzLWNsaXBwZWQmIzM5OyApO1xcbiAgICAgICAgdGhpcy4kbW9kYWxzLmZvckVhY2goICggbW9kYWwgKSA9Jmd0OyB7XFxuICAgICAgICAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSggJiMzOTtpcy1hY3RpdmUmIzM5OyApO1xcbiAgICAgICAgICAgIGlmICggbW9kYWwuaXNPcGVuZWQgKSB7XFxuICAgICAgICAgICAgICAgIG1vZGFsLm9wZW5pbmdCdXR0b24uZm9jdXMoKTtcXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVBcmlhRXhwYW5kZWQoIG1vZGFsLm9wZW5pbmdCdXR0b24gKTtcXG4gICAgICAgICAgICAgICAgbW9kYWwuaXNPcGVuZWQgPSAwO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogVGhpcyBoYW5kbGVzIFRhYiBrZXkgcHJlc3NlcyBhbmQgbG9vcHMgZm9jdXMgYmFjayB0byB0aGUgZmlyc3RcXG4gICAgICogZm9jdXNhYmxlIGVsZW1lbnQgaW5zaWRlIHRoZSBtb2RhbC4gSWYgYSB1c2VyIG5hdmlnYXRlcyBiYWNrd2FyZHNcXG4gICAgICogdXNpbmcgc2hpZnQgKyB0YWIsIHRoZSBsb29wIGlzIGhhbmRsZWQgcHJvcGVybHkgdG8gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtldmVudH0gZSBLZXkgcHJlc3MgZXZlbnQuXFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbW9kYWwgVGhlIG1vZGFsIHRoYXQgaXMgY3VycmVudGx5IHZpc2libGUuXFxuICAgICAqL1xcbiAgICBoYW5kbGVNb2RhbFRhYmJpbmcoIGUsIG1vZGFsICkge1xcbiAgICAgICAgLy8gSWYgc2hpZnQgKyB0YWIgcHVzaGVkLlxcbiAgICAgICAgaWYgKCBlLnNoaWZ0S2V5ICkge1xcbiAgICAgICAgICAgIC8vIEZvY3VzIHRoZSBsYXN0IGVsZW1lbnQgaWYgZm9jdXMgd2FzIG9uIHRoZSBmaXJzdCBlbGVtZW50LlxcbiAgICAgICAgICAgIGlmICggbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMuZmlyc3QgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgKSB7XFxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcXG4gICAgICAgICAgICAgICAgbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMubGFzdC5mb2N1cygpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gZWxzZSBpZiAoIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzLmxhc3QgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgKSB7XFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xcbiAgICAgICAgICAgIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzLmZpcnN0LmZvY3VzKCk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEdldCB0aGUgdG9nZ2xlciYjMzk7cyBhcmlhLWV4cGFuZGVkIGN1cnJlbnQgc3RhdGUgYW5kIHNldCBhIG5ldyBvcHBvc2l0ZSBzdGF0ZSB0byBpdC5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9nZ2xlciBUaGUgdG9nZ2xlciBlbGVtZW50LlxcbiAgICAgKi9cXG4gICAgdG9nZ2xlQXJpYUV4cGFuZGVkKCB0b2dnbGVyICkge1xcbiAgICAgICAgY29uc3QgYXJpYUV4cGFuZGVkU3RhdGUgPSB0b2dnbGVyLmdldEF0dHJpYnV0ZSggJiMzOTthcmlhLWV4cGFuZGVkJiMzOTsgKSA9PT0gJiMzOTtmYWxzZSYjMzk7ID8gdHJ1ZSA6IGZhbHNlO1xcbiAgICAgICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoICYjMzk7YXJpYS1leHBhbmRlZCYjMzk7LCBhcmlhRXhwYW5kZWRTdGF0ZSApO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBSdW4gd2hlbiB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXFxuICAgICAqL1xcbiAgICBkb2NSZWFkeSgpIHtcXG4gICAgICAgIHRoaXMuY2FjaGUoKTtcXG4gICAgICAgIHRoaXMuZXZlbnRzKCk7XFxuICAgIH1cXG59PC9jb2RlPjwvcHJlPlwiOyIsIm1vZHVsZS5leHBvcnRzID0gXCI8aDIgaWQ9XFxcIm1lc3NhZ2UtY29tcG9uZW50XFxcIj5NZXNzYWdlIGNvbXBvbmVudDwvaDI+XFxuPHA+QnVsbWEgZGVzY3JpYmVzIHRoZSA8YSBocmVmPVxcXCJodHRwczovL2J1bG1hLmlvL2RvY3VtZW50YXRpb24vY29tcG9uZW50cy9tZXNzYWdlL1xcXCI+bWVzc2FnZSBjb21wb25lbnQ8L2E+IGFzIGEgY29sb3JlZCBtZXNzYWdlIGJsb2NrLCB0byBlbXBoYXNpemUgcGFydCBvZiB5b3VyIHBhZ2UuIEJ1bG1hbGx5IGltcGxlbWVudHMgdGhlIGNsb3NpbmcgZnVuY3Rpb25hbGl0eSBmb3IgaXQuIFdlIGFsc28gbW9kaWZ5IHRoZSBtZXNzYWdlIEhUTUwgbWFya3VwIGEgbGl0dGxlIHRvIG1ha2UgaXQgc2VtYW50aWNhbGx5IGJldHRlci48L3A+XFxuPGgzIGlkPVxcXCJ0ZXN0cy1hbmQtYWNjZXNzaWJpbGl0eS1zdGF0dXNcXFwiPlRlc3RzIGFuZCBhY2Nlc3NpYmlsaXR5IHN0YXR1czwvaDM+XFxuPHA+VGhlIGFjY2Vzc2liaWxpdHktcmVhZHkgc3RhdHVzIG9mIHRoaXMgY29tcG9uZW50IGlzOiB1bnRlc3RlZC48L3A+XFxuPHVsPlxcbjxsaT48aW5wdXQgY2hlY2tlZD1cXFwiXFxcIiBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IEtleWJvYXJkLW9ubHk8L2xpPlxcbjxsaT48aW5wdXQgY2hlY2tlZD1cXFwiXFxcIiBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFZvaWNlT3ZlciAmYW1wOyBTYWZhcmkgKG1hY09TKTwvbGk+XFxuPGxpPjxpbnB1dCBjaGVja2VkPVxcXCJcXFwiIGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gVm9pY2VPdmVyICZhbXA7IFNhZmFyaSAoaU9TKTwvbGk+XFxuPGxpPjxpbnB1dCBkaXNhYmxlZD1cXFwiXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCI+IFZvaWNlT3ZlciAmYW1wOyBTYWZhcmkgKGlQYWRPUyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBUYWxrYmFjayAmYW1wOyBDaHJvbWUgKEFuZHJvaWQpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gTmFycmF0b3IgJmFtcDsgRWRnZSAoV2luZG93cyk8L2xpPlxcbjxsaT48aW5wdXQgZGlzYWJsZWQ9XFxcIlxcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiPiBOVkRBICZhbXA7IEZpcmVmb3ggKFdpbmRvd3MpPC9saT5cXG48bGk+PGlucHV0IGRpc2FibGVkPVxcXCJcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIj4gV2luZG93cyBIaWdoIENvbnRyYXN0IG1vZGU8L2xpPlxcbjwvdWw+XFxuPGgzIGlkPVxcXCJodG1sXFxcIj5IVE1MPC9oMz5cXG48cD5JbnN0ZWFkIG9mIGFuIGFydGljbGUsIHdlIGVuY291cmFnZSB0byB1c2UgYSBzZWN0aW9uIHRhZyBmb3IgdGhlIG1lc3NhZ2UgY29udGFpbmVyLiBIZWFkaW5nIHNob3VsZCBiZSBpbnNpZGUgYSBoZWFkZXIgZWxlbWVudCBhbmQgdGhlIGhlYWRpbmcgc2hvdWxkIGhhdmUgYSBoZWFkaW5nIHRhZyB3aXRoIGEgbGV2ZWwgZm9sbG93aW5nIHRoZSBzdHJ1Y3R1cmUgb2YgeW91ciBwYWdlLiBBcyBhbiBleGFtcGxlLCB3ZSB1c2UgPGVtPmgyPC9lbT4gc2luY2UgdGhlIGVsZW1lbnQgcHJvYmFibHkgZG9lcyBub3QgY29udGFpbiB0aGUgbWFpbiBoZWFkaW5nIG9mIGEgcGFnZS4gSW5zaWRlIHRoZSBkZWxldGUgYnV0dG9uLCB5b3Ugc2hvdWxkIGFkZCBhIGRlc2NyaXB0aXZlIHRleHQgaW5zaWRlIHRoZSBzcGFuIGVsZW1lbnQgdGFyZ2V0ZWQgZm9yIHNjcmVlbiByZWFkZXJzLiBVc2luZyBhIHNwYW4gZWxlbWVudCBpbnN0ZWFkIG9mIDxlbT5hcmlhLWxhYmVsPC9lbT4gd2Ugc3VwcG9ydCBsYW5ndWFnZSB0cmFuc2xhdG9ycyB0aGF0IGRvIG5vdCB0cmFuc2xhdGUgSFRNTCBhdHRyaWJ1dGVzIDxlbT4oZS5nLiBHb29nbGUgVHJhbnNsYXRlKTwvZW0+LjwvcD5cXG48cHJlPjxjb2RlPiZsdDtzZWN0aW9uIGNsYXNzPSZxdW90O2J1bG1hbGx5LW1lc3NhZ2UgbWVzc2FnZSZxdW90OyZndDtcXG4gICAgJmx0O2hlYWRlciBjbGFzcz0mcXVvdDttZXNzYWdlLWhlYWRlciZxdW90OyZndDtcXG4gICAgICAgICZsdDtoMiZndDtIZWxsbyBXb3JsZCZsdDsvaDImZ3Q7XFxuICAgICAgICAmbHQ7YnV0dG9uIGNsYXNzPSZxdW90O2RlbGV0ZSZxdW90OyZndDtcXG4gICAgICAgICAgICAmbHQ7c3BhbiBjbGFzcz0mcXVvdDtpcy1zci1vbmx5JnF1b3Q7Jmd0O0Nsb3NlIG1lc3NhZ2UmbHQ7L3NwYW4mZ3Q7XFxuICAgICAgICAmbHQ7L2J1dHRvbiZndDtcXG4gICAgJmx0Oy9oZWFkZXImZ3Q7XFxuICAgICZsdDtkaXYgY2xhc3M9JnF1b3Q7bWVzc2FnZS1ib2R5JnF1b3Q7Jmd0O1xcbiAgICAgICAgTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gJmx0O3N0cm9uZyZndDtQZWxsZW50ZXNxdWUgcmlzdXMgbWkmbHQ7L3N0cm9uZyZndDssIHRlbXB1cyBxdWlzIHBsYWNlcmF0IHV0LCBwb3J0YSBuZWMgbnVsbGEuIFZlc3RpYnVsdW0gcmhvbmN1cyBhYyBleCBzaXQgYW1ldCBmcmluZ2lsbGEuIE51bGxhbSBncmF2aWRhIHB1cnVzIGRpYW0sIGV0IGRpY3R1bSAmbHQ7YSZndDtmZWxpcyB2ZW5lbmF0aXMmbHQ7L2EmZ3Q7IGVmZmljaXR1ci4gQWVuZWFuIGFjICZsdDtlbSZndDtlbGVpZmVuZCBsYWN1cyZsdDsvZW0mZ3Q7LCBpbiBtb2xsaXMgbGVjdHVzLiBEb25lYyBzb2RhbGVzLCBhcmN1IGV0IHNvbGxpY2l0dWRpbiBwb3J0dGl0b3IsIHRvcnRvciB1cm5hIHRlbXBvciBsaWd1bGEsIGlkIHBvcnR0aXRvciBtaSBtYWduYSBhIG5lcXVlLiBEb25lYyBkdWkgdXJuYSwgdmVoaWN1bGEgZXQgc2VtIGVnZXQsIGZhY2lsaXNpcyBzb2RhbGVzIHNlbS5cXG4gICAgJmx0Oy9kaXYmZ3Q7XFxuJmx0Oy9zZWN0aW9uJmd0OzwvY29kZT48L3ByZT48aDMgaWQ9XFxcImphdmFzY3JpcHRcXFwiPkphdmFTY3JpcHQ8L2gzPlxcbjxwPkphdmFTY3JpcHQgaGFuZGxlcyByZW1vdmluZyB0aGUgZWxlbWVudCBhbmQgbW92aW5nIGZvY3VzIHRvIHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhlIG1lc3NhZ2UgZWxlbWVudC4gSWYgdGhlIG1lc3NhZ2UgZWxlbWVudCBoYXMgbm8gc2libGluZ3MsIGZvY3VzIGlzIG1vdmVkIHRvIHRoZSBwYXJlbnQgZWxlbWVudC4gV2UgZW5jb3VyYWdlIHBsYWNpbmcgdGhlIG1lc3NhZ2UgZWxlbWVudCBzbyB0aGF0IGlzIGhhcyBhIHRleHQgZWxlbWVudCBuZXh0IHRvIGl0LiBUaGlzIG1ha2VzIHRoZSBmb2N1cyBjaGFuZ2UgbG9naWNhbCBmb3IgYSBzY3JlZW4gcmVhZGVyIHRvIGFubm91bmNlIGl0IGFmdGVyIHRoZSBwcmV2aW91c2x5IGZvY3VzZWQgZGVsZXRlIGJ1dHRvbiBhbmQgdGhlIHdob2xlIG1lc3NhZ2UgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS48L3A+XFxuPHA+SWYgeW91IGNyZWF0ZSBtZXNzYWdlcyBkeW5hbWljYWxseSwgdGhlIDxlbT5NZXNzYWdlPC9lbT4gY2xhc3MgaGFzIHN0YXRpYyBtZXRob2RzIGZvciBpbml0YWxpemluZyBuZXcgbWVzc2FnZSBjb21wb25lbnRzLiBUaGUgPGVtPmluaXRNZXNzYWdlcygpPC9lbT4gbWV0aG9kIGhhcyBhbiBleGFtcGxlIG9mIGhvdyB0byBpbml0YWxpemUgYSBzaW5nbGUgbWVzc2FnZSBjb21wb25lbnQuPC9wPlxcbjxwcmU+PGNvZGU+LyoqXFxuICogQ2xhc3MgTWVzc2FnZVxcbiAqL1xcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2Uge1xcbiAgICAvKipcXG4gICAgICogQ29uc3RydWN0IHRoZSBjb21wb25lbnQgaGFuZGxlci5cXG4gICAgICovXFxuICAgIGNvbnN0cnVjdG9yKCkge1xcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcXG4gICAgICAgICAgICAmIzM5O0RPTUNvbnRlbnRMb2FkZWQmIzM5OyxcXG4gICAgICAgICAgICAoKSA9Jmd0OyB7XFxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdE1lc3NhZ2VzKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgKTtcXG4gICAgfVxcblxcbiAgICAvKipcXG4gICAgICogRmluZCBhbGwgbWVzc2FnZSBlbGVtZW50cyBhbmQgaW5pdGFsaXplIHRoZWlyIGNsb3NpbmcgZnVuY3Rpb25hbGl0eS5cXG4gICAgICovXFxuICAgIGluaXRNZXNzYWdlcygpIHtcXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJiMzOTsuYnVsbWFsbHktbWVzc2FnZSYjMzk7ICk7XFxuXFxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgJmx0OyBtZXNzYWdlcy5sZW5ndGg7IGkrKyApIHtcXG4gICAgICAgICAgICBNZXNzYWdlLmluaXRNZXNzYWdlKCBtZXNzYWdlc1sgaSBdICk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgLyoqXFxuICAgICAqIEluaXRpYWxpemVzIGNsb3NpbmcgZnVuY3Rpb25hbGl0aWVzIGZvciBhIG1lc3NhZ2UgZWxlbWVudC5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbWVzc2FnZUVsZW1lbnQgQSBtZXNzYWdlIGVsZW1lbnQuXFxuICAgICAqL1xcbiAgICBzdGF0aWMgaW5pdE1lc3NhZ2UoIG1lc3NhZ2VFbGVtZW50ICkge1xcbiAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gbWVzc2FnZUVsZW1lbnQucXVlcnlTZWxlY3RvciggJiMzOTsuZGVsZXRlJiMzOTsgKTtcXG4gICAgICAgIGRlbGV0ZUJ1dHRvbi5tZXNzYWdlID0gbWVzc2FnZUVsZW1lbnQ7XFxuXFxuICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJiMzOTtjbGljayYjMzk7LCBNZXNzYWdlLmRlbGV0ZSApO1xcbiAgICB9XFxuXFxuICAgIC8qKlxcbiAgICAgKiBIYW5kbGVzIHRoZSBjbGljayBldmVudCBvZiBhIGRlbGV0ZSBidXR0b24gYW5kIGRlbGV0ZXMgdGhlIG1lc3NhZ2UuXFxuICAgICAqIEZvY3VzIGlzIHNldCBvbiB0aGUgbmV4dCBlbGVtZW50IGJlZm9yZSBkZWxldGluZyB0aGUgZWxlbWVudC5cXG4gICAgICpcXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0LlxcbiAgICAgKi9cXG4gICAgc3RhdGljIGRlbGV0ZSggZXZlbnQgKSB7XFxuICAgICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQudGFyZ2V0Lm1lc3NhZ2U7XFxuICAgICAgICBsZXQgZm9jdXNUbyA9IG1lc3NhZ2UubmV4dEVsZW1lbnRTaWJsaW5nO1xcblxcbiAgICAgICAgaWYgKCAhIGZvY3VzVG8gKSB7XFxuICAgICAgICAgICAgLy8gSWYgdGhlcmUmIzM5O3Mgbm8gc2libGluZyBmb3IgdGhlIG1lc3NhZ2UsXFxuICAgICAgICAgICAgLy8gbW92ZSBmb2N1cyB0byB0aGUgcGFyZW50IG5vZGUuXFxuICAgICAgICAgICAgZm9jdXNUbyA9IG1lc3NhZ2UucGFyZW50Tm9kZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC8vIEZvcmNlIGFiaWxpdHkgdG8gZ2l2ZSBmb2N1cyBvbiB0aGUgc2libGluZy5cXG4gICAgICAgIGlmICggZm9jdXNUby50YWJJbmRleCAhPT0gMCApIHtcXG4gICAgICAgICAgICBmb2N1c1RvLnNldEF0dHJpYnV0ZSggJiMzOTt0YWJpbmRleCYjMzk7LCAtMSApO1xcbiAgICAgICAgfVxcbiAgICAgICAgZm9jdXNUby5mb2N1cygpO1xcblxcbiAgICAgICAgbWVzc2FnZS5yZW1vdmUoKTtcXG4gICAgfVxcbn08L2NvZGU+PC9wcmU+PGgzIGlkPVxcXCJzY3NzXFxcIj5TQ1NTPC9oMz5cXG48cD5UaGUgaGVhZGluZyBvZiB0aGUgbWVzc2FnZSBlbGVtZW50IHNob3VsZCBiZSBpbnNpZGUgYSBoZWFkaW5nIHRhZy4gQnVsbWEgc3R5bGVzIGhlYWRpbmdzIHdpdGhvdXQgYW55IHdlaWdodCBieSBkZWZhdWx0LiBXZSBzZXQgdGhlIGNvcnJlY3Qgd2VpZ2h0IHdpdGggdGhpcyBzaW1wbGUgb3ZlcnJpZGUuPC9wPlxcbjxwcmU+PGNvZGU+LmJ1bG1hbGx5LW1lc3NhZ2Uge1xcblxcbiAgICAubWVzc2FnZS1oZWFkZXIge1xcbiAgICAgICAgaDEsIGgyLCBoMywgaDQsIGg1LCBoNiB7XFxuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgaGVhZGluZyB3ZWlnaHQuXFxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6ICRtZXNzYWdlLWhlYWRlci13ZWlnaHQ7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG59PC9jb2RlPjwvcHJlPlwiOyIsIi8qKlxuICogQm9pbGVyUGxhdGUgSlMgY29udHJvbGxlci5cbiAqL1xuXG4vKipcbiAqIENsYXNzIEJvaWxlclBsYXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvaWxlclBsYXRlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgdGhlIGNvbXBvbmVudCBmdW5jdGlvbmFsaXRpZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUoKTtcblxuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IGZvciBlYWNoIGNvbXBvbmVudC5cbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uID0gcmVxdWlyZSggJy4vcmVhZG1lLm1kJyApO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2NSZWFkeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhY2hlIGRvbSBlbGVtZW50cyBmb3IgdXNlIGluIHRoZSBjbGFzcydzIG1ldGhvZHNcbiAgICAgKi9cbiAgICBjYWNoZSgpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGV2ZW50cygpIHt9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gd2hlbiB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZG9jUmVhZHkoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUoKTtcbiAgICAgICAgdGhpcy5ldmVudHMoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE5hdmJhciBKUyBjb250cm9sbGVyLlxuICovXG5cbi8qKlxuICogQ2xhc3MgTmF2YmFyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmJhciB7XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgcnVuIHdoZW4gYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGlzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzZXQgZm9yIGVhY2ggY29tcG9uZW50LlxuICAgICAgICB0aGlzLmRvY3VtZW50YXRpb24gPSByZXF1aXJlKCAnLi9yZWFkbWUubWQnICk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdET01Db250ZW50TG9hZGVkJyxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvY1JlYWR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FjaGUgZG9tIGVsZW1lbnRzIGZvciB1c2UgaW4gdGhlIGNsYXNzJ3MgbWV0aG9kc1xuICAgICAqL1xuICAgIGNhY2hlKCkge1xuICAgICAgICB0aGlzLm5hdmJhckJ1cmdlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnanMtbmF2YmFyLWJ1cmdlcicgKTtcbiAgICAgICAgdGhpcy5uYXZiYXJNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdqcy1uYXZiYXItbWVudScgKTtcbiAgICAgICAgaWYgKCB0aGlzLm5hdmJhck1lbnUgKSB7XG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMgPSB0aGlzLm5hdmJhck1lbnUucXVlcnlTZWxlY3RvckFsbCggJy5kcm9wZG93bi10b2dnbGVyJyApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICBldmVudHMoKSB7XG4gICAgICAgIGlmICggdGhpcy5uYXZiYXJCdXJnZXIgKSB7XG4gICAgICAgICAgICB0aGlzLm5hdmJhckJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB0aGlzLnRvZ2dsZU1lbnUoKSApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMgKSB7XG4gICAgICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93blRvZ2dsZXJzWyBpIF0uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBldmVudCApID0+IHRoaXMudG9nZ2xlRHJvcGRvd24oIGV2ZW50ICkgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBtZW51IHRvZ2dsaW5nIHdoZW4gdGhlIG5hdmJhciBidXJnZXIgaXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICB0b2dnbGVNZW51KCkge1xuICAgICAgICB0aGlzLm5hdmJhckJ1cmdlci5jbGFzc0xpc3QudG9nZ2xlKCAnaXMtYWN0aXZlJyApO1xuICAgICAgICB0aGlzLm5hdmJhck1lbnUuY2xhc3NMaXN0LnRvZ2dsZSggJ2lzLWFjdGl2ZScgKTtcbiAgICAgICAgdGhpcy50b2dnbGVBcmlhRXhwYW5kZWQoIHRoaXMubmF2YmFyQnVyZ2VyICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhIGRyb3Bkb3duIG1lbnUgdmlzaWJpbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEEgY2xpY2sgZXZlbnQuXG4gICAgICovXG4gICAgdG9nZ2xlRHJvcGRvd24oIGV2ZW50ICkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcklkID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSggJ2FyaWEtY29udHJvbHMnICk7XG4gICAgICAgIGNvbnN0IGRyb3Bkb3duTWVudSA9IHRoaXMubmF2YmFyTWVudS5xdWVyeVNlbGVjdG9yKCBgIyR7IGNvbnRhaW5lcklkIH1gICk7XG5cbiAgICAgICAgdGhpcy50b2dnbGVBcmlhRXhwYW5kZWQoIHRhcmdldCApO1xuICAgICAgICBkcm9wZG93bk1lbnUuY2xhc3NMaXN0LnRvZ2dsZSggJ2lzLWhpZGRlbi10b3VjaCcgKTtcbiAgICAgICAgdGhpcy50b2dnbGVBbmNlc3RvckFjdGl2ZVN0YXRlKCB0YXJnZXQsICdoYXMtZHJvcGRvd24nICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSAnaXMtYWN0aXZlJyBzdGF0ZSBmb3IgYW4gYW5jZXN0b3Igb2YgYW4gZWxlbWVudFxuICAgICAqIHdpdGggdGhlIG1hdGNoaW5nIGNsYXNzIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjaGlsZCBBIGNoaWxkIGVsZW1lbnQgdG8gc3RhcnQgdGhlIHNlYXJjaCBmcm9tLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNsYXNzTmFtZSBBIHRhcmdldCBjbGFzcyBuYW1lIGZvciB0aGUgYW5jZXN0b3IuXG4gICAgICovXG4gICAgdG9nZ2xlQW5jZXN0b3JBY3RpdmVTdGF0ZSggY2hpbGQsIGNsYXNzTmFtZSApIHtcbiAgICAgICAgbGV0IGFuY2VzdG9yID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgICAgICAgd2hpbGUgKCBhbmNlc3RvciApIHtcbiAgICAgICAgICAgIGlmICggYW5jZXN0b3IuY2xhc3NMaXN0LmNvbnRhaW5zKCBjbGFzc05hbWUgKSApIHtcbiAgICAgICAgICAgICAgICBhbmNlc3Rvci5jbGFzc0xpc3QudG9nZ2xlKCAnaXMtYWN0aXZlJyApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50Tm9kZSA/IGFuY2VzdG9yLnBhcmVudE5vZGUgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG9nZ2xlcidzIGFyaWEtZXhwYW5kZWQgY3VycmVudCBzdGF0ZSBhbmQgc2V0IGEgbmV3IG9wcG9zaXRlIHN0YXRlIHRvIGl0LlxuICAgICAqIEFsc28gc2V0IHRoZSBvcGVuZWQgY29udGFpbmVyJ3MgYXJpYS1oaWRkZW4gc3RhdGUgdG8gdGhlIG5ldyB2YWx1ZSdzIG9wcG9zaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9nZ2xlciBUaGUgdG9nZ2xlciBlbGVtZW50LlxuICAgICAqL1xuICAgIHRvZ2dsZUFyaWFFeHBhbmRlZCggdG9nZ2xlciApIHtcbiAgICAgICAgY29uc3QgYXJpYUV4cGFuZGVkU3RhdGUgPSB0b2dnbGVyLmdldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnICkgPT09ICdmYWxzZScgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHRvZ2dsZXIuc2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcsIGFyaWFFeHBhbmRlZFN0YXRlICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVuIHdoZW4gdGhlIGRvY3VtZW50IGlzIHJlYWR5LlxuICAgICAqL1xuICAgIGRvY1JlYWR5KCkge1xuICAgICAgICB0aGlzLmNhY2hlKCk7XG4gICAgICAgIHRoaXMuZXZlbnRzKCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBY2NvcmRpb24gSlMgY29udHJvbGxlci5cbiAqL1xuXG4vKipcbiAqIENsYXNzIEFjY29yZGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2NvcmRpb24ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHJ1biB3aGVuIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBjbGFzcyBpcyBjcmVhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IGZvciBlYWNoIGNvbXBvbmVudC5cbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uID0gcmVxdWlyZSggJy4vcmVhZG1lLm1kJyApO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb2NSZWFkeSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhY2hlIGRvbSBlbGVtZW50cyBmb3IgdXNlIGluIHRoZSBjbGFzcydzIG1ldGhvZHNcbiAgICAgKi9cbiAgICBjYWNoZSgpIHtcbiAgICAgICAgdGhpcy5tYWluQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdqcy1idWxtYWxseS1hY2NvcmRpb24nICk7XG5cbiAgICAgICAgaWYgKCB0aGlzLm1haW5Db250YWluZXIgKSB7XG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duVG9nZ2xlcnMgPSB0aGlzLm1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCggJy5hY2NvcmRpb24tdGl0bGUtYnV0dG9uJyApO1xuICAgICAgICAgICAgdGhpcy5kcm9wZG93bnMgPSB0aGlzLm1haW5Db250YWluZXIucXVlcnlTZWxlY3RvckFsbCggJy5hY2NvcmRpb24tY29udGVudCcgKTtcblxuICAgICAgICAgICAgLy8gSGlkZSBhbGwgdG9nZ2xlYWJsZSBlbGVtZW50cyB3aXRoIEpTLlxuICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5kcm9wZG93bnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93bnNbIGkgXS5jbGFzc0xpc3QuYWRkKCAnaXMtaGlkZGVuJyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgKi9cbiAgICBldmVudHMoKSB7XG4gICAgICAgIGlmICggdGhpcy5kcm9wZG93blRvZ2dsZXJzICkge1xuICAgICAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgdGhpcy5kcm9wZG93blRvZ2dsZXJzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd25Ub2dnbGVyc1sgaSBdLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHRoaXMudG9nZ2xlRHJvcGRvd24oIHRoaXMuZHJvcGRvd25Ub2dnbGVyc1sgaSBdICkgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgYSBkcm9wZG93biBjb250ZW50IHZpc2liaWxpdHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxCdXR0b25FbGVtZW50fSBjbGlja2VkVG9nZ2xlciBUaGUgdG9nZ2xlciBidXR0b24gdGhhdCB3YXMgY2xpY2tlZC5cbiAgICAgKi9cbiAgICB0b2dnbGVEcm9wZG93biggY2xpY2tlZFRvZ2dsZXIgKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcklkID0gY2xpY2tlZFRvZ2dsZXIuZ2V0QXR0cmlidXRlKCAnYXJpYS1jb250cm9scycgKTtcbiAgICAgICAgY29uc3QgZHJvcERvd25Db250ZW50ID0gdGhpcy5tYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoIGAjJHsgY29udGFpbmVySWQgfWAgKTtcblxuICAgICAgICB0aGlzLnRvZ2dsZUFyaWFFeHBhbmRlZCggY2xpY2tlZFRvZ2dsZXIgKTtcbiAgICAgICAgZHJvcERvd25Db250ZW50LmNsYXNzTGlzdC50b2dnbGUoICdpcy1oaWRkZW4nICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSB0b2dnbGVyJ3MgYXJpYS1leHBhbmRlZCBjdXJyZW50IHN0YXRlIGFuZCBzZXQgYSBuZXcgb3Bwb3NpdGUgc3RhdGUgdG8gaXQuXG4gICAgICogQWxzbyBzZXQgdGhlIG9wZW5lZCBjb250YWluZXIncyBhcmlhLWhpZGRlbiBzdGF0ZSB0byB0aGUgbmV3IHZhbHVlJ3Mgb3Bwb3NpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0b2dnbGVyIFRoZSB0b2dnbGVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgdG9nZ2xlQXJpYUV4cGFuZGVkKCB0b2dnbGVyICkge1xuICAgICAgICBjb25zdCBhcmlhRXhwYW5kZWRTdGF0ZSA9IHRvZ2dsZXIuZ2V0QXR0cmlidXRlKCAnYXJpYS1leHBhbmRlZCcgKSA9PT0gJ2ZhbHNlJyA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdG9nZ2xlci5zZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJywgYXJpYUV4cGFuZGVkU3RhdGUgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gd2hlbiB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXG4gICAgICovXG4gICAgZG9jUmVhZHkoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUoKTtcbiAgICAgICAgdGhpcy5ldmVudHMoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIFRhYnMgSlMgY29udHJvbGxlci5cbiAqL1xuXG4vLyBGb3IgZWFzeSByZWZlcmVuY2VcbmNvbnN0IGtleXMgPSB7XG4gICAgZW5kOiAzNSxcbiAgICBob21lOiAzNixcbiAgICBsZWZ0OiAzNyxcbiAgICB1cDogMzgsXG4gICAgcmlnaHQ6IDM5LFxuICAgIGRvd246IDQwLFxuICAgIGVudGVyOiAxMyxcbiAgICBzcGFjZTogMzIsXG59O1xuXG4vLyBBZGQgb3Igc3VidHJhY3QgZGVwZW5kaW5nIG9uIGtleSBwcmVzc2VkXG5jb25zdCBkaXJlY3Rpb24gPSB7XG4gICAgMzc6IC0xLFxuICAgIDM4OiAtMSxcbiAgICAzOTogMSxcbiAgICA0MDogMSxcbn07XG5cbi8qKlxuICogQ2xhc3MgVGFic1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJzIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBydW4gYXV0b21hdGljYWxseSB3aGVuIHRoZSBtb2R1bGUgaXMgaW1wb3J0ZWQsXG4gICAgICogYmVjYXVzZSBpdCBleHBvcnRzIGEgbmV3IGluc3RhbmNlIG9mIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHNldCBmb3IgZWFjaCBjb21wb25lbnQuXG4gICAgICAgIHRoaXMuZG9jdW1lbnRhdGlvbiA9IHJlcXVpcmUoICcuL3JlYWRtZS5tZCcgKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ0RPTUNvbnRlbnRMb2FkZWQnLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdEFsbFRhYnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFsbCB0YWIgZWxlbWVudHMgYW5kIGluaXRpYWxpemUgdGhlaXIgZnVuY3Rpb25hbGl0aWVzLlxuICAgICAqIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBydW4gb24gZG9jdW1lbnQgcmVhZHkgdG8gaW5pdGlhbGl6ZSBhbGxcbiAgICAgKiB0YWJzIGluIHRoZSBET00gYWZ0ZXIgdGhlIHBhZ2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIGluaXRBbGxUYWJzKCkge1xuICAgICAgICB0aGlzLmFsbFRhYnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmJ1bG1hbGx5LXRhYnMnICk7XG5cbiAgICAgICAgaWYgKCAhIHRoaXMuYWxsVGFicyApIHtcbiAgICAgICAgICAgIC8vIE5vIHRhYnMgZm91bmQuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB0aGlzLmFsbFRhYnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQoIHRoaXMuYWxsVGFic1sgaSBdICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0YWxpemUgYSBzaW5nbGUgdGFicyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFic0VsZW1lbnQgQnVsbWFsbHkgdGFicyBjb250YWluZXIuXG4gICAgICovXG4gICAgaW5pdCggdGFic0VsZW1lbnQgKSB7XG4gICAgICAgIGNvbnN0IHRhYnNDb250YWluZXIgPSB0YWJzRWxlbWVudC5xdWVyeVNlbGVjdG9yKCAnLnRhYnMnICk7XG4gICAgICAgIGNvbnN0IHRhYmxpc3QgPSB0YWJzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoICd1bCcgKTtcbiAgICAgICAgY29uc3QgdGFicyA9IHRhYmxpc3QucXVlcnlTZWxlY3RvckFsbCggJ2EnICk7XG4gICAgICAgIGNvbnN0IHRhYkxpc3RJdGVtcyA9IHRhYmxpc3QucXVlcnlTZWxlY3RvckFsbCggJ2xpJyApO1xuXG4gICAgICAgIC8vIFN0b3JlIHJlZmVyZW5jZXMgdG8gdGhlIGZpcnN0IGFuZCB0aGUgbGFzdCB0YWIgZm9yIGZvY3VzIG1hbmlwdWxhdGlvbnMuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYW4gYXJyYXkgZm9yIHN0b3JpbmcgcmVmZXJlbmNlcyB0byBhbGwgdGFicy5cbiAgICAgICAgdGFibGlzdC5maXJzdFRhYiA9IHRhYnNbIDAgXTtcbiAgICAgICAgdGFibGlzdC5sYXN0VGFiID0gdGFic1sgdGFicy5sZW5ndGggLSAxIF07XG4gICAgICAgIHRhYmxpc3QudGFicyA9IFtdO1xuICAgICAgICB0YWJsaXN0LnBhbmVscyA9IFtdO1xuXG4gICAgICAgIC8vIFNldCB0YWJsaXN0IHJvbGVcbiAgICAgICAgdGFibGlzdC5zZXRBdHRyaWJ1dGUoICdyb2xlJywgJ3RhYmxpc3QnICk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0YWJzLlxuICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCB0YWJzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgdGhpcy5pbml0VGFiKCB0YWJzWyBpIF0sIHRhYmxpc3QsIGkgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoIGxldCBpID0gMDsgaSA8IHRhYkxpc3RJdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIC8vIEFsbCA8bGk+IGVsZW1lbnRzIG11c3QgaGF2ZSBhIHJvbGUgb2YgcHJlc2VudGF0aW9uLlxuICAgICAgICAgICAgdGFiTGlzdEl0ZW1zWyBpIF0uc2V0QXR0cmlidXRlKCAncm9sZScsICdwcmVzZW50YXRpb24nICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3RpdmF0ZSB0aGUgZmlyc3QgdGFiXG4gICAgICAgIHRoaXMuYWN0aXZhdGVUYWIoIHRhYmxpc3QuZmlyc3RUYWIgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIGZ1bmN0aW9uYWxpdGllcyBmb3IgYSB0YWIgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYiBBIHRhYiBsaW5rLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYmxpc3QgVGhlIHRhYmxpc3QgZWxlbWVudCBmb3IgdGhlIHRhYi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGN1cnJlbnQgZWxlbWVudCBpbmRleCBpbiB0aGUgdGFiIGxpc3QuXG4gICAgICovXG4gICAgaW5pdFRhYiggdGFiLCB0YWJsaXN0LCBpbmRleCApIHtcbiAgICAgICAgY29uc3QgcGFuZWxJZCA9IHRhYi5oYXNoLnNsaWNlKCAxICk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGEgdW5pcXVlIGlkIHVzaW5nIHRoZSB0YWIgbGluaydzIGhhc2hcbiAgICAgICAgdGFiLmlkID0gYHRhYi0keyBwYW5lbElkIH1gO1xuXG4gICAgICAgIC8vIE1ha2UgYSB0d28td2F5IHJlZmVyZW5jZSBvZiB0aGUgdGFiIGFuZCBpdHMgdGFibGlzdC5cbiAgICAgICAgdGFiLnRhYmxpc3QgPSB0YWJsaXN0O1xuICAgICAgICB0YWJsaXN0LnRhYnNbIGluZGV4IF0gPSB0YWI7XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIGluZGV4LlxuICAgICAgICB0YWIuaW5kZXggPSBpbmRleDtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb3JyZXNwb25kaW5nIHBhbmVsLlxuICAgICAgICB0YWIucGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggcGFuZWxJZCApO1xuICAgICAgICB0aGlzLmluaXRQYW5lbCggdGFiLnBhbmVsLCB0YWIsIHRhYmxpc3QsIGluZGV4ICk7XG5cbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSggJ3JvbGUnLCAndGFiJyApO1xuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCAnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScgKTtcbiAgICAgICAgdGFiLnNldEF0dHJpYnV0ZSggJ2FyaWEtY29udHJvbHMnLCBwYW5lbElkICk7XG4gICAgICAgIHRhYi5zZXRBdHRyaWJ1dGUoICd0YWJpbmRleCcsICctMScgKTtcblxuICAgICAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCBldmVudCApID0+IHRoaXMuY2xpY2tFdmVudExpc3RlbmVyKCBldmVudCApICk7XG4gICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCAna2V5ZG93bicsICggZXZlbnQgKSA9PiB0aGlzLmtleWRvd25FdmVudExpc3RlbmVyKCBldmVudCApICk7XG4gICAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCAna2V5dXAnLCAoIGV2ZW50ICkgPT4gdGhpcy5rZXl1cEV2ZW50TGlzdGVuZXIoIGV2ZW50ICkgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0YWxpemUgcGFuZWwgZnVuY3Rpb25hbGl0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFuZWwgVGhlIHBhbmVsIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFiIFRoZSBjb3JyZXNwb25kaW5nIHRhYiBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYmxpc3QgVGhlIHRhYmxpc3QgZWxlbWVudCBmb3IgdGhlIHRhYi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggVGhlIGluZGV4IGluIHBhbmVscy5cbiAgICAgKi9cbiAgICBpbml0UGFuZWwoIHBhbmVsLCB0YWIsIHRhYmxpc3QsIGluZGV4ICkge1xuICAgICAgICBpZiAoIGluZGV4ICE9PSAwICkge1xuICAgICAgICAgICAgLy8gSGlkZSBhbGwgYnV0IHRoZSBmaXJzdCB0YWIuXG4gICAgICAgICAgICBwYW5lbC5oaWRkZW4gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCAndGFiaW5kZXgnLCAnMCcgKTtcbiAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCAncm9sZScsICd0YWJwYW5lbCcgKTtcbiAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCAnYXJpYS1sYWJlbGxlZGJ5JywgdGFiLmlkICk7XG5cbiAgICAgICAgLy8gU3RvcmUgYSByZWZlcmVuY2UgZm9yIHRoZSB0YWJsaXN0LlxuICAgICAgICB0YWJsaXN0LnBhbmVscy5wdXNoKCBwYW5lbCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gYSB0YWIgaXMgY2xpY2tlZCwgYWN0aXZhdGVUYWIgaXMgZmlyZWQgdG8gYWN0aXZhdGUgaXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgKi9cbiAgICBjbGlja0V2ZW50TGlzdGVuZXIoIGV2ZW50ICkge1xuICAgICAgICAvLyBQcmV2ZW50IHRoZSBkZWZhdWx0IGNsaWNrIGV2ZW50LlxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHRhYiA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVRhYiggdGFiLCBmYWxzZSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSBrZXlkb3duIG9uIHRhYnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgKi9cbiAgICBrZXlkb3duRXZlbnRMaXN0ZW5lciggZXZlbnQgKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICAgIGNvbnN0IHRhYmxpc3QgPSBldmVudC50YXJnZXQudGFibGlzdDtcblxuICAgICAgICBzd2l0Y2ggKCBrZXkgKSB7XG4gICAgICAgIGNhc2Uga2V5cy5lbmQ6XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gQWN0aXZhdGUgbGFzdCB0YWJcbiAgICAgICAgICAgIHRoaXMuZm9jdXNMYXN0VGFiKCB0YWJsaXN0ICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBrZXlzLmhvbWU6XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgLy8gQWN0aXZhdGUgZmlyc3QgdGFiXG4gICAgICAgICAgICB0aGlzLmZvY3VzRmlyc3RUYWIoIHRhYmxpc3QgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIFVwIGFuZCBkb3duIGFyZSBpbiBrZXlkb3duIHRvIHByZXZlbnQgcGFnZSBzY3JvbGwuXG4gICAgICAgIGNhc2Uga2V5cy51cDpcbiAgICAgICAgY2FzZSBrZXlzLmRvd246XG4gICAgICAgICAgICB0aGlzLmRldGVybWluZU9yaWVudGF0aW9uKCBldmVudCApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2Uga2V5cy5lbnRlcjpcbiAgICAgICAgY2FzZSBrZXlzLnNwYWNlOlxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVUYWIoIGV2ZW50LnRhcmdldCwgZmFsc2UgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIGtleXVwIG9uIHRhYnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgKi9cbiAgICBrZXl1cEV2ZW50TGlzdGVuZXIoIGV2ZW50ICkge1xuICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXlDb2RlO1xuXG4gICAgICAgIHN3aXRjaCAoIGtleSApIHtcbiAgICAgICAgY2FzZSBrZXlzLmxlZnQ6XG4gICAgICAgIGNhc2Uga2V5cy5yaWdodDpcbiAgICAgICAgICAgIHRoaXMuZGV0ZXJtaW5lT3JpZW50YXRpb24oIGV2ZW50ICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gYSB0YWJsaXN0J3MgYXJpYS1vcmllbnRhdGlvbiBpcyBzZXQgdG8gdmVydGljYWwsXG4gICAgICogb25seSB1cCBhbmQgZG93biBhcnJvdyBzaG91bGQgZnVuY3Rpb24uXG4gICAgICogb25seSB1cCBhbmQgZG93biBhcnJvdyBzaG91bGQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIGRldGVybWluZU9yaWVudGF0aW9uKCBldmVudCApIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQua2V5Q29kZTtcbiAgICAgICAgY29uc3QgdmVydGljYWwgPSBldmVudC50YXJnZXQudGFibGlzdC5nZXRBdHRyaWJ1dGUoICdhcmlhLW9yaWVudGF0aW9uJyApID09PSAndmVydGljYWwnO1xuICAgICAgICBsZXQgcHJvY2VlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICggdmVydGljYWwgKSB7XG4gICAgICAgICAgICBpZiAoIGtleSA9PT0ga2V5cy51cCB8fCBrZXkgPT09IGtleXMuZG93biApIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHByb2NlZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCBrZXkgPT09IGtleXMubGVmdCB8fCBrZXkgPT09IGtleXMucmlnaHQgKSB7XG4gICAgICAgICAgICBwcm9jZWVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggcHJvY2VlZCApIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVGFiT25BcnJvd1ByZXNzKCBldmVudCApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWl0aGVyIGZvY3VzIHRoZSBuZXh0LCBwcmV2aW91cywgZmlyc3QsIG9yIGxhc3QgdGFiXG4gICAgICogZGVwZW5kaW5nIG9uIHRoZSBrZXkgcHJlc3NlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IG9iamVjdC5cbiAgICAgKi9cbiAgICBzd2l0Y2hUYWJPbkFycm93UHJlc3MoIGV2ZW50ICkge1xuICAgICAgICBjb25zdCBwcmVzc2VkID0gZXZlbnQua2V5Q29kZTtcblxuICAgICAgICBpZiAoIGRpcmVjdGlvblsgcHJlc3NlZCBdICkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgY29uc3QgdGFibGlzdCA9IHRhcmdldC50YWJsaXN0O1xuICAgICAgICAgICAgY29uc3QgdGFicyA9IHRhYmxpc3QudGFicztcbiAgICAgICAgICAgIGlmICggdGFyZ2V0LmluZGV4ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0YWJzWyB0YXJnZXQuaW5kZXggKyBkaXJlY3Rpb25bIHByZXNzZWQgXSBdICkge1xuICAgICAgICAgICAgICAgICAgICB0YWJzWyB0YXJnZXQuaW5kZXggKyBkaXJlY3Rpb25bIHByZXNzZWQgXSBdLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggcHJlc3NlZCA9PT0ga2V5cy5sZWZ0IHx8IHByZXNzZWQgPT09IGtleXMudXAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNMYXN0VGFiKCB0YWJsaXN0ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggcHJlc3NlZCA9PT0ga2V5cy5yaWdodCB8fCBwcmVzc2VkID09PSBrZXlzLmRvd24gKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNGaXJzdFRhYiggdGFibGlzdCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyBhbnkgZ2l2ZW4gdGFiIHBhbmVsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWIgQSB0YWIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNldEZvY3VzIFdoZXRoZXIgdG8gc2V0IGZvY3VzLlxuICAgICAqL1xuICAgIGFjdGl2YXRlVGFiKCB0YWIsIHNldEZvY3VzICkge1xuICAgICAgICAvLyBEZWFjdGl2YXRlIGFsbCBvdGhlciB0YWJzXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZVRhYnMoIHRhYi50YWJsaXN0ICk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRhYmluZGV4IGF0dHJpYnV0ZS5cbiAgICAgICAgdGFiLnJlbW92ZUF0dHJpYnV0ZSggJ3RhYmluZGV4JyApO1xuXG4gICAgICAgIC8vIFNldCB0aGUgdGFiIGFzIHNlbGVjdGVkLlxuICAgICAgICB0YWIuc2V0QXR0cmlidXRlKCAnYXJpYS1zZWxlY3RlZCcsICd0cnVlJyApO1xuXG4gICAgICAgIC8vIFNldCBCdWxtYSBjbGFzcy5cbiAgICAgICAgdGFiLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCggJ2lzLWFjdGl2ZScgKTtcblxuICAgICAgICAvLyBSZW1vdmUgaGlkZGVuIGF0dHJpYnV0ZSBmcm9tIHRhYiBwYW5lbCB0byBtYWtlIGl0IHZpc2libGUuXG4gICAgICAgIHRhYi5wYW5lbC5yZW1vdmVBdHRyaWJ1dGUoICdoaWRkZW4nICk7XG5cbiAgICAgICAgLy8gU2V0IGZvY3VzIHdoZW4gcmVxdWlyZWQuXG4gICAgICAgIGlmICggc2V0Rm9jdXMgKSB7XG4gICAgICAgICAgICB0YWIucGFuZWwuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYWN0aXZhdGUgYWxsIHRhYnMgYW5kIHRhYiBwYW5lbHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYmxpc3QgVGhlIHRhYmxpc3QgZWxlbWVudC5cbiAgICAgKi9cbiAgICBkZWFjdGl2YXRlVGFicyggdGFibGlzdCApIHtcbiAgICAgICAgZm9yICggbGV0IHQgPSAwOyB0IDwgdGFibGlzdC50YWJzLmxlbmd0aDsgdCsrICkge1xuICAgICAgICAgICAgdGFibGlzdC50YWJzWyB0IF0ucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCAnaXMtYWN0aXZlJyApO1xuICAgICAgICAgICAgdGFibGlzdC50YWJzWyB0IF0uc2V0QXR0cmlidXRlKCAndGFiaW5kZXgnLCAnLTEnICk7XG4gICAgICAgICAgICB0YWJsaXN0LnRhYnNbIHQgXS5zZXRBdHRyaWJ1dGUoICdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICggbGV0IHAgPSAwOyBwIDwgdGFibGlzdC5wYW5lbHMubGVuZ3RoOyBwKysgKSB7XG4gICAgICAgICAgICB0YWJsaXN0LnBhbmVsc1sgcCBdLnNldEF0dHJpYnV0ZSggJ2hpZGRlbicsICdoaWRkZW4nICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2N1cyBvbiB0aGUgZmlyc3QgdGFiIGluIHRoZSB0YWJsaXN0IG9mIHRoZSBnaXZlbiB0YWIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YWJsaXN0IEEgdGFibGlzdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGZvY3VzRmlyc3RUYWIoIHRhYmxpc3QgKSB7XG4gICAgICAgIHRhYmxpc3QuZmlyc3RUYWIuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2N1cyBvbiB0aGUgbGFzdCB0YWIgaW4gdGhlIHRhYmxpc3Qgb2YgdGhlIGdpdmVuIHRhYi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYmxpc3QgQSB0YWJsaXN0IGVsZW1lbnQuXG4gICAgICovXG4gICAgZm9jdXNMYXN0VGFiKCB0YWJsaXN0ICkge1xuICAgICAgICB0YWJsaXN0Lmxhc3RUYWIuZm9jdXMoKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIE1vZGFsIEpTIGNvbnRyb2xsZXIuXG4gKi9cblxuLyoqXG4gKiBDbGFzcyBNb2RhbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbCB7XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgcnVuIHdoZW4gYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIGNsYXNzIGlzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIFRoaXMgbXVzdCBiZSBzZXQgZm9yIGVhY2ggY29tcG9uZW50LlxuICAgICAgICB0aGlzLmRvY3VtZW50YXRpb24gPSByZXF1aXJlKCAnLi9yZWFkbWUubWQnICk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdET01Db250ZW50TG9hZGVkJyxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvY1JlYWR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FjaGUgZG9tIGVsZW1lbnRzIGZvciB1c2UgaW4gdGhlIGNsYXNzJ3MgbWV0aG9kc1xuICAgICAqL1xuICAgIGNhY2hlKCkge1xuICAgICAgICB0aGlzLnJvb3RFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgdGhpcy4kbW9kYWxzID0gW107XG4gICAgICAgIHRoaXMuJG1vZGFsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcubW9kYWwtYnV0dG9uJyApO1xuICAgICAgICB0aGlzLiRtb2RhbENsb3NlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICcubW9kYWwtYmFja2dyb3VuZCwgLm1vZGFsLWNsb3NlLCAubW9kYWwtY2FyZC1oZWFkIC5kZWxldGUsIC5tb2RhbC1jYXJkLWZvb3QgLmJ1dHRvbiwgLm1vZGFsLWNsb3NlLWJ1dHRvbicgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGV2ZW50cygpIHtcbiAgICAgICAgLy8gQmluZCBoYW5kbGVycyB0byBlYWNoIG1vZGFsIG9wZW4gYnV0dG9uLlxuICAgICAgICBpZiAoIHRoaXMuJG1vZGFsQnV0dG9ucy5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgdGhpcy4kbW9kYWxCdXR0b25zLmZvckVhY2goICggYnV0dG9uICkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGJ1dHRvbi5nZXRBdHRyaWJ1dGUoICdhcmlhLWNvbnRyb2xzJyApICk7XG4gICAgICAgICAgICAgICAgbW9kYWwub3BlbmluZ0J1dHRvbiA9IGJ1dHRvbjtcbiAgICAgICAgICAgICAgICBtb2RhbC5pc09wZW5lZCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy4kbW9kYWxzLnB1c2goIG1vZGFsICk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTW9kYWwoIG1vZGFsICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQXJpYUV4cGFuZGVkKCBidXR0b24gKTtcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCaW5kIGhhbmRsZXJzIHRvIGVhY2ggbW9kYWwgY2xvc2UgYnV0dG9uLlxuICAgICAgICBpZiAoIHRoaXMuJG1vZGFsQ2xvc2VzLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICB0aGlzLiRtb2RhbENsb3Nlcy5mb3JFYWNoKCAoIGJ1dHRvbiApID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWxzKCk7XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmluZCBtb2RhbCBjbG9zaW5nIGhhbmRsZXIgdG8gRVNDIGtleS5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCAoIGV2ZW50ICkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIGlmICggZS5rZXlDb2RlID09PSAyNyApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTW9kYWxzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhbmRsZXMgb3BlbmluZyB0aGUgbW9kYWwgdGhhdCB3YXMgYXNzb2NpYXRlZCB3aXRoXG4gICAgICogdGhlIGNsaWNrZWQgbW9kYWwgb3BlbmluZyBidXR0b24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG1vZGFsIFRoZSBtb2RhbCB0aGF0IGlzIG9wZW5lZC5cbiAgICAgKi9cbiAgICBvcGVuTW9kYWwoIG1vZGFsICkge1xuICAgICAgICB0aGlzLnJvb3RFbC5jbGFzc0xpc3QuYWRkKCAnaXMtY2xpcHBlZCcgKTtcbiAgICAgICAgbW9kYWwuY2xhc3NMaXN0LmFkZCggJ2lzLWFjdGl2ZScgKTtcbiAgICAgICAgbW9kYWwuaXNPcGVuZWQgPSAxO1xuXG4gICAgICAgIC8vIENvbGxlY3QgZWFjaCBmb2N1c2FibGUgZWxlbWVudCBpbnNpZGUgdGhlIG1vZGFsLlxuICAgICAgICBjb25zdCBmb2N1c2FibGVFbGVtZW50cyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoICdhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHRleHRhcmVhOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgW3RhYmluZGV4PVwiMFwiXScgKTtcblxuICAgICAgICAvLyBTZXQgZmlyc3QgYW5kIGxhc3QgZm9jdXNhYmxlIGVsZW1lbnQgYXMgY2xhc3MgcGFyYW1ldGVycy5cbiAgICAgICAgLy8gU2V0IGZvY3VzIHRvIHRoZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudC5cbiAgICAgICAgaWYgKCBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggKSB7XG4gICAgICAgICAgICBtb2RhbC5mb2N1c2FibGVFbGVtZW50cyA9IGZvY3VzYWJsZUVsZW1lbnRzO1xuICAgICAgICAgICAgbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMuZmlyc3QgPSBmb2N1c2FibGVFbGVtZW50c1sgMCBdO1xuICAgICAgICAgICAgbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMubGFzdCA9IGZvY3VzYWJsZUVsZW1lbnRzWyBmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSAxIF07XG4gICAgICAgICAgICBtb2RhbC5mb2N1c2FibGVFbGVtZW50cy5maXJzdC5mb2N1cygpO1xuXG4gICAgICAgICAgICAvLyBCaW5kIG1vZGFsIGZvY3VzIGxvb3AgaGFuZGxlciB0byBkb2N1bWVudCB3aGVuIG1vZGFsIGlzIG9wZW5lZC5cbiAgICAgICAgICAgIC8vIElmIHByZXNzZWQga2V5IHdhcyAnVGFiJywgY2FsbCB0YWIgaGFuZGxpbmcgbWV0aG9kLlxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCAoIGV2ZW50ICkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCBlLmtleUNvZGUgPT09IDkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlTW9kYWxUYWJiaW5nKCBlLCBtb2RhbCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2xvc2VzIGFsbCBtb2RhbHMgYW5kIHNldHMgZm9jdXMgYmFjayB0byB0aGUgZWxlbWVudCB0aGF0IHdhcyB1c2VkXG4gICAgICogdG8gb3BlbiB0aGUgY3VycmVudCB2aXNpYmxlIG1vZGFsLlxuICAgICAqL1xuICAgIGNsb3NlTW9kYWxzKCkge1xuICAgICAgICB0aGlzLnJvb3RFbC5jbGFzc0xpc3QucmVtb3ZlKCAnaXMtY2xpcHBlZCcgKTtcbiAgICAgICAgdGhpcy4kbW9kYWxzLmZvckVhY2goICggbW9kYWwgKSA9PiB7XG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCAnaXMtYWN0aXZlJyApO1xuICAgICAgICAgICAgaWYgKCBtb2RhbC5pc09wZW5lZCApIHtcbiAgICAgICAgICAgICAgICBtb2RhbC5vcGVuaW5nQnV0dG9uLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVBcmlhRXhwYW5kZWQoIG1vZGFsLm9wZW5pbmdCdXR0b24gKTtcbiAgICAgICAgICAgICAgICBtb2RhbC5pc09wZW5lZCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhbmRsZXMgVGFiIGtleSBwcmVzc2VzIGFuZCBsb29wcyBmb2N1cyBiYWNrIHRvIHRoZSBmaXJzdFxuICAgICAqIGZvY3VzYWJsZSBlbGVtZW50IGluc2lkZSB0aGUgbW9kYWwuIElmIGEgdXNlciBuYXZpZ2F0ZXMgYmFja3dhcmRzXG4gICAgICogdXNpbmcgc2hpZnQgKyB0YWIsIHRoZSBsb29wIGlzIGhhbmRsZWQgcHJvcGVybHkgdG8gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZXZlbnR9IGUgS2V5IHByZXNzIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbW9kYWwgVGhlIG1vZGFsIHRoYXQgaXMgY3VycmVudGx5IHZpc2libGUuXG4gICAgICovXG4gICAgaGFuZGxlTW9kYWxUYWJiaW5nKCBlLCBtb2RhbCApIHtcbiAgICAgICAgLy8gSWYgc2hpZnQgKyB0YWIgcHVzaGVkLlxuICAgICAgICBpZiAoIGUuc2hpZnRLZXkgKSB7XG4gICAgICAgICAgICAvLyBGb2N1cyB0aGUgbGFzdCBlbGVtZW50IGlmIGZvY3VzIHdhcyBvbiB0aGUgZmlyc3QgZWxlbWVudC5cbiAgICAgICAgICAgIGlmICggbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMuZmlyc3QgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzLmxhc3QuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICggbW9kYWwuZm9jdXNhYmxlRWxlbWVudHMubGFzdCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCApIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG1vZGFsLmZvY3VzYWJsZUVsZW1lbnRzLmZpcnN0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRvZ2dsZXIncyBhcmlhLWV4cGFuZGVkIGN1cnJlbnQgc3RhdGUgYW5kIHNldCBhIG5ldyBvcHBvc2l0ZSBzdGF0ZSB0byBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRvZ2dsZXIgVGhlIHRvZ2dsZXIgZWxlbWVudC5cbiAgICAgKi9cbiAgICB0b2dnbGVBcmlhRXhwYW5kZWQoIHRvZ2dsZXIgKSB7XG4gICAgICAgIGNvbnN0IGFyaWFFeHBhbmRlZFN0YXRlID0gdG9nZ2xlci5nZXRBdHRyaWJ1dGUoICdhcmlhLWV4cGFuZGVkJyApID09PSAnZmFsc2UnID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB0b2dnbGVyLnNldEF0dHJpYnV0ZSggJ2FyaWEtZXhwYW5kZWQnLCBhcmlhRXhwYW5kZWRTdGF0ZSApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJ1biB3aGVuIHRoZSBkb2N1bWVudCBpcyByZWFkeS5cbiAgICAgKi9cbiAgICBkb2NSZWFkeSgpIHtcbiAgICAgICAgdGhpcy5jYWNoZSgpO1xuICAgICAgICB0aGlzLmV2ZW50cygpO1xuICAgIH1cbn1cbiIsIi8qKlxuICogTWVzc2FnZSBKUyBjb250cm9sbGVyLlxuICovXG5cbi8qKlxuICogQ2xhc3MgTWVzc2FnZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNzYWdlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3QgdGhlIGNvbXBvbmVudCBoYW5kbGVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBUaGlzIG11c3QgYmUgc2V0IGZvciBlYWNoIGNvbXBvbmVudC5cbiAgICAgICAgdGhpcy5kb2N1bWVudGF0aW9uID0gcmVxdWlyZSggJy4vcmVhZG1lLm1kJyApO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFsbCBtZXNzYWdlIGVsZW1lbnRzIGFuZCBpbml0YWxpemUgdGhlaXIgY2xvc2luZyBmdW5jdGlvbmFsaXR5LlxuICAgICAqL1xuICAgIGluaXRNZXNzYWdlcygpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmJ1bG1hbGx5LW1lc3NhZ2UnICk7XG5cbiAgICAgICAgZm9yICggbGV0IGkgPSAwOyBpIDwgbWVzc2FnZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBNZXNzYWdlLmluaXRNZXNzYWdlKCBtZXNzYWdlc1sgaSBdICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBjbG9zaW5nIGZ1bmN0aW9uYWxpdGllcyBmb3IgYSBtZXNzYWdlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBtZXNzYWdlRWxlbWVudCBBIG1lc3NhZ2UgZWxlbWVudC5cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdE1lc3NhZ2UoIG1lc3NhZ2VFbGVtZW50ICkge1xuICAgICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBtZXNzYWdlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCAnLmRlbGV0ZScgKTtcbiAgICAgICAgZGVsZXRlQnV0dG9uLm1lc3NhZ2UgPSBtZXNzYWdlRWxlbWVudDtcblxuICAgICAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgTWVzc2FnZS5kZWxldGUgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBjbGljayBldmVudCBvZiBhIGRlbGV0ZSBidXR0b24gYW5kIGRlbGV0ZXMgdGhlIG1lc3NhZ2UuXG4gICAgICogRm9jdXMgaXMgc2V0IG9uIHRoZSBuZXh0IGVsZW1lbnQgYmVmb3JlIGRlbGV0aW5nIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgQW4gZXZlbnQgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBkZWxldGUoIGV2ZW50ICkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQudGFyZ2V0Lm1lc3NhZ2U7XG4gICAgICAgIGxldCBmb2N1c1RvID0gbWVzc2FnZS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cbiAgICAgICAgaWYgKCAhIGZvY3VzVG8gKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHNpYmxpbmcgZm9yIHRoZSBtZXNzYWdlLFxuICAgICAgICAgICAgLy8gbW92ZSBmb2N1cyB0byB0aGUgcGFyZW50IG5vZGUuXG4gICAgICAgICAgICBmb2N1c1RvID0gbWVzc2FnZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yY2UgYWJpbGl0eSB0byBnaXZlIGZvY3VzIG9uIHRoZSBzaWJsaW5nLlxuICAgICAgICBpZiAoIGZvY3VzVG8udGFiSW5kZXggIT09IDAgKSB7XG4gICAgICAgICAgICBmb2N1c1RvLnNldEF0dHJpYnV0ZSggJ3RhYmluZGV4JywgLTEgKTtcbiAgICAgICAgfVxuICAgICAgICBmb2N1c1RvLmZvY3VzKCk7XG5cbiAgICAgICAgbWVzc2FnZS5yZW1vdmUoKTtcbiAgICB9XG59XG4iLCIvLyBUaGlzIGFkZHMgZnVuY3Rpb25hbGl0aWVzIHRvIGFkZCBoaWdsaWdodGVkIG1hcmtkb3duIHN1cHBvcnRlZCBkb2N1bWVudGF0aW9uXG4vLyBmb3IgQnVsbWFsbHkgY29tcG9udGVudHMuXG5cbmltcG9ydCBobGpzIGZyb20gJ2hpZ2hsaWdodC5qcy9saWIvaGlnaGxpZ2h0JztcbmltcG9ydCBqYXZhc2NyaXB0IGZyb20gJ2hpZ2hsaWdodC5qcy9saWIvbGFuZ3VhZ2VzL2phdmFzY3JpcHQnO1xuaW1wb3J0IHNjc3MgZnJvbSAnaGlnaGxpZ2h0LmpzL2xpYi9sYW5ndWFnZXMvc2Nzcyc7XG5cbmhsanMucmVnaXN0ZXJMYW5ndWFnZSggJ2phdmFzY3JpcHQnLCBqYXZhc2NyaXB0ICk7XG5obGpzLnJlZ2lzdGVyTGFuZ3VhZ2UoICdzY3NzJywgc2NzcyApO1xuXG5jbGFzcyBEb2N1bWVudGF0aW9uIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgZG9jdW1lbnRhdGlvbiBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb21wb25lbnRzIFRoZSBjb21wb25lbnQgb2JqZWN0cyBtYXAuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoIGNvbXBvbmVudHMgKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdET01Db250ZW50TG9hZGVkJyxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXREb2N1bWVudGF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIG1hcmtkb3duIGRvY3VtZW50YXRpb24gaWYgb24gYVxuICAgICAqL1xuICAgIGluaXREb2N1bWVudGF0aW9uKCkge1xuICAgICAgICBjb25zdCBwYXRobmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcblxuICAgICAgICBmb3IgKCBjb25zdCBzbHVnIGluIHRoaXMuY29tcG9uZW50cyApIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1sgc2x1ZyBdO1xuXG4gICAgICAgICAgICBpZiAoICEgcGF0aG5hbWUuaW5jbHVkZXMoIHNsdWcgKSB8fCAhIGNvbXBvbmVudC5kb2N1bWVudGF0aW9uICkge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiwgaWYgdGhpcyBjb21wb25lbnQgaXMgbm90IGN1cnJlbnRseSB2aWV3ZWRcbiAgICAgICAgICAgICAgICAvLyBvciB0aGUgY29tcG9uZW50IGRvZXMgbm90IGNvbnRhaW4gZG9jdW1lbnRhdGlvbi5cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBjb250YWluZXIgZm9yIHRoZSBtYXJrZG93biBkb2N1bWVudC5cbiAgICAgICAgICAgIGNvbnN0IGRvY0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnanMtbWFya2Rvd24nICk7XG5cbiAgICAgICAgICAgIGlmICggISBkb2NDb250YWluZXIgKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEFkZCBkb2N1bWVudGF0aW9uIHRvIHRoZSBjb250YWluZXIuXG4gICAgICAgICAgICBkb2NDb250YWluZXIuaW5uZXJIVE1MID0gY29tcG9uZW50LmRvY3VtZW50YXRpb247XG5cbiAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBjb2RlIGJsb2Nrcy5cbiAgICAgICAgICAgIGRvY0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCAnY29kZScgKS5mb3JFYWNoKCAoIGJsb2NrICkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdyYXAgYWxsIGNvZGUgYmxvY2tzIHdpdGggYSBwcmUgdGFnLlxuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAncHJlJyApO1xuICAgICAgICAgICAgICAgIGJsb2NrLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCB3cmFwcGVyLCBibG9jayApO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoIGJsb2NrICk7XG5cbiAgICAgICAgICAgICAgICBobGpzLmhpZ2hsaWdodEJsb2NrKCBibG9jayApO1xuICAgICAgICAgICAgfSApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBEb2N1bWVudGF0aW9uO1xuIiwiLy8gSW1wb3J0IG1haW4gc3R5bGUgZmlsZSBoZXJlLlxuaW1wb3J0ICcuLi9zY3NzL2FwcC5zY3NzJztcblxuLy8gSW1wb3J0IGluZGl2aWR1YWwgY29tcG9uZW50IGNsYXNzZXMgaGVyZS5cbmltcG9ydCBCb2lsZXJQbGF0ZSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2JvaWxlcnBsYXRlL2JvaWxlcnBsYXRlJztcbmltcG9ydCBOYXZiYXIgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9uYXZiYXIvbmF2YmFyJztcbmltcG9ydCBBY2NvcmRpb24gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9hY2NvcmRpb24vYWNjb3JkaW9uJztcbmltcG9ydCBUYWJzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvdGFicy90YWJzJztcbmltcG9ydCBNb2RhbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL21vZGFsL21vZGFsJztcbmltcG9ydCBNZXNzYWdlIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbWVzc2FnZS9tZXNzYWdlJztcblxuLy8gUnVuIGNvbXBvbmVudHMgYW5kIGFkZCB0aGVtIHRvIHRoZSBtYXBcbi8vIHRoZSBjb21wb25lbnQgc2x1ZyBiZWluZyB0aGUga2V5LlxuY29uc3QgY29tcG9uZW50cyA9IHtcbiAgICBib2lsZXJwbGF0ZTogbmV3IEJvaWxlclBsYXRlKCksXG4gICAgbmF2YmFyOiBuZXcgTmF2YmFyKCksXG4gICAgYWNjb3JkaW9uOiBuZXcgQWNjb3JkaW9uKCksXG4gICAgdGFiczogbmV3IFRhYnMoKSxcbiAgICBtb2RhbDogbmV3IE1vZGFsKCksXG4gICAgbWVzc2FnZTogbmV3IE1lc3NhZ2UoKSxcbn07XG5cbi8vIEluaXRpYWxpemUgZG9jdW1lbnRhdGlvbiBmdW5jdGlvbmFsaXRpZXMuXG5pbXBvcnQgRG9jdW1lbnRhdGlvbiBmcm9tICcuL2RvY3VtZW50YXRpb24nO1xubmV3IERvY3VtZW50YXRpb24oIGNvbXBvbmVudHMgKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=